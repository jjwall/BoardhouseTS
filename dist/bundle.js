!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=191)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.8.2",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(0);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(5);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(26);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(49);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(10);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(51);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(50);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(28);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(30);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(119);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(34);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(122);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(138);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(64);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var _=r(65);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(_).default}});var m=r(140);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(m).default}});var b=r(66);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(142);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(149);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var w=r(150);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(w).default}});var E=r(7);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(E).default}});var S=r(62);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(S).default}});var O=r(9);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(O).default}});var M=r(33);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(M).default}});var P=r(57);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(P).default}});var C=r(54);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(55);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var R=r(58);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(R).default}});var I=r(13);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(I).default}});var D=r(12);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(17);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(19);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(63);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(60);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var B=r(61);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(B).default}});var j=r(67);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(j).default}});var U=r(68);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(2)),W=V(r(32)),H=z(r(3)),G=z(r(11)),Y=z(r(18));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=H.default,e.utils=X,e.ticker=W,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in g)g[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in g)delete g[t]},e.correctBlendMode=function(t,e){return _[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=d(r(3)),o=d(r(8)),s=d(r(107)),a=f(r(108)),u=f(r(27)),h=d(r(109)),l=d(r(110)),c=d(r(29));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),g=e.BaseTextureCache=Object.create(null);var _=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(105)),i=o(r(106));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(22);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(38);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(23);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(39);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(95);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(96);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(97);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(24);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(98);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var n={createContext:r(99),setVertexAttribArrays:r(40),GLBuffer:r(100),GLFramebuffer:r(101),GLShader:r(102),GLTexture:r(41),VertexArrayObject:r(103),shader:r(104)};t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return(n?"/":"")+(e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"))||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(125))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(9)),o=c(r(54)),s=c(r(55)),a=c(r(8)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(h.noFrame=!1,n||(h.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=n,h.trim=o,h.valid=!1,h.requiresUpdate=!1,h._uvs=null,h.orig=i||n,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(h.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",h.onBaseTextureUpdated,h)),h.frame=n):r.once("loaded",h.onBaseTextureLoaded,h),h.defaultAnchor=a?new u.Point(a.x,a.y):new u.Point(0,0),h._updateID=0,h.transform=null,h.textureCacheIds=[],h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=u(r(3)),o=u(r(8)),s=u(r(52)),a=u(r(31));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),s=r(49);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(56)),i=l(r(120)),o=l(r(58)),s=l(r(121)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,n,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(n,u||s.default.PRECISION_VERTEX),a(i,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,r){"use strict";var n=r(174).default,i=r(36).default,o=r(83),s=r(84);n.Resource=i,n.async=o,n.base64=s,t.exports=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(7),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,n,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.vertexDirty=0,h.autoUpdate=!0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*i[a],c=2*i[a+1],f=2*i[a+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},e.prototype.destroy=function(e){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(89);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(1);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,s=r(151),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(152)),h=g(r(154)),l=g(r(70)),c=g(r(164)),f=g(r(171)),d=g(r(173)),p=g(r(177)),v=g(r(182)),y=g(r(187));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var _=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=_,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(21))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=_(r(56)),i=_(r(123)),o=_(r(126)),s=_(r(127)),a=_(r(19)),u=_(r(17)),h=_(r(129)),l=_(r(9)),c=_(r(130)),f=_(r(131)),d=_(r(133)),p=_(r(134)),v=r(2),y=_(r(5)),g=r(0);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=m++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(4),o=r(0),s=r(3),a=(n=s)&&n.__esModule?n:{default:n},u=r(5);var h=function(){function t(e,r,n,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),M=b-T,P=0,C=0,A=0,R=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p;var D=t.lineAlignment,L=2*(1-D),N=2*D;h.push(b-O*L,x-M*L,g,_,m,y),h.push(b+O*N,x+M*N,g,_,m,y);for(var k=1;k<c-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],T=r[2*k],w=r[2*k+1],E=r[2*(k+1)],S=r[2*(k+1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,P=-(w-S),C=T-E,I=Math.sqrt(P*P+C*C),P/=I,C/=I;var F=-M+x-(-M+w),B=-O+T-(-O+b),j=(-O+b)*(-M+w)-(-O+T)*(-M+x),U=-(C*=p)+S-(-C+w),X=-(P*=p)+T-(-P+E),W=(-P+E)*(-C+w)-(-P+T)*(-C+S),H=F*X-U*B;if(Math.abs(H)<.1)H+=10.1,h.push(T-O*L,w-M*L,g,_,m,y),h.push(T+O*N,w+M*N,g,_,m,y);else{var G=(B*W-X*j)/H,Y=(U*j-F*W)/H,V=(G-T)*(G-T)+(Y-w)*(Y-w);V>196*p*p?(A=O-P,R=M-C,I=Math.sqrt(A*A+R*R),A/=I,R/=I,A*=p,R*=p,h.push(T-A*L,w-R*L),h.push(g,_,m,y),h.push(T+A*N,w+R*N),h.push(g,_,m,y),h.push(T-A*N*L,w-R*L),h.push(g,_,m,y),f++):(h.push(T+(G-T)*L,w+(Y-w)*L),h.push(g,_,m,y),h.push(T-(G-T)*N,w-(Y-w)*N),h.push(g,_,m,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,h.push(T-O*L,w-M*L),h.push(g,_,m,y),h.push(T+O*N,w+M*N),h.push(g,_,m,y),l.push(d);for(var z=0;z<f;++z)l.push(d++);l.push(d-1)}(t,e)};var n=r(4),i=r(2)},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(22),s=(n=o)&&n.__esModule?n:{default:n},a=r(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*n+u*r+l)<f?y:f,d=(g=a*n+h*r+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*e+u*i+l)<f?y:f,d=(g=a*e+h*i+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,f=(y=s*n+u*i+l)<f?y:f,d=(g=a*n+h*i+c)<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,m=u*g+s*y+l;c=_<c?_:c,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e,r){var n,i,o,s,a,u,h,l,c,f,d,p,v,y,g,_,m,b,x,T,w,E;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
s=this,a=/iPhone/i,u=/iPod/i,h=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:T(a,e),ipod:T(u,e),tablet:!T(a,e)&&T(h,e),device:T(a,e)||T(u,e)||T(h,e)},this.amazon={phone:T(f,e),tablet:!T(f,e)&&T(d,e),device:T(f,e)||T(d,e)},this.android={phone:T(f,e)||T(l,e),tablet:!T(f,e)&&!T(l,e)&&(T(d,e)||T(c,e)),device:T(f,e)||T(d,e)||T(l,e)||T(c,e)},this.windows={phone:T(p,e),tablet:T(v,e),device:T(p,e)||T(v,e)},this.other={blackberry:T(y,e),blackberry10:T(g,e),opera:T(_,e),firefox:T(b,e),chrome:T(m,e),device:T(y,e)||T(g,e)||T(_,e)||T(b,e)||T(m,e)},this.seven_inch=T(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var t=new w;return t.Class=w,t},t.exports&&"undefined"==typeof window?t.exports=w:t.exports&&"undefined"!=typeof window?t.exports=E():(i=[],n=s.isMobile=E(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=i(t,0,g,r,!0),m=[];if(!_)return m;if(y&&(_=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)(l=t[b])<n&&(n=l),(d=t[b+1])<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(_,m,r,n,a,v),m}function i(t,e,r,n,i){var o,s;if(i===S(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!_(i,o)&&m(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),w(n),w(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&b(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,n){return!!(_(t,e)&&_(r,n)||_(t,n)&&_(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(4),o=r(2),s=r(0),a=h(r(7)),u=h(r(10));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||a.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n,i=r(117),o=(n=i)&&n.__esModule?n:{default:n};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(57));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(7)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=r(59);var s={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(82)),o=s(r(81));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(88),s=(n=o)&&n.__esModule?n:{default:n};var a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,r||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(23),o=(n=i)&&n.__esModule?n:{default:n};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=f(s[t]*s[r]+u[t]*a[r]),i=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===i&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=d},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e,r){var n=r(25),i=r(44),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(25),i=r(46);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(8)),o=r(0),s=c(r(3)),a=c(r(50)),u=c(r(51)),h=c(r(26)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n,i=r(53),o=(n=i)&&n.__esModule?n:{default:n};var s=void 0},function(t,e,r){"use strict";var n=r(111),i=r(113);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(114);function m(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var m=t=h.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(m);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,m=m.substr(x.length)}if(r||x||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===m.substr(0,2);!w||x&&y[x]||(m=m.substr(2),this.slashes=!0)}if(!y[x]&&(w||x&&!g[x])){for(var E,S,O=-1,M=0;M<f.length;M++){-1!==(P=m.indexOf(f[M]))&&(-1===O||P<O)&&(O=P)}-1!==(S=-1===O?m.lastIndexOf("@"):m.lastIndexOf("@",O))&&(E=m.slice(0,S),m=m.slice(S+1),this.auth=decodeURIComponent(E)),O=-1;for(M=0;M<c.length;M++){var P;-1!==(P=m.indexOf(c[M]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=m.length),this.host=m.slice(0,O),m=m.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),R=(M=0,A.length);M<R;M++){var I=A[M];if(I&&!I.match(d)){for(var D="",L=0,N=I.length;L<N;L++)I.charCodeAt(L)>127?D+="x":D+=I[L];if(!D.match(d)){var k=A.slice(0,M),F=A.slice(M+1),B=I.match(p);B&&(k.push(B[1]),F.unshift(B[2])),F.length&&(m="/"+F.join(".")+m),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+j,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[T])for(M=0,R=l.length;M<R;M++){var X=l[M];if(-1!==m.indexOf(X)){var W=encodeURIComponent(X);W===X&&(W=escape(X)),m=m.split(X).join(W)}}var H=m.indexOf("#");-1!==H&&(this.hash=m.substr(H),m=m.slice(0,H));var G=m.indexOf("?");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var Y=this.search||"";this.path=j+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],O=(r.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,M=0,P=w.length;P>=0;P--)"."===(S=w[P])?w.splice(P,1):".."===S?(w.splice(P,1),M++):M&&(w.splice(P,1),M--);if(!x&&!T)for(;M--;M)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),O&&"/"!==w.join("/").substr(-1)&&w.push("");var C,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=A?"":w.length?w.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&w.length)&&!A&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(9)),o=r(2),s=r(32),a=r(0),u=h(r(52));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),i.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(c(t[s].src||t[s],t[s].mime));else i.appendChild(c(o,t.mime));return i.load(),e.fromVideo(i,r)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){e||(e="video/"+(t=t.split("?").shift().toLowerCase()).substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(39),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(10)),h=c(r(33)),l=c(r(8));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(9)),i=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(61)),i=r(4),o=(r(6),s(r(62)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(124)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(23),s=(n=o)&&n.__esModule?n:{default:n};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(35));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},a=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),c(this,e,e)}return t.prototype.clone=function(){var e={};return c(e,this,s),new t(e)},t.prototype.reset=function(){c(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&a.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=l(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=l(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=l(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function h(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function l(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function c(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=null==n?r.wordWrap:n;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i=0,o="",s="",a={},u=r.letterSpacing,h=r.whiteSpace,l=t.collapseSpaces(h),c=t.collapseNewlines(h),f=!l,d=r.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var y=p[v];if(t.isNewline(y)){if(!c){s+=t.addLine(o),f=!l,o="",i=0;continue}y=" "}if(l){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(o[o.length-1]);if(g&&_)continue}var m=t.getFromCache(y,u,a,n);if(m>d)if(""!==o&&(s+=t.addLine(o),o="",i=0),t.canBreakWords(y,r.breakWords))for(var b=y.split(""),x=0;x<b.length;x++){for(var T=b[x],w=1;b[x+w];){var E=b[x+w],S=T[T.length-1];if(t.canBreakChars(S,E,y,x,r.breakWords))break;T+=E,w++}x+=T.length-1;var O=t.getFromCache(T,u,a,n);O+i>d&&(s+=t.addLine(o),f=!1,o="",i=0),o+=T,i+=O}else{o.length>0&&(s+=t.addLine(o),o="",i=0);var M=v===p.length-1;s+=t.addLine(y,!M),f=!1,o="",i=0}else m+i>d&&(f=!1,s+=t.addLine(o),o="",i=0),(o.length>0||!t.isBreakingSpace(y)||f)&&(o+=y,i+=m)}return s+=t.addLine(o,!1)},t.addLine=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var h=i.getImageData(0,0,s,u).data,l=h.length,c=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var v=0;v<c;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d+=c}for(r.ascent=a-f,d=l-c,p=!1,f=u;f>a;--f){for(var y=0;y<c;y+=4)if(255!==h[d+y]){p=!0;break}if(p)break;d-=c}return r.descent=f-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={},n.METRICS_STRING="|Éq",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.lineAlignment=h,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(68),o=h(r(10)),s=r(32),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(11)),o=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(157);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(158);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(159);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(160);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(161),r(162),r(163)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(72)),s=u(r(73)),a=u(r(74));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(72)),s=u(r(73)),a=u(r(74));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0,e.parse=s,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var o=t.data.getElementsByTagName("page"),a={},u=function(r){a[r.metadata.pageFile]=r.texture,Object.keys(a).length===o.length&&(s(t,a),e())},h=0;h<o.length;++h){var l=o[h].getAttribute("file"),c=r+l,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===c){p.metadata.pageFile=l,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,v,u)}}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6)),i=r(14),o=r(70);function s(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,n,function(r){if(r.error)e(r.error);else{var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=u;var n,i=r(14),o=r(53),s=(n=o)&&n.__esModule?n:{default:n},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(14),o=r(7),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(15),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=i||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;i.push(y,g,_),i.push(g,m,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";r(90),r(92),r(93),r(94),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";var n,i=r(91),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(21))},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(24),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(24),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(22),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],a=0,u=r.length;a<u;a++)i.push(r[a].x,r[a].y);r=i}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e,r){var n=r(41),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e,r){var n=r(42),i=r(43),o=r(45),s=r(47),a=r(48),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(40);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){t.exports={compileProgram:r(42),defaultValue:r(46),extractAttributes:r(43),extractUniforms:r(45),generateUniformAccessObject:r(48),setPrecision:r(47),mapSize:r(44),mapType:r(25)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=r(27),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";r.r(e),e.default=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(0)},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(b[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function O(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(m,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function P(t){return S(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;n+=h)t=T(t/x);return T(n+(x+1)*t/(t+f))}function R(t){var e,r,n,i,o,s,a,f,d,g,_,m=[],b=t.length,x=0,w=v,S=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=x,s=1,a=h;i>=b&&E("invalid-input"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||f>T((u-x)/s))&&E("overflow"),x+=f*s,!(f<(d=a<=S?l:a>=S+c?c:a-S));a+=h)s>T(u/(g=h-d))&&E("overflow"),s*=g;S=A(x-o,e=m.length+1,0==o),T(x/e)>u-w&&E("overflow"),w+=T(x/e),x%=e,m.splice(x++,0,w)}return P(m)}function I(t){var e,r,n,i,o,s,a,f,d,g,_,m,b,x,S,O=[];for(m=(t=M(t)).length,e=v,r=0,o=p,s=0;s<m;++s)(_=t[s])<128&&O.push(w(_));for(n=i=O.length,i&&O.push(y);n<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(b=n+1))&&E("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&E("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)S=f-g,x=h-g,O.push(w(C(g+S%x,0))),f=T(S/x);O.push(w(C(f,0))),o=A(r,b,n==i),r=0,++n}++r,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:M,encode:P},decode:R,encode:I,toASCII:function(t){return O(t,function(t){return _.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return O(t,function(t){return g.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(112)(t),r(21))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(115),e.encode=e.stringify=r(116)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(3)),o=r(0),s=a(r(118));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(11)),i=r(0),o=r(4),s=a(r(34));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,_=f+l/2;e.moveTo(c,_),e.bezierCurveTo(c,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,_+p,c,_),e.closePath()}else if(o.type===n.SHAPES.RREC){var m=s.x,b=s.y,x=s.width,T=s.height,w=s.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(m,b+w),e.lineTo(m,b+T-w),e.quadraticCurveTo(m,b+T,m+w,b+T),e.lineTo(m+x-w,b+T),e.quadraticCurveTo(m+x,b+T,m+x,b+T-w),e.lineTo(m+x,b+w),e.quadraticCurveTo(m+x,b,m+x-w,b),e.lineTo(m+w,b),e.quadraticCurveTo(m,b,m,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(0),o=r(59),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(17)),i=d(r(18)),o=d(r(35)),s=d(r(135)),a=d(r(136)),u=d(r(137)),h=d(r(3)),l=r(2),c=d(r(5)),f=d(r(31));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,T=0,w=s[0],E=void 0,S=void 0,O=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];w.textureCount=0,w.start=0,w.blend=O,p++;var M=void 0;for(M=0;M<e;++M){var P=y[M];P._enabled!==p?(d[M]=P,P._virtalBoundId=M,P._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var C=o[M];o[M]=null,m=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(O!==A&&(O=A,b=null,T=e,p++),b!==m&&(b=m,m._enabled!==p)){if(T===e&&(p++,w.size=M-w.start,T=0,(w=s[x++]).blend=O,w.textureCount=0,w.start=M),m.touched=g,-1===m._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=I,d[I]=m;break}}m._enabled=p,w.textureCount++,w.ids[T]=m._virtalBoundId,w.textures[T++]=m}if(E=C.vertexData,S=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(E[0]*L|0)/L,a[_+1]=(E[1]*L|0)/L,a[_+5]=(E[2]*L|0)/L,a[_+6]=(E[3]*L|0)/L,a[_+10]=(E[4]*L|0)/L,a[_+11]=(E[5]*L|0)/L,a[_+15]=(E[6]*L|0)/L,a[_+16]=(E[7]*L|0)/L}else a[_]=E[0],a[_+1]=E[1],a[_+5]=E[2],a[_+6]=E[3],a[_+10]=E[4],a[_+11]=E[5],a[_+15]=E[6],a[_+16]=E[7];u[_+2]=S[0],u[_+7]=S[1],u[_+12]=S[2],u[_+17]=S[3];var N=Math.min(C.worldAlpha,1),k=N<1&&m.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=m._virtalBoundId,_+=20}if(w.size=M-w.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&j.addAttribute(B,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)y[M]._virtalBoundId=-1;for(M=0;M<x;++M){for(var U=s[M],X=U.textureCount,W=0;W<X;W++)b=U.textures[W],y[U.ids[W]]!==b&&this.renderer.bindTexture(b,U.ids[W],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(12)),i=o(r(60));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var n,i=r(5);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<i.length;s++){var a=i[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(n=l.split(/\[|]/),l=n[0],c*=Number(n[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(12)),i=l(r(19)),o=l(r(63)),s=r(4),a=l(r(13)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(128)),h=l(r(31));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function t(){c(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),r.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=h.default.nextPow2(e)))<<16|65535&(r=h.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s.filterPoolKey=o,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(0),s=r(19),a=(n=s)&&n.__esModule?n:{default:n},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new i.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(0),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(132),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],a=0;a<e;a++)i[a]=a;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(13),o=(n=i)&&n.__esModule?n:{default:n};r(6);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=o.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(30)),o=d(r(7)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(64)),c=d(r(65)),f=d(r(139));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=null,u=void 0,h=void 0,l=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(h=u/4%e,l=~~(u/4/e),null===s.top&&(s.top=l),null===s.left?s.left=h:h<s.left&&(s.left=h),null===s.right?s.right=h+1:s.right<h&&(s.right=h+1),null===s.bottom?s.bottom=l:s.bottom<l&&(s.bottom=l));null!==s.top&&(e=s.right-s.left,r=s.bottom-s.top+1,a=n.getImageData(s.left,s.top,e,r));return{height:r,width:e,data:a}}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(10)),i=p(r(33)),o=p(r(7)),s=p(r(66)),a=p(r(30)),u=r(4),h=r(2),l=r(0),c=p(r(26)),f=p(r(141)),d=p(r(11));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,r,n,i,o){var s=t-(2*r+i),a=e-(2*n+o),u=(r-2)*t*2,h=(n-2)*e*2,l=4*(s*s+a*a),c=4*(s*u+a*h),f=u*u+h*h,d=2*Math.sqrt(l+c+f),p=Math.sqrt(l),v=2*l*p,y=2*Math.sqrt(f),g=c/p;return(v*d+p*c*(d-y)+(4*f*l-c*c)*Math.log((2*p+g+d)/(g+y)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,r,n,i,o,s,a){for(var u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0,y=0,g=0,_=0,m=t,b=e,x=1;x<=10;++x)g=m-(v=(p=(d=(f=1-(h=x/10))*f)*f)*t+3*d*h*r+3*f*(l=h*h)*i+(c=l*h)*s),_=b-(y=p*e+3*d*h*n+3*f*l*o+c*a),m=v,b=y,u+=Math.sqrt(g*g+_*_);return u},e.prototype._segmentsCount=function(t){var r=Math.ceil(t/e.CURVES.maxLength);return r<e.CURVES.minSegments?r=e.CURVES.minSegments:r>e.CURVES.maxSegments&&(r=e.CURVES.maxSegments),r},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],h=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,h,t,r,n,i)):20,c=1;c<=l;++c){var f=c/l;s=u+(t-u)*f,a=h+(r-h)*f,o.push(s+(t+(n-t)*f-s)*f,a+(r+(i-r)*f-a)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,u=a[a.length-2],h=a[a.length-1];a.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,h,t,r,n,i,o,s)):20;return(0,f.default)(u,h,t,r,n,i,o,s,l,a),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,m=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),w=l*(v+_),E=h*(v+_),S=Math.atan2(T-b,x-m),O=Math.atan2(E-b,w-m);this.arc(m+t,b+e,i,S,O,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!s&&o<=i?o+=l.PI_2:s&&i<=o&&(i+=l.PI_2);var a=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*n):40*Math.ceil(Math.abs(a)/l.PI_2);if(0===a)return this;var h=t+Math.cos(i)*n,c=r+Math.sin(i)*n,f=this.currentPath?this.currentPath.shape.points:null;if(f){var d=Math.abs(f[f.length-2]-h),p=Math.abs(f[f.length-1]-c);d<.001&&p<.001||f.push(h,c)}else this.moveTo(h,c),f=this.currentPath.shape.points;for(var v=a/(2*u),y=2*v,g=Math.cos(v),_=Math.sin(v),m=u-1,b=m%1/m,x=0;x<=m;++x){var T=v+i+y*(x+b*x),w=Math.cos(T),E=-Math.sin(T);f.push((g*w+_*E)*n+t,(g*-E+_*w)*n+r)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=_,s=m;(0,h.hex2rgb)(n,i),(0,h.hex2rgb)(this.tint,s),i[0]*=s[0],i[1]*=s[1],i[2]*=s[2],r.tint=(0,h.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,t=o<t?o:t,e=o+(a=i.width+d)>e?o+a:e,r=s<r?s:r,n=s+(u=i.height+d)>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,t=o-(a=i.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.radius+d/2)<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,t=o-(a=i.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(u=i.height+d/2)<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,T=0,w=0;w+2<p.length;w+=2)o=p[w],s=p[w+1],v=p[w+2],y=p[w+3],g=Math.abs(v-o),_=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+_*_))<1e-9||(t=(x=(v+o)/2)-(m=(u/a*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,r=(T=(y+s)/2)-(b=(u/a*g+_)/2)<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=n+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var i=0;i<this._webGL[n].data.length;++i)this._webGL[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(n.default);e.default=b,b._SPRITE_TEXTURE=null,b.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a,u){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,c=0,f=0,d=0,p=0;h.push(t,e);for(var v=1,y=0;v<=u;++v)f=(c=(l=1-(y=v/u))*l)*l,p=(d=y*y)*y,h.push(f*t+3*c*y*r+3*l*d*i+p*s,f*e+3*c*y*n+3*l*d*o+p*a);return h}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=r(0),o=d(r(17)),s=d(r(18)),a=d(r(143)),u=d(r(144)),h=d(r(145)),l=d(r(146)),c=d(r(147)),f=d(r(148));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,o.default)(s,a,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,_,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(20)),i=r(2),o=s(r(29));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(f,d,p,c),v.push(i+u,a),v.push(f,d,p,c),v.push(i,a+h),v.push(f,d,p,c),v.push(i+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=_}};var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,n.default)(d,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=d.length;S<O;S++)m.push(d[S],d[++S],y,g,_,v)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,r),t.points=M}};var n=s(r(29)),i=s(r(20)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(i,u,v,y,g,p),_.push(i+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c;w++)t.points.push(i+Math.sin(f*-w)*h,u+Math.cos(f*-w)*l);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,r),t.points=T}};var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(11),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,x-g,y,x,y),r.bezierCurveTo(x+g,y,m,T-_,m,T),r.bezierCurveTo(m,T+_,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var w=h.x,E=h.y,S=h.width,O=h.height,M=h.radius,P=Math.min(S,O)/2|0;M=M>P?P:M,r.beginPath(),r.moveTo(w,E+M),r.lineTo(w,E+O-M),r.quadraticCurveTo(w,E+O,w+M,E+O),r.lineTo(w+S-M,E+O),r.quadraticCurveTo(w+S,E+O,w+S,E+O-M),r.lineTo(w+S,E+M),r.quadraticCurveTo(w+S,E,w+S-M,E),r.lineTo(w+M,E),r.quadraticCurveTo(w,E,w,E+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(2);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0,a.anchor),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var r=t[e],n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;this.animations[e].push(this.textures[s])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(69);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(153);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(27)),o=s(r(69));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px",i.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(i.title=s.accessibleTitle),i.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&i.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(155);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(156);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c,1);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h,1),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(34),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,s=e.baseTexture,u=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>=n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>=i&&u.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(o.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,s){return new e(o.Texture.fromImage(t,i,s),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=r(0);r(6);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(38)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),u=a.length,h=this._maxWidth*t.size/this._font.size,l=null,c=0,f=0,d=0,p=-1,v=0,y=0,g=0,_=0;_<u;_++){var m=a.charCodeAt(_),b=a.charAt(_);if(/(?:\s)/.test(b)&&(p=_,v=c),"\r"!==b&&"\n"!==b){var x=t.chars[m];x&&(l&&x.kerning[l]&&(n.x+=x.kerning[l]),o.push({texture:x.texture,line:d,charCode:m,position:new i.Point(n.x+x.xOffset+this._letterSpacing/2,n.y+x.yOffset)}),n.x+=x.xAdvance+this._letterSpacing,c=n.x,g=Math.max(g,x.yOffset+x.texture.height),l=m,-1!==p&&h>0&&n.x>h&&(++y,i.utils.removeItems(o,1+p-y,1+_-p),_=p,p=-1,s.push(v),f=Math.max(f,v),d++,n.x=0,n.y+=t.lineHeight,l=null))}else s.push(c),f=Math.max(f,c),++d,++y,n.x=0,n.y+=t.lineHeight,l=null}var T=a.charAt(a.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=v),s.push(c),f=Math.max(f,c));for(var w=[],E=0;E<=d;E++){var S=0;"right"===this._font.align?S=f-s[E]:"center"===this._font.align&&(S=(f-s[E])/2),w.push(S)}for(var O=o.length,M=this.tint,P=0;P<O;P++){var C=this._glyphs[P];C?C.texture=o[P].texture:(C=new i.Sprite(o[P].texture),this._glyphs.push(C)),C.position.x=(o[P].position.x+w[o[P].line])*r,C.position.y=o[P].position.y*r,C.scale.x=C.scale.y=r,C.tint=M,C.parent||this.addChild(C)}for(var A=O;A<this._glyphs.length;++A)this.removeChild(this._glyphs[A]);if(this._textWidth=f*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<O;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page"),l=(0,s.getResolutionOfUrl)(h[0].getAttribute("file"),a.default.RESOLUTION),c={};n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={},r instanceof i.Texture&&(r=[r]);for(var f=0;f<h.length;f++){var d=h[f].getAttribute("id"),p=h[f].getAttribute("file");c[d]=r instanceof Array?r[f]:r[p]}for(var v=t.getElementsByTagName("char"),y=0;y<v.length;y++){var g=v[y],_=parseInt(g.getAttribute("id"),10),m=g.getAttribute("page")||0,b=new i.Rectangle(parseInt(g.getAttribute("x"),10)/l+c[m].frame.x/l,parseInt(g.getAttribute("y"),10)/l+c[m].frame.y/l,parseInt(g.getAttribute("width"),10)/l,parseInt(g.getAttribute("height"),10)/l);n.chars[_]={xOffset:parseInt(g.getAttribute("xoffset"),10)/l,yOffset:parseInt(g.getAttribute("yoffset"),10)/l,xAdvance:parseInt(g.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(c[m].baseTexture,b),page:m}}for(var x=t.getElementsByTagName("kerning"),T=0;T<x.length;T++){var w=x[T],E=parseInt(w.getAttribute("first"),10)/l,S=parseInt(w.getAttribute("second"),10)/l,O=parseInt(w.getAttribute("amount"),10)/l;n.chars[S]&&(n.chars[S].kerning[E]=O)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(7)),o=a(r(9)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(165);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(166);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(167);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(168);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(71);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(75);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(169);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(170);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null==n&&(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(71)),s=a(r(75));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,h,l,e=e||.15,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(76);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(172);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(79);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(78);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(77);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(76)),s=l(r(77)),a=l(r(78)),u=l(r(8)),h=l(r(79));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType,u="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;if(u){var l=2===n.button,c=a.default.FLAGS,f=l?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,l?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(u&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(80);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(85);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(86);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(14);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(67)),u=h(r(175));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(81)),s=h(r(82)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(83)),u=h(r(36));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(14)),i=r(176),o=h(r(8)),s=h(r(86)),a=h(r(85)),u=h(r(80));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":n(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=s(r(36)),o=s(r(84));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=r(15);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(178);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(179);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(87);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(180);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(181);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(5)),o=s(r(15));r(6);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(15),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var m=s[e],b=s[r],x=s[n],T=s[e+1],w=s[r+1],E=s[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var O=S/Math.abs(t.worldTransform.a),M=S/Math.abs(t.worldTransform.d),P=(m+b+x)/3,C=(T+w+E)/3,A=m-P,R=T-C,I=Math.sqrt(A*A+R*R);m=P+A/I*(I+O),T=C+R/I*(I+M),R=w-C,b=P+(A=b-P)/(I=Math.sqrt(A*A+R*R))*(I+O),w=C+R/I*(I+M),R=E-C,x=P+(A=x-P)/(I=Math.sqrt(A*A+R*R))*(I+O),E=C+R/I*(I+M)}i.save(),i.beginPath(),i.moveTo(m,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=m*y+v*x+b*g-y*x-v*b-m*g,N=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,F=T*y+v*E+w*g-y*E-v*w-T*g,B=f*w+T*p+d*E-w*p-T*d-f*E,j=f*y*E+v*w*p+T*d*g-T*y*p-v*d*E-f*w*g;i.transform(L/D,F/D,N/D,B/D,k/D,j/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(87),s=(n=o)&&n.__esModule?n:{default:n};var a=10,u=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==n?n:a,u._rightWidth=void 0!==o?o:a,u._topHeight=void 0!==i?i:a,u._bottomHeight=void 0!==s?s:a,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(s.default);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(15);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(183);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(184);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(185)),o=a(r(186)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<s;f+=i,d+=1){var p=s-f;if(p>i&&(p=i),d>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var v=a[d];v.uploadDynamic(e,f,p);var y=t._bufferUpdateIDs[d]||0;(c=c||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(35));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(188);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(189);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(37);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(88);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(190);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(37);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(a),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=o)&&n.__esModule?n:{default:n}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=s,i.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(37),s=(n=o)&&n.__esModule?n:{default:n};var a=16,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=a,n.canvas.height=a,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(h),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(s.default);function h(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=u,i.CanvasRenderer.registerPlugin("prepare",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";r.r(e);var n=function(){function t(){this.entities=[]}return t.prototype.update=function(t,e){!function(t,e){for(var r=0;r<e.length;r++)e[r].sprite}(0,this.entities)},t}();var i=r(16),o=function(){return function(){}}();!function(t){var e=[],r=new n;e.push(r);var s=new i.Application({width:1280,height:720});s.renderer.view.style.position="absolute",s.renderer.view.style.display="block",s.renderer.autoResize=!0,s.renderer.resize(window.innerWidth,window.innerHeight),t.appendChild(s.view);var a=new o;i.loader.add("data/textures/ship.png").load(function(){a.sprite=new i.Sprite(i.loader.resources["data/textures/ship.png"].texture),a.sprite.x=50,a.sprite.y=50,s.stage.addChild(a.sprite)}),r.entities.push(a),console.log(a),function(t){window.addEventListener("resize",function(){t.renderer.resize(window.innerWidth,window.innerHeight)})}(s),setInterval(function(){if(!(e.length>0))throw"No states to update";var t;(t=e,t[t.length-1]).update(e,s),a.sprite.x++},16)}(document.getElementById("letterbox"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9Db250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvV2ViR0xNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL1NoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9NZXNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZExpbmUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL1BvaW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvTWF0cml4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1JlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0JvdW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybUJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaXQtdHdpZGRsZS90d2lkZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1RpbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvQmFzZVByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9Hcm91cEQ4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NldFZlcnRleEF0dHJpYkFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTFRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2NvbXBpbGVQcm9ncmFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9leHRyYWN0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9kZWZhdWx0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL3NldFByZWNpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybVN0YXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmVVdnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL1N5c3RlbVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmVNYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0TWV0cmljcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy9HcmFwaGljc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvQXBwbGljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvYXV0b0RldGVjdFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2FjY2Vzc2libGVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJYRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZXRNYXhCbHVyS2VybmVsU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJZRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbnRlcmFjdGl2ZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9iaXRtYXBGb250UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtdXJpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2I2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9zcHJpdGVzaGVldFBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy90ZXh0dXJlUGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1BsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL0NvdW50TGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvTWF0aC5zaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9OdW1iZXIuaXNJbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9FbGxpcHNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9jcmVhdGVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMRnJhbWVidWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvVmVydGV4QXJyYXlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9wbHVnaW5UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlbW92ZS1hcnJheS1pdGVtcy9kaXN0L3JlbW92ZS1hcnJheS1pdGVtcy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9UaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlckxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL01hc2tNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvU3RlbmNpbE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL0ZpbHRlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvVGV4dHVyZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy92YWxpZGF0ZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvQmF0Y2hCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL3RyaW1DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvdXRpbHMvYmV6aWVyQ3VydmVUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL1dlYkdMR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUG9seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFJlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRDaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvU3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2RlcHJlY2F0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L0FjY2Vzc2liaWxpdHlNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L3dlYmdsL1dlYkdMRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9jYW52YXMvQ2FudmFzRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0FuaW1hdGVkU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvVGlsaW5nU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvd2ViZ2wvVGlsaW5nU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9CaXRtYXBUZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvY2FjaGVBc0JpdG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldENoaWxkQnlOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvZ2V0R2xvYmFsUG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZnhhYS9GWEFBRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL25vaXNlL05vaXNlRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2Rpc3BsYWNlbWVudC9EaXNwbGFjZW1lbnRGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9CbHVyRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2NvbG9ybWF0cml4L0NvbG9yTWF0cml4RmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2FscGhhL0FscGhhRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL0xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvbWlkZGxld2FyZXMvcGFyc2luZy9ibG9iLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL3dlYmdsL01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL05pbmVTbGljZVBsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1JvcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvd2ViZ2wvV2ViR0xQcmVwYXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2NhbnZhcy9DYW52YXNQcmVwYXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL1RpbWVMaW1pdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lc3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcnN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVkVSU0lPTiIsIlBJXzIiLCJNYXRoIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlJFTkRFUkVSX1RZUEUiLCJVTktOT1dOIiwiV0VCR0wiLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiRFJBV19NT0RFUyIsIlBPSU5UUyIsIkxJTkVTIiwiTElORV9MT09QIiwiTElORV9TVFJJUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiU0NBTEVfTU9ERVMiLCJMSU5FQVIiLCJORUFSRVNUIiwiV1JBUF9NT0RFUyIsIkNMQU1QIiwiUkVQRUFUIiwiTUlSUk9SRURfUkVQRUFUIiwiR0NfTU9ERVMiLCJBVVRPIiwiTUFOVUFMIiwiVVJMX0ZJTEVfRVhURU5TSU9OIiwiREFUQV9VUkkiLCJTVkdfU0laRSIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiUFJFQ0lTSU9OIiwiTE9XIiwiTUVESVVNIiwiSElHSCIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsIlVQREFURV9QUklPUklUWSIsIklOVEVSQUNUSU9OIiwiVVRJTElUWSIsImF1dG9EZXRlY3RSZW5kZXJlciIsIkFwcGxpY2F0aW9uIiwiRmlsdGVyIiwiU3ByaXRlTWFza0ZpbHRlciIsIlF1YWQiLCJSZW5kZXJUYXJnZXQiLCJPYmplY3RSZW5kZXJlciIsIldlYkdMTWFuYWdlciIsIlNoYWRlciIsIkNhbnZhc1JlbmRlclRhcmdldCIsIlRleHR1cmVVdnMiLCJWaWRlb0Jhc2VUZXh0dXJlIiwiQmFzZVJlbmRlclRleHR1cmUiLCJSZW5kZXJUZXh0dXJlIiwiQmFzZVRleHR1cmUiLCJUZXh0dXJlTWF0cml4IiwiVGV4dHVyZSIsIlNwcml0ZXNoZWV0IiwiQ2FudmFzR3JhcGhpY3NSZW5kZXJlciIsIkdyYXBoaWNzUmVuZGVyZXIiLCJHcmFwaGljc0RhdGEiLCJHcmFwaGljcyIsIlRleHRNZXRyaWNzIiwiVGV4dFN0eWxlIiwiVGV4dCIsIlNwcml0ZVJlbmRlcmVyIiwiQ2FudmFzVGludGVyIiwiQ2FudmFzU3ByaXRlUmVuZGVyZXIiLCJTcHJpdGUiLCJUcmFuc2Zvcm1CYXNlIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtIiwiQ29udGFpbmVyIiwiRGlzcGxheU9iamVjdCIsIkJvdW5kcyIsImdsQ29yZSIsIldlYkdMUmVuZGVyZXIiLCJDYW52YXNSZW5kZXJlciIsInRpY2tlciIsInV0aWxzIiwic2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJfY29uc3QiLCJrZXlzIiwiZm9yRWFjaCIsIl9tYXRoIiwiX3BpeGlHbENvcmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIl9Cb3VuZHMiLCJfRGlzcGxheU9iamVjdCIsIl9Db250YWluZXIiLCJfVHJhbnNmb3JtIiwiX1RyYW5zZm9ybVN0YXRpYyIsIl9UcmFuc2Zvcm1CYXNlIiwiX1Nwcml0ZSIsIl9DYW52YXNTcHJpdGVSZW5kZXJlciIsIl9DYW52YXNUaW50ZXIiLCJfU3ByaXRlUmVuZGVyZXIiLCJfVGV4dCIsIl9UZXh0U3R5bGUiLCJfVGV4dE1ldHJpY3MiLCJfR3JhcGhpY3MiLCJfR3JhcGhpY3NEYXRhIiwiX0dyYXBoaWNzUmVuZGVyZXIiLCJfQ2FudmFzR3JhcGhpY3NSZW5kZXJlciIsIl9TcHJpdGVzaGVldCIsIl9UZXh0dXJlIiwiX1RleHR1cmVNYXRyaXgiLCJfQmFzZVRleHR1cmUiLCJfUmVuZGVyVGV4dHVyZSIsIl9CYXNlUmVuZGVyVGV4dHVyZSIsIl9WaWRlb0Jhc2VUZXh0dXJlIiwiX1RleHR1cmVVdnMiLCJfQ2FudmFzUmVuZGVyVGFyZ2V0IiwiX1NoYWRlciIsIl9XZWJHTE1hbmFnZXIiLCJfT2JqZWN0UmVuZGVyZXIiLCJfUmVuZGVyVGFyZ2V0IiwiX1F1YWQiLCJfU3ByaXRlTWFza0ZpbHRlciIsIl9GaWx0ZXIiLCJfQXBwbGljYXRpb24iLCJfYXV0b0RldGVjdFJlbmRlcmVyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfc2V0dGluZ3MyIiwiX0NhbnZhc1JlbmRlcmVyMiIsIl9XZWJHTFJlbmRlcmVyMiIsIm9iaiIsIm5ld09iaiIsInByZW11bHRpcGx5QmxlbmRNb2RlIiwiQmFzZVRleHR1cmVDYWNoZSIsIlRleHR1cmVDYWNoZSIsImVhcmN1dCIsIm1peGlucyIsInBsdWdpblRhcmdldCIsIkV2ZW50RW1pdHRlciIsInJlbW92ZUl0ZW1zIiwiaXNNb2JpbGUiLCJ1aWQiLCJuZXh0VWlkIiwiaGV4MnJnYiIsImhleCIsIm91dCIsImhleDJzdHJpbmciLCJ0b1N0cmluZyIsInN1YnN0ciIsImxlbmd0aCIsInJnYjJoZXgiLCJyZ2IiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJ1cmwiLCJkZWZhdWx0VmFsdWUiLCJyZXNvbHV0aW9uIiwiUkVUSU5BX1BSRUZJWCIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiZGVjb21wb3NlRGF0YVVyaSIsImRhdGFVcmkiLCJkYXRhVXJpTWF0Y2giLCJtZWRpYVR5cGUiLCJ0b0xvd2VyQ2FzZSIsInN1YlR5cGUiLCJjaGFyc2V0IiwiZW5jb2RpbmciLCJkYXRhIiwiZ2V0VXJsRmlsZUV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImdldFN2Z1NpemUiLCJzdmdTdHJpbmciLCJzaXplTWF0Y2giLCJzaXplIiwicm91bmQiLCJza2lwSGVsbG8iLCJzYWlkSGVsbG8iLCJzYXlIZWxsbyIsInR5cGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiYXJncyIsIndpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJhcHBseSIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJlIiwic2lnbiIsImRlc3Ryb3lUZXh0dXJlQ2FjaGUiLCJkZXN0cm95IiwiY2xlYXJUZXh0dXJlQ2FjaGUiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJhbHBoYSIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5UmdiYSIsInByZW11bHRpcGx5IiwiRmxvYXQzMkFycmF5IiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiX2V2ZW50ZW1pdHRlcjIiLCJfcGx1Z2luVGFyZ2V0MiIsIl9yZW1vdmVBcnJheUl0ZW1zMiIsIl9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIiLCJfZWFyY3V0MiIsIl9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMiIsIl9jYW5VcGxvYWRTYW1lQnVmZmVyMiIsIlRBUkdFVF9GUE1TIiwiTUlQTUFQX1RFWFRVUkVTIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiU1BSSVRFX01BWF9URVhUVVJFUyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiZm9yY2VGWEFBIiwiYXV0b1Jlc2l6ZSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJyb3VuZFBpeGVscyIsIndpZHRoIiwiaGVpZ2h0IiwibGVnYWN5IiwiR0NfTU9ERSIsIkdDX01BWF9JRExFIiwiR0NfTUFYX0NIRUNLX0NPVU5UIiwiV1JBUF9NT0RFIiwiU0NBTEVfTU9ERSIsIlBSRUNJU0lPTl9WRVJURVgiLCJQUkVDSVNJT05fRlJBR01FTlQiLCJDQU5fVVBMT0FEX1NBTUVfQlVGRkVSIiwiTUVTSF9DQU5WQVNfUEFERElORyIsIl9Qb2ludCIsIl9PYnNlcnZhYmxlUG9pbnQiLCJfTWF0cml4IiwiX0dyb3VwRCIsIl9DaXJjbGUiLCJfRWxsaXBzZSIsIl9Qb2x5Z29uIiwiX1JlY3RhbmdsZSIsIl9Sb3VuZGVkUmVjdGFuZ2xlIiwiY3JlYXRlQ29udGV4dCIsInNldFZlcnRleEF0dHJpYkFycmF5cyIsIkdMQnVmZmVyIiwiR0xGcmFtZWJ1ZmZlciIsIkdMU2hhZGVyIiwiR0xUZXh0dXJlIiwiVmVydGV4QXJyYXlPYmplY3QiLCJzaGFkZXIiLCJQSVhJIiwicHJvY2VzcyIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwibGFzdCIsInNwbGljZSIsInVuc2hpZnQiLCJzcGxpdFBhdGhSZSIsInNwbGl0UGF0aCIsImZpbGVuYW1lIiwic2xpY2UiLCJmaWx0ZXIiLCJ4cyIsImYiLCJyZXMiLCJwdXNoIiwicmVzb2x2ZSIsInJlc29sdmVkUGF0aCIsInJlc29sdmVkQWJzb2x1dGUiLCJhcmd1bWVudHMiLCJwYXRoIiwiY3dkIiwiVHlwZUVycm9yIiwiY2hhckF0Iiwic3BsaXQiLCJqb2luIiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJwYXRocyIsIkFycmF5IiwiaW5kZXgiLCJyZWxhdGl2ZSIsImZyb20iLCJ0byIsInRyaW0iLCJhcnIiLCJzdGFydCIsImVuZCIsImZyb21QYXJ0cyIsInRvUGFydHMiLCJtaW4iLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImNvbmNhdCIsInNlcCIsImRlbGltaXRlciIsImRpcm5hbWUiLCJyZXN1bHQiLCJyb290IiwiZGlyIiwiYmFzZW5hbWUiLCJleHQiLCJleHRuYW1lIiwic3RyIiwibGVuIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfQmFzZVRleHR1cmUyIiwiX1ZpZGVvQmFzZVRleHR1cmUyIiwiX1RleHR1cmVVdnMyIiwiX3V0aWxzIiwiX0V2ZW50RW1pdHRlciIsImJhc2VUZXh0dXJlIiwiZnJhbWUiLCJvcmlnIiwicm90YXRlIiwiYW5jaG9yIiwiaW5zdGFuY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIm5vRnJhbWUiLCJSZWN0YW5nbGUiLCJfZnJhbWUiLCJ2YWxpZCIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsIl9yb3RhdGUiLCJOdW1iZXIiLCJFcnJvciIsImhhc0xvYWRlZCIsIm9uIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJvbmNlIiwib25CYXNlVGV4dHVyZUxvYWRlZCIsImRlZmF1bHRBbmNob3IiLCJQb2ludCIsIngiLCJ5IiwiX3VwZGF0ZUlEIiwidHJhbnNmb3JtIiwidGV4dHVyZUNhY2hlSWRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInVwZGF0ZSIsImVtaXQiLCJkZXN0cm95QmFzZSIsImltYWdlVXJsIiwicmVtb3ZlRnJvbUNhY2hlIiwib2ZmIiwiY2xvbmUiLCJfdXBkYXRlVXZzIiwic2V0IiwiZnJvbUltYWdlIiwiY3Jvc3NvcmlnaW4iLCJzY2FsZU1vZGUiLCJzb3VyY2VTY2FsZSIsInRleHR1cmUiLCJhZGRUb0NhY2hlIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21DYW52YXMiLCJvcmlnaW4iLCJmcm9tVmlkZW8iLCJ2aWRlbyIsImZyb21WaWRlb1VybCIsInZpZGVvVXJsIiwiZnJvbVVybCIsInNvdXJjZSIsIm1hdGNoIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsImZyb21Mb2FkZXIiLCJpZCIsIndhcm4iLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieE5vdEZpdCIsInlOb3RGaXQiLCJyZWxhdGlvbnNoaXAiLCJlcnJvclgiLCJlcnJvclkiLCJyZW1vdmVBbGxIYW5kbGVycyIsInRleCIsIkVNUFRZIiwiV0hJVEUiLCJjb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImV2ZW50IiwiZXhpc3RzIiwiZXZ0IiwiYXZhaWxhYmxlIiwiZWUiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwicmVtb3ZlTGlzdGVuZXIiLCJqIiwibGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInNldE1heExpc3RlbmVycyIsInByZWZpeGVkIiwiX2RldGVybWluZUNyb3NzT3JpZ2luMiIsIl9iaXRUd2lkZGxlMiIsInRvdWNoZWQiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwiaXNMb2FkaW5nIiwib3JpZ1NvdXJjZSIsImltYWdlVHlwZSIsInByZW11bHRpcGxpZWRBbHBoYSIsImlzUG93ZXJPZlR3byIsIm1pcG1hcCIsIndyYXBNb2RlIiwiX2dsVGV4dHVyZXMiLCJfZW5hYmxlZCIsIl92aXJ0YWxCb3VuZElkIiwiX2Rlc3Ryb3llZCIsImxvYWRTb3VyY2UiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0IiwiX3VwZGF0ZURpbWVuc2lvbnMiLCJpc1BvdzIiLCJ3YXNMb2FkaW5nIiwib25sb2FkIiwib25lcnJvciIsImZpcnN0U291cmNlTG9hZGVkIiwic3JjIiwiY29tcGxldGUiLCJfdXBkYXRlSW1hZ2VUeXBlIiwiX2xvYWRTdmdTb3VyY2UiLCJfc291cmNlTG9hZGVkIiwic2NvcGUiLCJmaXJzdFN1YlR5cGUiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaSIsIl9sb2FkU3ZnU291cmNlVXNpbmdYaHIiLCJhdG9iIiwiX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyIsIl90aGlzMiIsInN2Z1hociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJzdGF0dXMiLCJyZXNwb25zZSIsIm9wZW4iLCJzZW5kIiwic3ZnU2l6ZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiX3BpeGlJZCIsImRyYXdJbWFnZSIsImlzQ29jb29uSlMiLCJkaXNwb3NlIiwidXBkYXRlU291cmNlSW1hZ2UiLCJuZXdTcmMiLCJpbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsIl9EaXNwbGF5T2JqZWN0MiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJwYXJlbnQiLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJRCIsIl9ib3VuZHNJRCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJiZWdpbiIsInJhbmdlIiwicmVtb3ZlZCIsIl9pIiwiUmFuZ2VFcnJvciIsInVwZGF0ZVRyYW5zZm9ybSIsIndvcmxkQWxwaGEiLCJ2aXNpYmxlIiwiY2FsY3VsYXRlQm91bmRzIiwiX2JvdW5kcyIsImNsZWFyIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInJlbmRlcmFibGUiLCJfbWFzayIsImFkZEJvdW5kc01hc2siLCJmaWx0ZXJBcmVhIiwiYWRkQm91bmRzQXJlYSIsImFkZEJvdW5kcyIsIl9sYXN0Qm91bmRzSUQiLCJyZW5kZXJXZWJHTCIsInJlbmRlcmVyIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiX3JlbmRlcldlYkdMIiwiZmx1c2giLCJmaWx0ZXJzIiwibWFzayIsIl9lbmFibGVkRmlsdGVycyIsImVuYWJsZWQiLCJmaWx0ZXJNYW5hZ2VyIiwicHVzaEZpbHRlciIsIm1hc2tNYW5hZ2VyIiwicHVzaE1hc2siLCJfaTIiLCJwb3BNYXNrIiwicG9wRmlsdGVyIiwiX3JlbmRlckNhbnZhcyIsInJlbmRlckNhbnZhcyIsIm9wdGlvbnMiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsInNjYWxlIiwiZ2V0TG9jYWxCb3VuZHMiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiX1N5c3RlbVJlbmRlcmVyMyIsIl9DYW52YXNNYXNrTWFuYWdlcjIiLCJfQ2FudmFzUmVuZGVyVGFyZ2V0MiIsIl9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpMiIsIl9TeXN0ZW1SZW5kZXJlciIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJyZWZyZXNoIiwic21vb3RoUHJvcGVydHkiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtb3pJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJvSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJpbml0UGx1Z2lucyIsImJsZW5kTW9kZXMiLCJfYWN0aXZlQmxlbmRNb2RlIiwicmVuZGVyaW5nVG9TY3JlZW4iLCJyZXNpemUiLCJyZW5kZXIiLCJkaXNwbGF5T2JqZWN0IiwicmVuZGVyVGV4dHVyZSIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ3b3JsZFRyYW5zZm9ybSIsImNvcHkiLCJfd29ybGRJRCIsImlkZW50aXR5Iiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsIm9uQ29udGV4dENoYW5nZSIsIl9zZXR0aW5ncyIsImNoZWNrUHJlY2lzaW9uIiwiZGVmIiwic3Vic3RyaW5nIiwiX0dMU2hhZGVyIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJwcmVjaXNpb24iLCJMb2FkZXIiLCJSZXNvdXJjZSIsImFzeW5jIiwiYjY0IiwiYmFzZTY0IiwiY29yZSIsIl9UZXh0dXJlMiIsInRlbXBQb2ludCIsInRlbXBQb2x5Z29uIiwiUG9seWdvbiIsIk1lc2giLCJfY29yZSRDb250YWluZXIiLCJ2ZXJ0aWNlcyIsInV2cyIsImluZGljZXMiLCJkcmF3TW9kZSIsIl90ZXh0dXJlIiwiVWludDE2QXJyYXkiLCJkaXJ0eSIsImluZGV4RGlydHkiLCJ2ZXJ0ZXhEaXJ0eSIsImF1dG9VcGRhdGUiLCJjYW52YXNQYWRkaW5nIiwiVFJJQU5HTEVfTUVTSCIsInRpbnRSZ2IiLCJfZ2xEYXRhcyIsIl91dlRyYW5zZm9ybSIsInVwbG9hZFV2VHJhbnNmb3JtIiwicGx1Z2luTmFtZSIsInNldE9iamVjdFJlbmRlcmVyIiwicGx1Z2lucyIsIl9vblRleHR1cmVVcGRhdGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwiX3JlZnJlc2giLCJhZGRWZXJ0aWNlcyIsImNvbnRhaW5zUG9pbnQiLCJwb2ludCIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiYXBwbHlJbnZlcnNlIiwicG9pbnRzIiwic3RlcCIsImluZDAiLCJpbmQxIiwiaW5kMiIsInZlcnRleEJ1ZmZlciIsImluZGV4QnVmZmVyIiwidXZCdWZmZXIiLCJ2YW8iLCJnbG9iYWwiLCJsb2FkZXIiLCJwcmVwYXJlIiwicGFydGljbGVzIiwibWVzaCIsImxvYWRlcnMiLCJpbnRlcmFjdGlvbiIsImV4dHJhcyIsImV4dHJhY3QiLCJhY2Nlc3NpYmlsaXR5IiwiX3BvbHlmaWxsIiwiX2NvcmUiLCJfZGVwcmVjYXRpb24iLCJfZGVwcmVjYXRpb24yIiwicGVyZm9ybU1peGlucyIsInNoYXJlZCIsIl9XZWJHTE1hbmFnZXIyIiwic3RvcCIsIl9NYXNrTWFuYWdlcjIiLCJfU3RlbmNpbE1hbmFnZXIyIiwiX0ZpbHRlck1hbmFnZXIyIiwiX1JlbmRlclRhcmdldDIiLCJfT2JqZWN0UmVuZGVyZXIyIiwiX1RleHR1cmVNYW5hZ2VyMiIsIl9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIiLCJfV2ViR0xTdGF0ZTIiLCJfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyIiwiX3ZhbGlkYXRlQ29udGV4dDIiLCJfcGl4aUdsQ29yZTIiLCJDT05URVhUX1VJRCIsIkZPUkNFX05BVElWRSIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0T3B0aW9ucyIsInBvd2VyUHJlZmVyZW5jZSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwic3RlbmNpbE1hbmFnZXIiLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwidGV4dHVyZU1hbmFnZXIiLCJzdGF0ZSIsImJvdW5kVGV4dHVyZXMiLCJfYWN0aXZlU2hhZGVyIiwiX2FjdGl2ZVZhbyIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJfaW5pdENvbnRleHQiLCJkcmF3TW9kZXMiLCJfbmV4dFRleHR1cmVMb2NhdGlvbiIsImlzQ29udGV4dExvc3QiLCJyZXN0b3JlQ29udGV4dCIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwidGV4dHVyZUdDIiwicmVzZXRUb0RlZmF1bHQiLCJyb290UmVuZGVyVGFyZ2V0IiwiYmluZFJlbmRlclRhcmdldCIsImVtcHR5R0xUZXh0dXJlIiwiZnJvbURhdGEiLCJ0ZW1wT2JqIiwiZW1wdHkiLCJiaW5kVGV4dHVyZSIsInNjcmVlbiIsImJpbmRSZW5kZXJUZXh0dXJlIiwib2JqZWN0UmVuZGVyZXIiLCJhY3RpdmF0ZSIsInVuaWZvcm1zIiwicHJvamVjdGlvbk1hdHJpeCIsInRvQXJyYXkiLCJtYXRyaXgiLCJjbGVhclJlbmRlclRleHR1cmUiLCJyZW5kZXJUYXJnZXQiLCJfZ2xSZW5kZXJUYXJnZXRzIiwidXBkYXRlVGV4dHVyZSIsInVuYmluZFRleHR1cmUiLCJzZXRGcmFtZSIsInNldE1hc2tTdGFjayIsInN0ZW5jaWxNYXNrU3RhY2siLCJiaW5kU2hhZGVyIiwiYXV0b1Byb2plY3QiLCJsb2NhdGlvbiIsImZvcmNlTG9jYXRpb24iLCJjb3VudCIsImdsVGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsIlRFWFRVUkVfMkQiLCJjcmVhdGVWYW8iLCJhdHRyaWJTdGF0ZSIsImJpbmRWYW8iLCJ1bmJpbmQiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlQWxsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZVByb2dyYW0iLCJmcmFtZUJ1ZmZlciIsIk1hdHJpeCIsImRlZmF1bHRGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJzb3VyY2VGcmFtZSIsInN0ZW5jaWxCdWZmZXIiLCJmaWx0ZXJEYXRhIiwiZmlsdGVyUG9vbEtleSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlUkdCQSIsImVuYWJsZU5lYXJlc3RTY2FsaW5nIiwiZW5hYmxlTGluZWFyU2NhbGluZyIsImNjIiwiYXR0YWNoU3RlbmNpbEJ1ZmZlciIsImVuYWJsZVN0ZW5jaWwiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwiYXBwZW5kIiwiZW5hYmxlIiwiU0NJU1NPUl9URVNUIiwic2Npc3NvciIsImRpc2FibGUiLCJ2aWV3cG9ydCIsInBtIiwiYSIsInR4IiwidHkiLCJwcm9qZWN0aW9uRnJhbWUiLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJiIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsInBvcCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwibGluZVdpZHRoIiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJzcXJ0IiwicmF0aW8iLCJsaW5lQWxpZ25tZW50IiwicjEiLCJyMiIsImIxIiwiYzEiLCJiMiIsImMyIiwiZGVub20iLCJhYnMiLCJweCIsInB5IiwicGRpc3QiLCJidWlsZExpbmUiLCJGdW5jdGlvbiIsImV2YWwiLCJlcXVhbHMiLCJfUG9pbnQyIiwiYXJyYXkiLCJmcm9tQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJ0cmFuc2xhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsInR4MSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsImF0YW4yIiwiZGVsdGEiLCJza2V3IiwicG9zaXRpb24iLCJpbnZlcnQiLCJyZWN0YW5nbGUiLCJwYWQiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwiZml0IiwiZW5sYXJnZSIsIngxIiwieDIiLCJtYXgiLCJ5MSIsInkyIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVQiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsInR5cGVOYW1lcyIsInRuIiwibWluWCIsIkluZmluaXR5IiwibWluWSIsIm1heFgiLCJtYXhZIiwicmVjdCIsImlzRW1wdHkiLCJ1cGRhdGVJRCIsImdldFJlY3RhbmdsZSIsImFkZFBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwicmF3WCIsInJhd1kiLCJib3VuZHMiLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFyZWEiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJhcHBsZV9waG9uZSIsImFwcGxlX2lwb2QiLCJhcHBsZV90YWJsZXQiLCJhbmRyb2lkX3Bob25lIiwiYW5kcm9pZF90YWJsZXQiLCJhbWF6b25fcGhvbmUiLCJhbWF6b25fdGFibGV0Iiwid2luZG93c19waG9uZSIsIndpbmRvd3NfdGFibGV0Iiwib3RoZXJfYmxhY2tiZXJyeSIsIm90aGVyX2JsYWNrYmVycnlfMTAiLCJvdGhlcl9vcGVyYSIsIm90aGVyX2Nocm9tZSIsIm90aGVyX2ZpcmVmb3giLCJzZXZlbl9pbmNoIiwiSXNNb2JpbGVDbGFzcyIsImluc3RhbnRpYXRlIiwiUmVnRXhwIiwicmVnZXgiLCJ0ZXN0IiwidWEiLCJ0bXAiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiSU0iLCJDbGFzcyIsImxvY2FsVHJhbnNmb3JtIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsInd0IiwibHQiLCJ1cGRhdGVXb3JsZFRyYW5zZm9ybSIsIklERU5USVRZIiwiaG9sZUluZGljZXMiLCJkaW0iLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJsaXN0IiwicXVldWUiLCJuZXh0Iiwic3RlaW5lciIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJwcmV2IiwiZWFyIiwicGFzcyIsInoiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwicSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImh4IiwiaHkiLCJxeCIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJmaW5kSG9sZUJyaWRnZSIsImxlZnRtb3N0IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJjeCIsImN5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJhbiIsImJwIiwic3VtIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsIl9Db250YWluZXIzIiwiX2FuY2hvciIsIk9ic2VydmFibGVQb2ludCIsIl9vbkFuY2hvclVwZGF0ZSIsIl90aW50IiwiX3RpbnRSR0IiLCJjYWNoZWRUaW50IiwidmVydGV4RGF0YSIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybUlEIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsImNhbGN1bGF0ZVZlcnRpY2VzIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJfeCIsIl95IiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiX2xvY2FsQm91bmRzUmVjdCIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImltYWdlSWQiLCJjb3VudFRyYWlsaW5nWmVyb3MiLCJ2IiwiSU5UX0JJVFMiLCJJTlRfTUFYIiwiSU5UX01JTiIsImxvZzIiLCJzaGlmdCIsImxvZzEwIiwicG9wQ291bnQiLCJuZXh0UG93MiIsInByZXZQb3cyIiwicGFyaXR5IiwiUkVWRVJTRV9UQUJMRSIsInRhYiIsInJldmVyc2UiLCJpbnRlcmxlYXZlMiIsImRlaW50ZXJsZWF2ZTIiLCJpbnRlcmxlYXZlMyIsImRlaW50ZXJsZWF2ZTMiLCJuZXh0Q29tYmluYXRpb24iLCJUaWNrZXIiLCJfVGlja2VyIiwiX1RpY2tlcjIiLCJhdXRvU3RhcnQiLCJfQmFzZVJlbmRlclRleHR1cmUyIiwiYmFzZVJlbmRlclRleHR1cmUiLCJfbGVnYWN5UmVuZGVyZXIiLCJsZWdhY3lSZW5kZXJlciIsImRvTm90UmVzaXplQmFzZVRleHR1cmUiLCJjZWlsIiwiX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJnZXRUaW50ZWRUZXh0dXJlIiwic3ByaXRlIiwic3RyaW5nQ29sb3IiLCJyb3VuZENvbG9yIiwidGludENhY2hlIiwiY2FjaGVkVGV4dHVyZSIsInRpbnRJZCIsInRpbnRNZXRob2QiLCJjb252ZXJ0VGludFRvSW1hZ2UiLCJ0aW50SW1hZ2UiLCJ0b0RhdGFVUkwiLCJ0aW50V2l0aE11bHRpcGx5IiwiY3JvcCIsInRpbnRXaXRoT3ZlcmxheSIsInRpbnRXaXRoUGVyUGl4ZWwiLCJyZ2JWYWx1ZXMiLCJwaXhlbERhdGEiLCJnZXRJbWFnZURhdGEiLCJwaXhlbHMiLCJwdXRJbWFnZURhdGEiLCJjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsIiwiY2FuVXNlTXVsdGlwbHkiLCJ0b3RhbEluZGljZXMiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwiX2JvdW5kWGRyT25UaW1lb3V0IiwiX3hkck9uVGltZW91dCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiaXNDb21wbGV0ZSIsIkNPTVBMRVRFIiwiTE9BRElORyIsImRpc3BhdGNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImxvYWQiLCJjYiIsInNldFRpbWVvdXQiLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJmbGFnIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0FycmF5IiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJhcHBlbmRDaGlsZCIsIl9jcmVhdGVTb3VyY2UiLCJfbWltZVR5cGVzIiwiX2RldGVybWluZVhoclR5cGUiLCJYSFJfUkVTUE9OU0VfVFlQRSIsIkpTT04iLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJ0aW1lb3V0IiwibWltZSIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwicGFyc2UiLCJET01QYXJzZXIiLCJkb21wYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJYTUwiLCJyZXNwb25zZVVSTCIsImxvYyIsImhyZWYiLCJzYW1lUG9ydCIsInN0cmljdE1vZGUiLCJwb3J0IiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdG5hbWUiLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsImxhc3RJbmRleE9mIiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwibWFwIiwidmFsIiwicmVwbGFjZSIsIk5PTkUiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJzdmciLCJzdmcreG1sIiwibXAzIiwib2dnIiwid2F2IiwibXA0Iiwid2VibSIsInhodG1sIiwiaHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJfQ291bnRMaW1pdGVyIiwiX0NvdW50TGltaXRlcjIiLCJTaGFyZWRUaWNrZXIiLCJVUExPQURTX1BFUl9GUkFNRSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiZHJhd1RleHQiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJ1cGxvYWQiLCJpdGVtIiwiZG9uZSIsImFkZCIsImFkZE9uY2UiLCJ0aWNrIiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsInVwbG9hZGVkIiwiX2xlbiIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwicmVtb3ZlIiwiX3RleHR1cmVzIiwiaGVscGVyIiwidXBkYXRlVGV4dCIsImZvbnQiLCJ0b0ZvbnRTdHJpbmciLCJtZWFzdXJlRm9udCIsInN0eWxlIiwiX01hdHJpeDIiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImsiLCJtYXQiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwidVgiLCJpbmQiLCJ1WSIsInZYIiwidlkiLCJpbnYiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJkeCIsImR5IiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJhdHRyaWJzIiwidGVtcEF0dHJpYlN0YXRlIiwiYXR0cmlidXRlIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJhdHRyaWIiLCJmb3JtYXQiLCJjcmVhdGVUZXh0dXJlIiwicHJlbXVsdGlwbHlBbHBoYSIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsInRleEltYWdlMkQiLCJ0ZXhTdWJJbWFnZTJEIiwiRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFIiwidXBsb2FkRGF0YSIsIm1pbkZpbHRlciIsImxpbmVhciIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01JTl9GSUxURVIiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJURVhUVVJFX01BR19GSUxURVIiLCJlbmFibGVNaXBtYXAiLCJnZW5lcmF0ZU1pcG1hcCIsImVuYWJsZVdyYXBDbGFtcCIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwiZW5hYmxlV3JhcFJlcGVhdCIsImVuYWJsZVdyYXBNaXJyb3JSZXBlYXQiLCJkZWxldGVUZXh0dXJlIiwiZnJvbVNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJnbFZlcnRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2xGcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwicHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwibWFwVHlwZSIsIm1hcFNpemUiLCJwb2ludGVyIiwibm9ybWFsaXplZCIsInN0cmlkZSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJhdHRyaWJ1dGVzIiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwidW5pZm9ybURhdGEiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiYm9vbGVhbkFycmF5IiwiSW50MzJBcnJheSIsImdlbmVyYXRlR2V0dGVyIiwiR0xTTF9TSU5HTEVfU0VUVEVSUyIsInVuaWZvcm0xZiIsInVuaWZvcm0yZiIsInVuaWZvcm0zZiIsInVuaWZvcm00ZiIsInVuaWZvcm0xaSIsInVuaWZvcm0yaSIsInVuaWZvcm0zaSIsInVuaWZvcm00aSIsInVuaWZvcm1NYXRyaXgyZnYiLCJ1bmlmb3JtTWF0cml4M2Z2IiwidW5pZm9ybU1hdHJpeDRmdiIsIkdMU0xfQVJSQVlfU0VUVEVSUyIsInVuaWZvcm0xZnYiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTNmdiIsInVuaWZvcm00ZnYiLCJ1bmlmb3JtMWl2IiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiZ2VuZXJhdGVTZXR0ZXIiLCJ1bmlmb3JtIiwiZ2V0VW5pZm9ybUdyb3VwIiwibmFtZVRva2VucyIsImN1ciIsInVuaWZvcm1LZXlzIiwiZnVsbE5hbWUiLCJ1bmlmb3JtR3JvdXAiLCJfVHJhbnNmb3JtU3RhdGljMiIsIl9UcmFuc2Zvcm0yIiwiX0JvdW5kczIiLCJUcmFuc2Zvcm1DbGFzcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiX2JvdW5kc1JlY3QiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwicGl2b3QiLCJfY3VycmVudEJvdW5kcyIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsImlzTWFzayIsIl9UcmFuc2Zvcm1CYXNlMiIsIm9uQ2hhbmdlIiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwic2V0RnJvbU1hdHJpeCIsIl91cmwzIiwiX3VybDIiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSIsInBhdGhuYW1lIiwidXJsUGFyc2UiLCJyZXNvbHZlT2JqZWN0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInJlc3QiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwiY2hhckNvZGVBdCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImgiLCJhZSIsImVzYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsIl9CYXNlVGV4dHVyZTMiLCJfdGlja2VyIiwiSEFWRV9FTk9VR0hfREFUQSIsIkhBVkVfRlVUVVJFX0RBVEEiLCJfYXV0b1VwZGF0ZSIsIl9pc0F1dG9VcGRhdGluZyIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX19sb2FkZWQiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJjdXJyZW50VGltZSIsInBhdXNlZCIsImVuZGVkIiwicGxheSIsInBhdXNlIiwidmlkZW9TcmMiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVTb3VyY2UiLCJmcm9tVXJscyIsIl9Hcm91cEQyIiwieDMiLCJ5MyIsInV2c1VpbnQzMiIsIlVpbnQzMkFycmF5IiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiX0NvbnRhaW5lcjIiLCJfUmVuZGVyVGV4dHVyZTIiLCJ0ZW1wTWF0cml4IiwiU3lzdGVtUmVuZGVyZXIiLCJzeXN0ZW0iLCJhc3NpZ24iLCJfYmFja2dyb3VuZENvbG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicGFyZW50Tm9kZSIsImNyZWF0ZUNvbG9yZWRDYW52YXMiLCJtYWdlbnRhIiwieWVsbG93IiwiaW1hZ2VEYXRhIiwiX0ZpbHRlcjMiLCJfVGV4dHVyZU1hdHJpeDIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsImlucHV0Iiwib3V0cHV0Iiwib3RoZXJNYXRyaXgiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJtYXBDb29yZCIsIm1hc2tDbGFtcCIsInVDbGFtcEZyYW1lIiwiYXBwbHlGaWx0ZXIiLCJfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIiLCJTT1VSQ0VfS0VZX01BUCIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJfYmxlbmRNb2RlIiwiZ2xTaGFkZXJzIiwiZ2xTaGFkZXJLZXkiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImN1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsInVDbGFtcE9mZnNldCIsIl9sYXN0VGV4dHVyZUlEIiwiY2xhbXBPZmZzZXQiLCJ0ZXhCYXNlIiwibWFyZ2luIiwib2Zmc2V0IiwiX2NyZWF0ZUluZGljZXNGb3JRdWFkczIiLCJpbnRlcmxlYXZlZCIsImNyZWF0ZVZlcnRleEJ1ZmZlciIsIlNUQVRJQ19EUkFXIiwiY3JlYXRlSW5kZXhCdWZmZXIiLCJpbml0VmFvIiwiYWRkSW5kZXgiLCJhZGRBdHRyaWJ1dGUiLCJhVmVydGV4UG9zaXRpb24iLCJhVGV4dHVyZUNvb3JkIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVsZXRlQnVmZmVyIiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJicmVha1dvcmRzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZmlsbCIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImNsb25lZFByb3BlcnRpZXMiLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsImdldENvbG9yIiwiX2Ryb3BTaGFkb3dEaXN0YW5jZSIsIl9maWxsIiwiX2ZpbGxHcmFkaWVudFR5cGUiLCJfZmlsbEdyYWRpZW50U3RvcHMiLCJhcnJheTEiLCJhcnJheTIiLCJhcmVBcnJheXNFcXVhbCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRTdHlsZSIsIl9mb250VmFyaWFudCIsIl9mb250V2VpZ2h0IiwiX2xldHRlclNwYWNpbmciLCJfbGluZUhlaWdodCIsIl9sZWFkaW5nIiwiX2xpbmVKb2luIiwiX21pdGVyTGltaXQiLCJfcGFkZGluZyIsIl9zdHJva2UiLCJfc3Ryb2tlVGhpY2tuZXNzIiwiX3RleHRCYXNlbGluZSIsIl90cmltIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJwcm9wIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJsaW5lIiwiY2FjaGUiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXIiLCJuZXh0Q2hhciIsImxhc3RDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwidHJpbVJpZ2h0Iiwic3BhY2luZyIsIl9uZXdsaW5lcyIsIl9icmVha2luZ1NwYWNlcyIsIl9mb250cyIsInByb3BlcnRpZXMiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiaWR4IiwiYXNjZW50IiwiX2oiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZmlsbENvbG9yIiwiZmlsbEFscGhhIiwic2hhcGUiLCJfbGluZVRpbnQiLCJfZmlsbFRpbnQiLCJhZGRIb2xlIiwiYXJnNCIsImFyZzUiLCJmb3JjZUNhbnZhcyIsInNoYXJlZFRpY2tlciIsIl9vcHRpb25zIiwic2hhcmVkTG9hZGVyIiwic3RhZ2UiLCJzdGFnZU9wdGlvbnMiLCJvbGRUaWNrZXIiLCJhcmcxIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiQml0bWFwVGV4dCIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiVGlsaW5nU3ByaXRlIiwiQW5pbWF0ZWRTcHJpdGUiLCJfQW5pbWF0ZWRTcHJpdGUiLCJfVGlsaW5nU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiX0JpdG1hcFRleHQiLCJfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIiLCJfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIiLCJfZ2V0TWF4Qmx1cktlcm5lbFNpemUyIiwiQmx1clhGaWx0ZXIiLCJfY29yZSRGaWx0ZXIiLCJzdHJlbmd0aCIsInF1YWxpdHkiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImZyYWdTcmMiLCJfcXVhbGl0eSIsImZpcnN0UnVuIiwicGFzc2VzIiwiZ2V0UmVuZGVyVGFyZ2V0IiwiZmxpcCIsImZsb3AiLCJ0ZW1wIiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJ2ZXJ0VGVtcGxhdGUiLCJibHVyTG9vcCIsInRlbXBsYXRlIiwiYmx1ciIsImtlcm5lbCIsIkdBVVNTSUFOX1ZBTFVFUyIsImZyYWdTb3VyY2UiLCJmcmFnVGVtcGxhdGUiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJtYXhWYXJ5aW5ncyIsIk1BWF9WQVJZSU5HX1ZFQ1RPUlMiLCJCbHVyWUZpbHRlciIsIkludGVyYWN0aW9uRGF0YSIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsImlzSW50ZWdlciIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJoaXRBcmVhIiwiYnV0dG9uTW9kZSIsImN1cnNvciIsInRyYWNrZWRQb2ludGVycyIsIl90cmFja2VkUG9pbnRlcnMiLCJyZXNvdXJjZSIsIl9yZXNvdXJjZUxvYWRlciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwieG1sVXJsIiwiYmFzZVVybCIsInBhZ2VzIiwidGV4dHVyZXMiLCJjb21wbGV0ZWQiLCJwYWdlIiwicGFnZUZpbGUiLCJyZXNvdXJjZXMiLCJiaXRtYXBSZXNvdXJjZSIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsIl9leHRyYXMiLCJiaXRtYXBGb250IiwicmVnaXN0ZXJGb250IiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJvcHRzIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJ1cmkiLCIkMCIsIiQxIiwiJDIiLCJvbmx5T25jZSIsImNhbGxGbiIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImNhbGxiYWNrIiwiZGVmZXJOZXh0IiwiZXJyIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJ3b3JrZXJzIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJidWZmZXIiLCJkcmFpbiIsInN0YXJ0ZWQiLCJfaW5zZXJ0Iiwia2lsbCIsInRhc2siLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250IiwiZW5jb2RlQmluYXJ5IiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsInBhZGRpbmdCeXRlcyIsIl9qbngiLCJfa2V5U3RyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJmcmFtZXMiLCJsb2FkT3B0aW9ucyIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsInNwcml0ZXNoZWV0IiwiX3VybCIsIm1ldGEiLCJfTWVzaDIiLCJfTWVzaDMiLCJQbGFuZSIsIl9NZXNoIiwidmVydGljZXNYIiwidmVydGljZXNZIiwiX3JlYWR5Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJjb2xvcnMiLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiQXJyYXlCdWZmZXIiLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0ZXN0MSIsIlN0cmluZyIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwibGV0dGVyIiwic2hvdWxkVXNlTmF0aXZlIiwic3ltYm9scyIsInRvT2JqZWN0IiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInN0YXJ0VGltZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJpc05hTiIsImlzRmluaXRlIiwiZmxvb3IiLCJfUmVjdGFuZ2xlMiIsIkNpcmNsZSIsInJhZGl1cyIsIkVsbGlwc2UiLCJub3JteCIsIm5vcm15IiwiX2tleSIsImlsIiwiY2xvc2VkIiwiY2xvc2UiLCJ4aSIsInlpIiwieGoiLCJ5aiIsIlJvdW5kZWRSZWN0YW5nbGUiLCJyYWRpdXMyIiwiRU1QVFlfQVJSQVlfQlVGRkVSIiwiQnVmZmVyIiwiZHJhd1R5cGUiLCJjcmVhdGVCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJkb250QmluZCIsImJ5dGVMZW5ndGgiLCJidWZmZXJTdWJEYXRhIiwiYnVmZmVyRGF0YSIsImJpbmRCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJlbmFibGVUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJGUkFNRUJVRkZFUiIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImJpbmRGcmFtZWJ1ZmZlciIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZmJvIiwiY3JlYXRlRmxvYXQzMiIsImNvbXBpbGVQcm9ncmFtIiwiZXh0cmFjdEF0dHJpYnV0ZXMiLCJleHRyYWN0VW5pZm9ybXMiLCJzZXRQcmVjaXNpb24iLCJnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJuYXRpdmVTdGF0ZSIsIm5hdGl2ZVZhbyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwibWF4QXR0cmlicyIsIk1BWF9WRVJURVhfQVRUUklCUyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImxhc3RCdWZmZXIiLCJkcmF3IiwiZHJhd0VsZW1lbnRzIiwiVU5TSUdORURfU0hPUlQiLCJkcmF3QXJyYXlzIiwiZ2V0U2l6ZSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwiX2lzbW9iaWxlanMyIiwiX2lzbW9iaWxlanMiLCJwbGF0Zm9ybSIsIl9fcGx1Z2lucyIsInJlZ2lzdGVyUGx1Z2luIiwiY3RvciIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlbGF5TWl4aW4iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5wbSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsImJhc2UiLCJ0TWluIiwidE1heCIsImRhbXAiLCJpbml0aWFsQmlhcyIsImluaXRpYWxOIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJvdmVyZmxvdyIsIm5vdC1iYXNpYyIsImludmFsaWQtaW5wdXQiLCJiYXNlTWludXNUTWluIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwibWFwRG9tYWluIiwic3RyaW5nIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiZGVjb2RlIiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidmVyc2lvbiIsInVjczIiLCJ0b1VuaWNvZGUiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJhcmciLCJxcyIsImVxIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwic3RyaW5naWZ5UHJpbWl0aXZlIiwib2JqZWN0S2V5cyIsImtzIiwiX1RpY2tlckxpc3RlbmVyMiIsIl9yZXF1ZXN0SWQiLCJfbWF4RWxhcHNlZE1TIiwiZGVsdGFUaW1lIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJfdGljayIsInRpbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsInByaW9yaXR5IiwiX2FkZExpc3RlbmVyIiwiY3VycmVudCIsInByZXZpb3VzIiwiY29ubmVjdCIsImhlYWQiLCJmcHMiLCJtaW5GUE1TIiwiVGlja2VyTGlzdGVuZXIiLCJyZWRpcmVjdCIsImhhcmQiLCJfQ2FudmFzVGludGVyMiIsImNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtIiwic21vb3RoaW5nRW5hYmxlZCIsInRpbnRlZFRleHR1cmUiLCJDYW52YXNNYXNrTWFuYWdlciIsIm1hc2tEYXRhIiwiY2FjaGVBbHBoYSIsInJlbmRlckdyYXBoaWNzU2hhcGUiLCJjbGlwIiwiZ3JhcGhpY3MiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJhcmMiLCJveCIsIm95IiwieGUiLCJ5ZSIsInhtIiwieW0iLCJiZXppZXJDdXJ2ZVRvIiwicngiLCJyeSIsIm1heFJhZGl1cyIsInF1YWRyYXRpY0N1cnZlVG8iLCJfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIiLCJfT2JqZWN0UmVuZGVyZXIzIiwiX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMiIsIl9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyIiwiX0JhdGNoQnVmZmVyMiIsIlRJQ0siLCJURVhUVVJFX1RJQ0siLCJ2ZXJ0U2l6ZSIsInZlcnRCeXRlU2l6ZSIsImJ1ZmZlcnMiLCJncm91cHMiLCJ0ZXh0dXJlQ291bnQiLCJpZHMiLCJibGVuZCIsInNwcml0ZXMiLCJ2ZXJ0ZXhCdWZmZXJzIiwidmFvcyIsInZhb01heCIsInZlcnRleENvdW50Iiwib25QcmVyZW5kZXIiLCJNQVhfVEVYVFVSRVMiLCJhdHRycyIsIlNUUkVBTV9EUkFXIiwiYUNvbG9yIiwiYVRleHR1cmVJZCIsImN1cnJlbnRCbGVuZE1vZGUiLCJucDIiLCJmbG9hdDMyVmlldyIsInVpbnQzMlZpZXciLCJyZW5kZXJlckJvdW5kVGV4dHVyZXMiLCJ0b3VjaCIsIm5leHRUZXh0dXJlIiwiY3VycmVudFRleHR1cmUiLCJncm91cENvdW50IiwiY3VycmVudEdyb3VwIiwiYnQiLCJzcHJpdGVCbGVuZE1vZGUiLCJ0SW5kZXgiLCJhcmdiIiwiZ3JvdXAiLCJncm91cFRleHR1cmVDb3VudCIsIl9XZWJHTE1hbmFnZXIzIiwiX1Nwcml0ZU1hc2tGaWx0ZXIyIiwiTWFza01hbmFnZXIiLCJzY2lzc29yRGF0YSIsInNjaXNzb3JSZW5kZXJUYXJnZXQiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsImFscGhhTWFza0luZGV4IiwicHVzaFNwcml0ZU1hc2siLCJpc0Zhc3RSZWN0Iiwicm90IiwicHVzaFN0ZW5jaWxNYXNrIiwicHVzaFNjaXNzb3JNYXNrIiwicG9wU3ByaXRlTWFzayIsInBvcFNjaXNzb3JNYXNrIiwicG9wU3RlbmNpbE1hc2siLCJhbHBoYU1hc2tGaWx0ZXIiLCJwdXNoU3RlbmNpbCIsInBvcFN0ZW5jaWwiLCJ2ZXJ0VW5pZm9ybXMiLCJleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nIiwiZnJhZ1VuaWZvcm1zIiwibWFza1JlZ2V4IiwibmFtZVNwbGl0Iiwic3BsaXRMaW5lIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjaGRpciIsInVtYXNrIiwiU3RlbmNpbE1hbmFnZXIiLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiX3VzZUN1cnJlbnQiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwic3RlbmNpbFN0YWNrIiwiX1F1YWQyIiwiX1NoYWRlcjIiLCJmaWx0ZXJUcmFuc2Zvcm1zIiwiRmlsdGVyU3RhdGUiLCJGaWx0ZXJNYW5hZ2VyIiwicXVhZCIsInNoYWRlckNhY2hlIiwicG9vbCIsIm1hbmFnZWRGaWx0ZXJzIiwiX3NjcmVlbldpZHRoIiwiX3NjcmVlbkhlaWdodCIsImZpbHRlclN0YWNrIiwiZmlsdGVyU3RhdGUiLCJzdGFjayIsInJlbmRlclRhcmdldEZyYW1lIiwiZnVsbFNjcmVlbiIsInRhcmdldEJvdW5kcyIsImdldFBvdFJlbmRlclRhcmdldCIsImxhc3RTdGF0ZSIsImZyZWVQb3RSZW5kZXJUYXJnZXQiLCJzeW5jVW5pZm9ybXMiLCJmaWx0ZXJDbGFtcCIsImNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4Iiwib3V0cHV0TWF0cml4IiwiY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IiwiY29udGV4dExvc3QiLCJlbXB0eVBvb2wiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsInRleHR1cmVTaXplIiwibWFwcGVkTWF0cml4IiwidHJhbnNsYXRlU2NhbGVYIiwidHJhbnNsYXRlU2NhbGVZIiwiVEVNUF9NQVRSSVgiLCJUZXh0dXJlTWFuYWdlciIsIl9tYW5hZ2VkVGV4dHVyZXMiLCJnZXRUZXh0dXJlIiwiaXNSZW5kZXJUZXh0dXJlIiwiZGVzdHJveVRleHR1cmUiLCJza2lwUmVtb3ZlIiwiZ2xUZXh0dXJlcyIsImdsUmVuZGVyVGFyZ2V0cyIsIlRleHR1cmVHYXJiYWdlQ29sbGVjdG9yIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJ3YXNSZW1vdmVkIiwidW5sb2FkIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsIl9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyIiwiV2ViR0xTdGF0ZSIsImFjdGl2ZVN0YXRlIiwiVWludDhBcnJheSIsImRlZmF1bHRTdGF0ZSIsInN0YWNrSW5kZXgiLCJzZXRTdGF0ZSIsInNldEJsZW5kIiwic2V0RGVwdGhUZXN0Iiwic2V0RnJvbnRGYWNlIiwic2V0Q3VsbEZhY2UiLCJCTEVORCIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInJlc2V0QXR0cmlidXRlcyIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJPTkUiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiRFNUX0FMUEhBIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIlNSQ19BTFBIQSIsImdlbmVyYXRlU2FtcGxlU3JjIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwibWF4SWZzIiwiY3JlYXRlVGVtcENvbnRleHQiLCJ0aW55Q2FudmFzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJwb3NpdGlvbnMiLCJfU3ByaXRlMyIsIl9UZXh0U3R5bGUyIiwiX1RleHRNZXRyaWNzMiIsIl90cmltQ2FudmFzMiIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIl90ZXh0IiwiX3N0eWxlIiwiX3N0eWxlTGlzdGVuZXIiLCJfZm9udCIsImxvY2FsU3R5bGVJRCIsInJlc3BlY3REaXJ0eSIsIm1lYXN1cmVkIiwic3Ryb2tlU3R5bGUiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsInhTaGFkb3dPZmZzZXQiLCJ5U2hhZG93T2Zmc2V0IiwiZHJhd0xldHRlclNwYWNpbmciLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cm9rZVRleHQiLCJ0cmltbWVkIiwiX29uU3R5bGVDaGFuZ2UiLCJncmFkaWVudCIsInRvdGFsSXRlcmF0aW9ucyIsImN1cnJlbnRJdGVyYXRpb24iLCJsZW5ndGhQbHVzMSIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiX2kzIiwiYm91bmQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJfR3JhcGhpY3NEYXRhMiIsIl9TcHJpdGUyIiwiX2JlemllckN1cnZlVG8zIiwiY2FudmFzUmVuZGVyZXIiLCJ0ZW1wQ29sb3IxIiwidGVtcENvbG9yMiIsIl9wcmV2VGludCIsImN1cnJlbnRQYXRoIiwiX3dlYkdMIiwiYm91bmRzUGFkZGluZyIsIl9sb2NhbEJvdW5kcyIsImZhc3RSZWN0RGlydHkiLCJjbGVhckRpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwiX3ByZXZSZWN0VGludCIsIl9wcmV2UmVjdEZpbGxDb2xvciIsInVwZGF0ZUxvY2FsQm91bmRzIiwiX3F1YWRyYXRpY0N1cnZlTGVuZ3RoIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsImEzMiIsImJhIiwiX2JlemllckN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiX3NlZ21lbnRzQ291bnQiLCJDVVJWRVMiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwibGluZVN0eWxlIiwiYWxpZ25tZW50IiwiZHJhd1NoYXBlIiwieGEiLCJ5YSIsImFkYXB0aXZlIiwiYXJjVG8iLCJtbSIsImRkIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwic2VncyIsInN0YXJ0WCIsInN0YXJ0WSIsInhEaWZmIiwieURpZmYiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwicmVtYWluZGVyIiwiYmVnaW5GaWxsIiwiZmlsbGluZyIsImVuZEZpbGwiLCJkcmF3UmVjdCIsImRyYXdSb3VuZGVkUmVjdCIsImRyYXdDaXJjbGUiLCJkcmF3RWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJpbm5lclJhZGl1cyIsInBvbHlnb24iLCJjYW52YXNUaW50RGlydHkiLCJfcmVuZGVyU3ByaXRlUmVjdCIsInQxIiwibGIiLCJydyIsInJoIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiY2FudmFzQnVmZmVyIiwiX1NQUklURV9URVhUVVJFIiwiZHQiLCJkdDIiLCJkdDMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJ1cGRhdGVHcmFwaGljcyIsInNoYWRlclRlbXAiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImF0dHJpYnNTdGF0ZSIsIldlYkdMR3JhcGhpY3NEYXRhIiwiZ2xQb2ludHMiLCJnbEluZGljZXMiLCJQcmltaXRpdmVTaGFkZXIiLCJob2xlQXJyYXkiLCJ2ZXJ0UG9zIiwiX2J1aWxkTGluZTIiLCJyZWN0RGF0YSIsInRlbXBQb2ludHMiLCJfYnVpbGRMaW5lIiwicnJlY3REYXRhIiwicmVjUG9pbnRzIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJ2ZWNQb3MiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwieGIiLCJ5YiIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJfQ2FudmFzUmVuZGVyZXIiLCJ1cGRhdGVHcmFwaGljc1RpbnQiLCJyZW5kZXJQb2x5Z29uIiwic3Ryb2tlUmVjdCIsInRpbnRSIiwidGludEciLCJ0aW50QiIsIl8iLCJyZXNvbHV0aW9uRmlsZW5hbWUiLCJhbmltYXRpb25zIiwiX3VwZGF0ZVJlc29sdXRpb24iLCJfZnJhbWVzIiwiX2ZyYW1lS2V5cyIsIl9iYXRjaEluZGV4IiwiX2NhbGxiYWNrIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJfaXRlcmF0b3IiLCJfaXNBcnJheSIsIl9yZWYiLCJmcmFtZU5hbWUiLCJTcHJpdGVCYXRjaCIsIkFzc2V0TG9hZGVyIiwiU3RhZ2UiLCJEaXNwbGF5T2JqZWN0Q29udGFpbmVyIiwiU3RyaXAiLCJSb3BlIiwiUGFydGljbGVDb250YWluZXIiLCJNb3ZpZUNsaXAiLCJzY2FsZU1vZGVzIiwibWF0aCIsIkFic3RyYWN0RmlsdGVyIiwiVHJhbnNmb3JtTWFudWFsIiwiREVGQVVMVF9SRU5ERVJfT1BUSU9OUyIsImRlZmF1bHRzIiwiX2xvb3AiLCJkZXByZWNhdGlvbiIsIlRleHR1cmVUcmFuc2Zvcm0iLCJpc1N3YXBXaWR0aEhlaWdodCIsImdldEltYWdlIiwiZ2V0QmFzZTY0IiwiZ2V0Q2FudmFzIiwiZ2V0UGl4ZWxzIiwic2V0VGV4dHVyZSIsInNldFRleHQiLCJjYWxjdWxhdGVGb250UHJvcGVydGllcyIsImZvbnRQcm9wZXJ0aWVzQ2FjaGUiLCJmb250UHJvcGVydGllc0NhbnZhcyIsImZvbnRQcm9wZXJ0aWVzQ29udGV4dCIsInNldFN0eWxlIiwiZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMiLCJnZXRGb250U3R5bGUiLCJzcGxpdHMiLCJmb250U2l6ZUluZGV4IiwiYWRkVGV4dHVyZVRvQ2FjaGUiLCJyZW1vdmVUZXh0dXJlRnJvbUNhY2hlIiwiVm9pZEZpbHRlciIsIkFscGhhRmlsdGVyIiwidXVpZCIsImNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJyZWdpc3RlciIsIk5hTiIsIndlYmdsIiwiaXNKc29uIiwiaXNYbWwiLCJpc0ltYWdlIiwiaXNBdWRpbyIsImlzVmlkZW8iLCJiZWZvcmUiLCJwcmUiLCJhZnRlciIsInVzZSIsImludGVyYWN0aXZlVGFyZ2V0IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiY3Vyc29yU3R5bGVzIiwiY3VycmVudEN1cnNvck1vZGUiLCJ3YXJuaW5ncyIsIm1zZyIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJfYWNjZXNzaWJsZVRhcmdldCIsIl9BY2Nlc3NpYmlsaXR5TWFuYWdlciIsIl9hY2Nlc3NpYmxlVGFyZ2V0MiIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiRElWX1RPVUNIX1pJTkRFWCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiY3JlYXRlVG91Y2hIb29rIiwiekluZGV4IiwicmVuZGVySWQiLCJkZWJ1ZyIsIl9vbktleURvd24iLCJfb25Nb3VzZU1vdmUiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzYWJpbGxpdHkiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJib2R5IiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3giLCJzeSIsImNhcEhpdEFyZWEiLCJib3JkZXJTdHlsZSIsIl9vbkNsaWNrIiwiX29uRm9jdXMiLCJfb25Gb2N1c091dCIsImludGVyYWN0aW9uTWFuYWdlciIsImRpc3BhdGNoRXZlbnQiLCJldmVudERhdGEiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiX1dlYkdMRXh0cmFjdCIsIl9DYW52YXNFeHRyYWN0IiwiVEVNUF9SRUNUIiwiV2ViR0xFeHRyYWN0IiwidGV4dHVyZUJ1ZmZlciIsImZsaXBZIiwiZ2VuZXJhdGVkIiwid2ViZ2xQaXhlbHMiLCJyZWFkUGl4ZWxzIiwiY2FudmFzRGF0YSIsIkNhbnZhc0V4dHJhY3QiLCJfY29yZSRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImZyb21GcmFtZXMiLCJmcm9tSW1hZ2VzIiwiaW1hZ2VzIiwidGlsZVRyYW5zZm9ybSIsIl9jYW52YXNQYXR0ZXJuIiwidXZUcmFuc2Zvcm0iLCJ1dlJlc3BlY3RBbmNob3IiLCJiYXNlVGV4dHVyZVJlc29sdXRpb24iLCJtb2RYIiwidGlsZVBvc2l0aW9uIiwidGlsZVNjYWxlIiwibW9kWSIsInRlbXBDYW52YXMiLCJjcmVhdGVQYXR0ZXJuIiwiYW5jaG9yWCIsImFuY2hvclkiLCJfY29yZSRPYmplY3RSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsInRzIiwiYmFzZVRleCIsInV2IiwiaXNTaW1wbGUiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsInVDb2xvciIsInVTYW1wbGVyIiwiX09ic2VydmFibGVQb2ludDIiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJmb250cyIsImNoYXJzIiwidGV4dExlbmd0aCIsIm1heFdpZHRoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsIl9pNCIsInZhbGlkYXRlIiwiaW5mbyIsImNvbW1vbiIsInBhZ2VzVGV4dHVyZXMiLCJwYXJzZUludCIsImxldHRlcnMiLCJfaTUiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiX2k2IiwiZmlyc3QiLCJzZWNvbmQiLCJhbW91bnQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXJXZWJHTCIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZFdlYkdMIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlZFJlbmRlclRhcmdldCIsImNhY2hlZFNwcml0ZSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJnZXRDaGlsZEJ5TmFtZSIsImdldEdsb2JhbFBvc2l0aW9uIiwiX0ZYQUFGaWx0ZXIiLCJfTm9pc2VGaWx0ZXIiLCJfRGlzcGxhY2VtZW50RmlsdGVyIiwiX0JsdXJGaWx0ZXIiLCJfQmx1clhGaWx0ZXIiLCJfQmx1cllGaWx0ZXIiLCJfQ29sb3JNYXRyaXhGaWx0ZXIiLCJfQWxwaGFGaWx0ZXIiLCJGWEFBRmlsdGVyIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIkRpc3BsYWNlbWVudEZpbHRlciIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJfQmx1clhGaWx0ZXIyIiwiX0JsdXJZRmlsdGVyMiIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJfbG9hZE1hdHJpeCIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJtdWx0aXBseSIsImdyZXlzY2FsZSIsImJsYWNrQW5kV2hpdGUiLCJodWUiLCJjb3NSIiwic2luUiIsInNxclciLCJjb250cmFzdCIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIm5lZ2F0aXZlIiwic2VwaWEiLCJ0ZWNobmljb2xvciIsInBvbGFyb2lkIiwidG9CR1IiLCJrb2RhY2hyb21lIiwiYnJvd25pIiwidmludGFnZSIsImNvbG9yVG9uZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsIm5pZ2h0IiwiaW50ZW5zaXR5IiwicHJlZGF0b3IiLCJsc2QiLCJ1QWxwaGEiLCJncmF5c2NhbGUiLCJfSW50ZXJhY3Rpb25EYXRhIiwiX0ludGVyYWN0aW9uTWFuYWdlciIsIl9pbnRlcmFjdGl2ZVRhcmdldCIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9JbnRlcmFjdGlvbkV2ZW50IiwiX3R5cGVvZiIsIl9JbnRlcmFjdGlvbkRhdGEyIiwiX0ludGVyYWN0aW9uRXZlbnQyIiwiX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMiIsIl9pbnRlcmFjdGl2ZVRhcmdldDIiLCJNT1VTRV9QT0lOVEVSX0lEIiwiaGl0VGVzdEV2ZW50IiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJfdGVtcFBvaW50Iiwic2V0VGFyZ2V0RWxlbWVudCIsImhpdFRlc3QiLCJnbG9iYWxQb2ludCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsImVsZW1lbnQiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwiX2RlbHRhVGltZSIsImRpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkV2ZW50IiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsImV2ZW50U3RyaW5nIiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwiZnVuYyIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY2hpbGRIaXQiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwicmlnaHREb3duIiwibGVmdERvd24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsIm92ZXIiLCJub25lIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwidGV4dHVyZVBhcnNlciIsInNwcml0ZXNoZWV0UGFyc2VyIiwicGFyc2VCaXRtYXBGb250RGF0YSIsImJpdG1hcEZvbnRQYXJzZXIiLCJfYml0bWFwRm9udFBhcnNlciIsIl9zcHJpdGVzaGVldFBhcnNlciIsIl90ZXh0dXJlUGFyc2VyIiwiX0FwcGxpY2F0aW9uMiIsIl9sb2FkZXIyIiwiQXBwUHJvdG90eXBlIiwiX2xvYWRlciIsIl9wYXJlbnREZXN0cm95IiwiX1Jlc291cmNlMiIsInJneEV4dHJhY3RVcmxIYXNoIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwib25FcnJvciIsIm9uTG9hZCIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl9vbkxvYWQiLCJfdGhpczMiLCJfcmVzb3VyY2VMb2FkZXIyIiwiX2Jsb2IiLCJfdGV4dHVyZVBhcnNlcjIiLCJfc3ByaXRlc2hlZXRQYXJzZXIyIiwiX2JpdG1hcEZvbnRQYXJzZXIyIiwiX1Jlc291cmNlTG9hZGVyIiwiX3BpeGlNaWRkbGV3YXJlIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJibG9iTWlkZGxld2FyZUZhY3RvcnkiLCJCbG9iIiwiX3JldCIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9iMiIsIlVSTCIsIndlYmtpdFVSTCIsIl9NZXNoUmVuZGVyZXIiLCJfQ2FudmFzTWVzaFJlbmRlcmVyIiwiX1BsYW5lIiwiX05pbmVTbGljZVBsYW5lIiwiX1JvcGUiLCJtYXRyaXhJZGVudGl0eSIsIk1lc2hSZW5kZXJlciIsImdsRGF0YSIsIk1lc2hTcHJpdGVSZW5kZXJlciIsIl9yZW5kZXJUcmlhbmdsZU1lc2giLCJfcmVuZGVyVHJpYW5nbGVzIiwiX3JlbmRlckRyYXdUcmlhbmdsZSIsImluZGV4MCIsInRleHR1cmVTb3VyY2UiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidTAiLCJ1MSIsInUyIiwidjAiLCJ2MSIsInYyIiwidXQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm5vcm1YIiwibm9ybVkiLCJkZWx0YUEiLCJkZWx0YUIiLCJkZWx0YUMiLCJkZWx0YUQiLCJkZWx0YUUiLCJkZWx0YUYiLCJyZW5kZXJNZXNoRmxhdCIsIl9QbGFuZTIiLCJfUGxhbmUzIiwiREVGQVVMVF9CT1JERVJfU0laRSIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsImRyYXdTZWdtZW50Iiwic3ciLCJzaCIsImR3IiwiZGgiLCJfdXZ3IiwiX3V2aCIsInJlZnJlc2hWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwiX1BhcnRpY2xlQ29udGFpbmVyIiwiX1BhcnRpY2xlUmVuZGVyZXIiLCJtYXhTaXplIiwiYmF0Y2hTaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfZ2xCdWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsImJ1ZmZlckluZGV4IiwiaXNSb3RhdGVkIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZmluYWxXaWR0aCIsImZpbmFsSGVpZ2h0IiwiY2hpbGRUcmFuc2Zvcm0iLCJfYnVmZmVycyIsIl9QYXJ0aWNsZVNoYWRlcjIiLCJfUGFydGljbGVCdWZmZXIyIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZEZ1bmN0aW9uIiwidXBsb2FkVmVydGljZXMiLCJhUG9zaXRpb25Db29yZCIsInVwbG9hZFBvc2l0aW9uIiwiYVJvdGF0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1bnNpZ25lZEJ5dGUiLCJ1cGxvYWRUaW50IiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJ1cGxvYWREeW5hbWljIiwiYmlkIiwidXBsb2FkU3RhdGljIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJzdGFydEluZGV4Iiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJQYXJ0aWNsZVNoYWRlciIsIlBhcnRpY2xlQnVmZmVyIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9wcm9wZXJ0eTMiLCJfV2ViR0xQcmVwYXJlIiwiX0NhbnZhc1ByZXBhcmUiLCJfQmFzZVByZXBhcmUiLCJfVGltZUxpbWl0ZXIiLCJfQmFzZVByZXBhcmUyIiwiV2ViR0xQcmVwYXJlIiwiZmluZEdyYXBoaWNzIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJfQmFzZVByZXBhcmUzIiwiQ0FOVkFTX1NUQVJUX1NJWkUiLCJDYW52YXNQcmVwYXJlIiwiY3R4IiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwiVGltZUxpbWl0ZXIiLCJtYXhNaWxsaXNlY29uZHMiLCJmcmFtZVN0YXJ0IiwiZ2FtZXN0YXRlX0dhbWVTdGF0ZSIsIkdhbWVTdGF0ZSIsImVudGl0aWVzIiwic3RhdGVTdGFjayIsImFwcCIsImVudHMiLCJyZW5kZXJTeXN0ZW0iLCJFbnRpdHkiLCJjYW52YXNDb250YWluZXIiLCJnYW1lU3RhdGUiLCJsaWIiLCJkaXNwbGF5IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZW50Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnRlcnZhbCIsIm1haW4iLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFG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R0FBQWIsRUFBQSxHQUFBYSxFQUFBLEdBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUFBYixFQUFBLEdBQUFhLEVBQUEsSUFDQS9xQixFQUFBLEdBQUFrcUIsRUFBQSxHQUFBYSxFQUFBLEdBQUFiLEVBQUEsR0FBQWEsRUFBQSxHQUFBYixFQUFBLEdBQUFhLEVBQUEsSUFBQWIsRUFBQSxHQUFBYSxFQUFBLElBQ0EvcUIsRUFBQSxHQUFBa3FCLEVBQUEsR0FBQWEsRUFBQSxHQUFBYixFQUFBLEdBQUFhLEVBQUEsR0FBQWIsRUFBQSxHQUFBYSxFQUFBLElBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUFBYixFQUFBLEdBR0FscUIsRUFBQSxHQUFBa3FCLEVBQUEsR0FBQWEsRUFBQSxHQUFBYixFQUFBLEdBQUFhLEVBQUEsR0FBQWIsRUFBQSxHQUFBYSxFQUFBLElBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUNBL3FCLEVBQUEsR0FBQWtxQixFQUFBLEdBQUFhLEVBQUEsR0FBQWIsRUFBQSxHQUFBYSxFQUFBLEdBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUFBYixFQUFBLEdBQUFhLEVBQUEsSUFDQS9xQixFQUFBLEdBQUFrcUIsRUFBQSxHQUFBYSxFQUFBLEdBQUFiLEVBQUEsR0FBQWEsRUFBQSxHQUFBYixFQUFBLEdBQUFhLEVBQUEsSUFBQWIsRUFBQSxHQUFBYSxFQUFBLElBQ0EvcUIsRUFBQSxHQUFBa3FCLEVBQUEsR0FBQWEsRUFBQSxHQUFBYixFQUFBLEdBQUFhLEVBQUEsR0FBQWIsRUFBQSxHQUFBYSxFQUFBLElBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUNBL3FCLEVBQUEsR0FBQWtxQixFQUFBLEdBQUFhLEVBQUEsR0FBQWIsRUFBQSxHQUFBYSxFQUFBLEdBQUFiLEVBQUEsR0FBQWEsRUFBQSxJQUFBYixFQUFBLEdBQUFhLEVBQUEsSUFBQWIsRUFBQSxHQUdBbHFCLEVBQUEsSUFBQWtxQixFQUFBLElBQUFhLEVBQUEsR0FBQWIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxJQUFBYixFQUFBLElBQUFhLEVBQUEsSUFDQS9xQixFQUFBLElBQUFrcUIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsSUFBQWIsRUFBQSxJQUFBYSxFQUFBLElBQ0EvcUIsRUFBQSxJQUFBa3FCLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsR0FBQWIsRUFBQSxJQUFBYSxFQUFBLElBQUFiLEVBQUEsSUFBQWEsRUFBQSxJQUNBL3FCLEVBQUEsSUFBQWtxQixFQUFBLElBQUFhLEVBQUEsR0FBQWIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxJQUFBYixFQUFBLElBQUFhLEVBQUEsSUFDQS9xQixFQUFBLElBQUFrcUIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsSUFBQWIsRUFBQSxJQUFBYSxFQUFBLElBQUFiLEVBQUEsSUFHQWxxQixFQUFBLElBQUFrcUIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsSUFBQWIsRUFBQSxJQUFBYSxFQUFBLElBQ0EvcUIsRUFBQSxJQUFBa3FCLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsR0FBQWIsRUFBQSxJQUFBYSxFQUFBLElBQUFiLEVBQUEsSUFBQWEsRUFBQSxJQUNBL3FCLEVBQUEsSUFBQWtxQixFQUFBLElBQUFhLEVBQUEsR0FBQWIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxJQUFBYixFQUFBLElBQUFhLEVBQUEsSUFDQS9xQixFQUFBLElBQUFrcUIsRUFBQSxJQUFBYSxFQUFBLEdBQUFiLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFhLEVBQUEsSUFBQWIsRUFBQSxJQUFBYSxFQUFBLElBQ0EvcUIsRUFBQSxJQUFBa3FCLEVBQUEsSUFBQWEsRUFBQSxHQUFBYixFQUFBLElBQUFh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S0QrRFBzMEUsRUM5RE50MEUsRUFBTUEsRUFBTXJ0QixPQUFTLElEOERIME8sT0FBT2l6RixFQUFZQyxHQUNwQ1UsRUFBSS9qRSxPQUFPeHdCLEtBS2hCLElBR1AwMEYsQ0FBbUI3L0YsU0FBUzgvRixlQUFlIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOTEpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gZXhwb3J0cy5WRVJTSU9OID0gJzQuOC4yJztcblxuLyoqXG4gKiBUd28gUGkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIFBJXzIgPSBleHBvcnRzLlBJXzIgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIFJBRF9UT19ERUcgPSBleHBvcnRzLlJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVHX1RPX1JBRCA9IGV4cG9ydHMuREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG5cbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEUgPSBleHBvcnRzLlJFTkRFUkVSX1RZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIFdFQkdMOiAxLFxuICBDQU5WQVM6IDJcbn07XG5cbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKi9cbnZhciBCTEVORF9NT0RFUyA9IGV4cG9ydHMuQkxFTkRfTU9ERVMgPSB7XG4gIE5PUk1BTDogMCxcbiAgQUREOiAxLFxuICBNVUxUSVBMWTogMixcbiAgU0NSRUVOOiAzLFxuICBPVkVSTEFZOiA0LFxuICBEQVJLRU46IDUsXG4gIExJR0hURU46IDYsXG4gIENPTE9SX0RPREdFOiA3LFxuICBDT0xPUl9CVVJOOiA4LFxuICBIQVJEX0xJR0hUOiA5LFxuICBTT0ZUX0xJR0hUOiAxMCxcbiAgRElGRkVSRU5DRTogMTEsXG4gIEVYQ0xVU0lPTjogMTIsXG4gIEhVRTogMTMsXG4gIFNBVFVSQVRJT046IDE0LFxuICBDT0xPUjogMTUsXG4gIExVTUlOT1NJVFk6IDE2LFxuICBOT1JNQUxfTlBNOiAxNyxcbiAgQUREX05QTTogMTgsXG4gIFNDUkVFTl9OUE06IDE5XG59O1xuXG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVMgPSBleHBvcnRzLkRSQVdfTU9ERVMgPSB7XG4gIFBPSU5UUzogMCxcbiAgTElORVM6IDEsXG4gIExJTkVfTE9PUDogMixcbiAgTElORV9TVFJJUDogMyxcbiAgVFJJQU5HTEVTOiA0LFxuICBUUklBTkdMRV9TVFJJUDogNSxcbiAgVFJJQU5HTEVfRkFOOiA2XG59O1xuXG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUyA9IGV4cG9ydHMuU0NBTEVfTU9ERVMgPSB7XG4gIExJTkVBUjogMCxcbiAgTkVBUkVTVDogMVxufTtcblxuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwcGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBDTEFNUCBvciBSRVBFQVQsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICogSWYgdGhlIHRleHR1cmUgaXMgbm9uIHBvd2VyIG9mIHR3byB0aGVuIGNsYW1wIHdpbGwgYmUgdXNlZCByZWdhcmRsZXNzIGFzIHdlYkdMIGNhblxuICogb25seSB1c2UgUkVQRUFUIGlmIHRoZSB0ZXh0dXJlIGlzIHBvMi5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTID0gZXhwb3J0cy5XUkFQX01PREVTID0ge1xuICBDTEFNUDogMCxcbiAgUkVQRUFUOiAxLFxuICBNSVJST1JFRF9SRVBFQVQ6IDJcbn07XG5cbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUyA9IGV4cG9ydHMuR0NfTU9ERVMgPSB7XG4gIEFVVE86IDAsXG4gIE1BTlVBTDogMVxufTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGltYWdlIHR5cGUgYnkgZXh0ZW5zaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgYGltYWdlLnBuZ2BcbiAqL1xudmFyIFVSTF9GSUxFX0VYVEVOU0lPTiA9IGV4cG9ydHMuVVJMX0ZJTEVfRVhURU5TSU9OID0gL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG52YXIgREFUQV9VUkkgPSBleHBvcnRzLkRBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBTVkcgc2l6ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNWR19TSVpFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cbnZhciBTVkdfU0laRSA9IGV4cG9ydHMuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGlkZW50aWZ5IHNoYXBlcywgbWFpbmx5IHRvIHByZXZlbnQgYGluc3RhbmNlb2ZgIGNhbGxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU0hBUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICovXG52YXIgU0hBUEVTID0gZXhwb3J0cy5TSEFQRVMgPSB7XG4gIFBPTFk6IDAsXG4gIFJFQ1Q6IDEsXG4gIENJUkM6IDIsXG4gIEVMSVA6IDMsXG4gIFJSRUM6IDRcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTiA9IGV4cG9ydHMuUFJFQ0lTSU9OID0ge1xuICBMT1c6ICdsb3dwJyxcbiAgTUVESVVNOiAnbWVkaXVtcCcsXG4gIEhJR0g6ICdoaWdocCdcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICovXG52YXIgVFJBTlNGT1JNX01PREUgPSBleHBvcnRzLlRSQU5TRk9STV9NT0RFID0ge1xuICBTVEFUSUM6IDAsXG4gIERZTkFNSUM6IDFcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQgPSBleHBvcnRzLlRFWFRfR1JBRElFTlQgPSB7XG4gIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgTElORUFSX0hPUklaT05UQUw6IDFcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWSA9IGV4cG9ydHMuVVBEQVRFX1BSSU9SSVRZID0ge1xuICBJTlRFUkFDVElPTjogNTAsXG4gIEhJR0g6IDI1LFxuICBOT1JNQUw6IDAsXG4gIExPVzogLTI1LFxuICBVVElMSVRZOiAtNTBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGV4cG9ydHMuQXBwbGljYXRpb24gPSBleHBvcnRzLkZpbHRlciA9IGV4cG9ydHMuU3ByaXRlTWFza0ZpbHRlciA9IGV4cG9ydHMuUXVhZCA9IGV4cG9ydHMuUmVuZGVyVGFyZ2V0ID0gZXhwb3J0cy5PYmplY3RSZW5kZXJlciA9IGV4cG9ydHMuV2ViR0xNYW5hZ2VyID0gZXhwb3J0cy5TaGFkZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlclRhcmdldCA9IGV4cG9ydHMuVGV4dHVyZVV2cyA9IGV4cG9ydHMuVmlkZW9CYXNlVGV4dHVyZSA9IGV4cG9ydHMuQmFzZVJlbmRlclRleHR1cmUgPSBleHBvcnRzLlJlbmRlclRleHR1cmUgPSBleHBvcnRzLkJhc2VUZXh0dXJlID0gZXhwb3J0cy5UZXh0dXJlTWF0cml4ID0gZXhwb3J0cy5UZXh0dXJlID0gZXhwb3J0cy5TcHJpdGVzaGVldCA9IGV4cG9ydHMuQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NEYXRhID0gZXhwb3J0cy5HcmFwaGljcyA9IGV4cG9ydHMuVGV4dE1ldHJpY3MgPSBleHBvcnRzLlRleHRTdHlsZSA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1RpbnRlciA9IGV4cG9ydHMuQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLlNwcml0ZSA9IGV4cG9ydHMuVHJhbnNmb3JtQmFzZSA9IGV4cG9ydHMuVHJhbnNmb3JtU3RhdGljID0gZXhwb3J0cy5UcmFuc2Zvcm0gPSBleHBvcnRzLkNvbnRhaW5lciA9IGV4cG9ydHMuRGlzcGxheU9iamVjdCA9IGV4cG9ydHMuQm91bmRzID0gZXhwb3J0cy5nbENvcmUgPSBleHBvcnRzLldlYkdMUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gZXhwb3J0cy50aWNrZXIgPSBleHBvcnRzLnV0aWxzID0gZXhwb3J0cy5zZXR0aW5ncyA9IHVuZGVmaW5lZDtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4vY29uc3QnKTtcblxuT2JqZWN0LmtleXMoX2NvbnN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfY29uc3Rba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4vbWF0aCcpO1xuXG5PYmplY3Qua2V5cyhfbWF0aCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX21hdGhba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dsQ29yZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vZGlzcGxheS9Cb3VuZHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCb3VuZHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QgPSByZXF1aXJlKCcuL2Rpc3BsYXkvRGlzcGxheU9iamVjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYXlPYmplY3QnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ29udGFpbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtU3RhdGljJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtU3RhdGljKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybUJhc2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUcmFuc2Zvcm1CYXNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlID0gcmVxdWlyZSgnLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNUaW50ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL3dlYmdsL1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dCA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRTdHlsZSA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0U3R5bGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0U3R5bGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0U3R5bGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRNZXRyaWNzID0gcmVxdWlyZSgnLi90ZXh0L1RleHRNZXRyaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dE1ldHJpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3MgPSByZXF1aXJlKCcuL2dyYXBoaWNzL0dyYXBoaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljc0RhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL3dlYmdsL0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlc2hlZXQgPSByZXF1aXJlKCcuL3RleHR1cmVzL1Nwcml0ZXNoZWV0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlc2hlZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVzaGVldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlTWF0cml4ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZU1hdHJpeCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYXRyaXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVJlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVJlbmRlclRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVmlkZW9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1ZpZGVvQmFzZVRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWRlb0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlVXZzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlVXZzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZVV2cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVVdnMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4vU2hhZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2hhZGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9XZWJHTE1hbmFnZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdXZWJHTE1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYmplY3RSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUXVhZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZU1hc2tGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVNYXNrRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9GaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQXBwbGljYXRpb24gPSByZXF1aXJlKCcuL0FwcGxpY2F0aW9uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQXBwbGljYXRpb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhdXRvRGV0ZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcjtcbiAgfVxufSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciB1dGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIHRpY2tlciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aWNrZXIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuc2V0dGluZ3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQ7XG5leHBvcnRzLnV0aWxzID0gdXRpbHM7XG5leHBvcnRzLnRpY2tlciA9IHRpY2tlcjtcbmV4cG9ydHMuQ2FudmFzUmVuZGVyZXIgPSBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQ7XG5leHBvcnRzLldlYkdMUmVuZGVyZXIgPSBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdDsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnByZW11bHRpcGx5QmxlbmRNb2RlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBleHBvcnRzLmVhcmN1dCA9IGV4cG9ydHMubWl4aW5zID0gZXhwb3J0cy5wbHVnaW5UYXJnZXQgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IGV4cG9ydHMucmVtb3ZlSXRlbXMgPSBleHBvcnRzLmlzTW9iaWxlID0gdW5kZWZpbmVkO1xuZXhwb3J0cy51aWQgPSB1aWQ7XG5leHBvcnRzLmhleDJyZ2IgPSBoZXgycmdiO1xuZXhwb3J0cy5oZXgyc3RyaW5nID0gaGV4MnN0cmluZztcbmV4cG9ydHMucmdiMmhleCA9IHJnYjJoZXg7XG5leHBvcnRzLmdldFJlc29sdXRpb25PZlVybCA9IGdldFJlc29sdXRpb25PZlVybDtcbmV4cG9ydHMuZGVjb21wb3NlRGF0YVVyaSA9IGRlY29tcG9zZURhdGFVcmk7XG5leHBvcnRzLmdldFVybEZpbGVFeHRlbnNpb24gPSBnZXRVcmxGaWxlRXh0ZW5zaW9uO1xuZXhwb3J0cy5nZXRTdmdTaXplID0gZ2V0U3ZnU2l6ZTtcbmV4cG9ydHMuc2tpcEhlbGxvID0gc2tpcEhlbGxvO1xuZXhwb3J0cy5zYXlIZWxsbyA9IHNheUhlbGxvO1xuZXhwb3J0cy5pc1dlYkdMU3VwcG9ydGVkID0gaXNXZWJHTFN1cHBvcnRlZDtcbmV4cG9ydHMuc2lnbiA9IHNpZ247XG5leHBvcnRzLmRlc3Ryb3lUZXh0dXJlQ2FjaGUgPSBkZXN0cm95VGV4dHVyZUNhY2hlO1xuZXhwb3J0cy5jbGVhclRleHR1cmVDYWNoZSA9IGNsZWFyVGV4dHVyZUNhY2hlO1xuZXhwb3J0cy5jb3JyZWN0QmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZTtcbmV4cG9ydHMucHJlbXVsdGlwbHlUaW50ID0gcHJlbXVsdGlwbHlUaW50O1xuZXhwb3J0cy5wcmVtdWx0aXBseVJnYmEgPSBwcmVtdWx0aXBseVJnYmE7XG5leHBvcnRzLnByZW11bHRpcGx5VGludFRvUmdiYSA9IHByZW11bHRpcGx5VGludFRvUmdiYTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfcGx1Z2luVGFyZ2V0ID0gcmVxdWlyZSgnLi9wbHVnaW5UYXJnZXQnKTtcblxudmFyIF9wbHVnaW5UYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2luVGFyZ2V0KTtcblxudmFyIF9taXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4nKTtcblxudmFyIG1peGlucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9taXhpbik7XG5cbnZhciBfaXNtb2JpbGVqcyA9IHJlcXVpcmUoJ2lzbW9iaWxlanMnKTtcblxudmFyIGlzTW9iaWxlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2lzbW9iaWxlanMpO1xuXG52YXIgX3JlbW92ZUFycmF5SXRlbXMgPSByZXF1aXJlKCdyZW1vdmUtYXJyYXktaXRlbXMnKTtcblxudmFyIF9yZW1vdmVBcnJheUl0ZW1zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbW92ZUFycmF5SXRlbXMpO1xuXG52YXIgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcycpO1xuXG52YXIgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIG5leHRVaWQgPSAwO1xudmFyIHNhaWRIZWxsbyA9IGZhbHNlO1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5leHBvcnRzLmlzTW9iaWxlID0gaXNNb2JpbGU7XG5leHBvcnRzLnJlbW92ZUl0ZW1zID0gX3JlbW92ZUFycmF5SXRlbXMyLmRlZmF1bHQ7XG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQ7XG5leHBvcnRzLnBsdWdpblRhcmdldCA9IF9wbHVnaW5UYXJnZXQyLmRlZmF1bHQ7XG5leHBvcnRzLm1peGlucyA9IG1peGlucztcbmV4cG9ydHMuZWFyY3V0ID0gX2VhcmN1dDIuZGVmYXVsdDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5cbmZ1bmN0aW9uIHVpZCgpIHtcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJyZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBUaGUgbnVtYmVyIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSAge251bWJlcltdfSBbb3V0PVtdXSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvci5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dCkge1xuICAgIG91dCA9IG91dCB8fCBbXTtcblxuICAgIG91dFswXSA9IChoZXggPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoaGV4ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBOdW1iZXIgaW4gaGV4XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgaGV4ID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXggPSAnMDAwMDAwJy5zdWJzdHIoMCwgNiAtIGhleC5sZW5ndGgpICsgaGV4O1xuXG4gICAgcmV0dXJuICcjJyArIGhleDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSB0byBhIGhleCBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIHJnYiBhcnJheVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29sb3IgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG4gICAgcmV0dXJuIChyZ2JbMF0gKiAyNTUgPDwgMTYpICsgKHJnYlsxXSAqIDI1NSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBJWEkudXRpbHN+RGVjb21wb3NlZERhdGFVcmlcbiAqIEBwcm9wZXJ0eSB7bWVkaWFUeXBlfSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdWJUeXBlfSBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAcHJvcGVydHkge2VuY29kaW5nfSBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBwcm9wZXJ0eSB7ZGF0YX0gVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlsc35EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gX2NvbnN0LkRBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0IHR5cGUgb2YgdGhlIGltYWdlIGJ5IHJlZ2V4cCBmb3IgZXh0ZW5zaW9uLiBSZXR1cm5zIHVuZGVmaW5lZCBmb3IgdW5rbm93biBleHRlbnNpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0VXJsRmlsZUV4dGVuc2lvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBpbWFnZSBleHRlbnNpb25cbiAqL1xuZnVuY3Rpb24gZ2V0VXJsRmlsZUV4dGVuc2lvbih1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gX2NvbnN0LlVSTF9GSUxFX0VYVEVOU0lPTi5leGVjKHVybCk7XG5cbiAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBleHRlbnNpb25bMV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFR5cGVkZWYgZm9yIFNpemUgb2JqZWN0LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBJWEkudXRpbHN+U2l6ZVxuICogQHByb3BlcnR5IHt3aWR0aH0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge2hlaWdodH0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG5cbi8qKlxuICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFN2Z1NpemVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAqIEByZXR1cm4ge1BJWEkudXRpbHN+U2l6ZXx1bmRlZmluZWR9IGltYWdlIGV4dGVuc2lvblxuICovXG5mdW5jdGlvbiBnZXRTdmdTaXplKHN2Z1N0cmluZykge1xuICAgIHZhciBzaXplTWF0Y2ggPSBfY29uc3QuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgIHZhciBzaXplID0ge307XG5cbiAgICBpZiAoc2l6ZU1hdGNoKSB7XG4gICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplO1xufVxuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2VzIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbJ1xcbiAlYyAlYyAlYyBQaXhpSlMgJyArIF9jb25zdC5WRVJTSU9OICsgJyAtIFxcdTI3MzAgJyArIHR5cGUgKyAnIFxcdTI3MzAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMgXFx1MjY2NSVjXFx1MjY2NSVjXFx1MjY2NSBcXG5cXG4nLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZmMzZGM7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7J107XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdQaXhpSlMgJyArIF9jb25zdC5WRVJTSU9OICsgJyAtICcgKyB0eXBlICsgJyAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8nKTtcbiAgICB9XG5cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIHdlYmdsIHN1cHBvcnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzIHdlYmdsIHN1cHBvcnRlZFxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIHZhciBjb250ZXh0T3B0aW9ucyA9IHsgc3RlbmNpbDogdHJ1ZSwgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdHJ1ZSB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgc2lnbiBvZiBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHNpZ25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gdGhlIG51bWJlciB0byBjaGVjayB0aGUgc2lnbiBvZlxuICogQHJldHVybnMge251bWJlcn0gMCBpZiBgbmAgaXMgMCwgLTEgaWYgYG5gIGlzIG5lZ2F0aXZlLCAxIGlmIGBuYCBpcyBwb3NpdGl2ZVxuICovXG5mdW5jdGlvbiBzaWduKG4pIHtcbiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IGV4cG9ydHMuVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IGV4cG9ydHMuQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleSA9IHZvaWQgMDtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleSA9IHZvaWQgMDtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG59XG5cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG52YXIgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBleHBvcnRzLnByZW11bHRpcGx5QmxlbmRNb2RlID0gKDAsIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIuZGVmYXVsdCkoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCkge1xuICAgIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGludGVnZXQgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKSB7XG4gICAgaWYgKGFscGhhID09PSAxLjApIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSB0aW50ID4+IDE2ICYgMHhGRjtcbiAgICB2YXIgRyA9IHRpbnQgPj4gOCAmIDB4RkY7XG4gICAgdmFyIEIgPSB0aW50ICYgMHhGRjtcblxuICAgIFIgPSBSICogYWxwaGEgKyAwLjUgfCAwO1xuICAgIEcgPSBHICogYWxwaGEgKyAwLjUgfCAwO1xuICAgIEIgPSBCICogYWxwaGEgKyAwLjUgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29tYmluZXMgcmdiIGFuZCBhbHBoYSB0byBvdXQgYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHJnYiBpbnB1dCByZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICh0aW50ID4+IDE2ICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAodGludCA+PiA4ICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMl0gPSAodGludCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21heFJlY29tbWVuZGVkVGV4dHVyZXMgPSByZXF1aXJlKCcuL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMnKTtcblxudmFyIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21heFJlY29tbWVuZGVkVGV4dHVyZXMpO1xuXG52YXIgX2NhblVwbG9hZFNhbWVCdWZmZXIgPSByZXF1aXJlKCcuL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXInKTtcblxudmFyIF9jYW5VcGxvYWRTYW1lQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVwbG9hZFNhbWVCdWZmZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHBlcmNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLlxuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuICAvKipcbiAgICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMC4wNlxuICAgKi9cbiAgVEFSR0VUX0ZQTVM6IDAuMDYsXG5cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIE1JUE1BUF9URVhUVVJFUzogdHJ1ZSxcblxuICAvKipcbiAgICogRGVmYXVsdCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBSRVNPTFVUSU9OOiAxLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGZpbHRlciByZXNvbHV0aW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDMyXG4gICAqL1xuICBTUFJJVEVfTUFYX1RFWFRVUkVTOiAoMCwgX21heFJlY29tbWVuZGVkVGV4dHVyZXMyLmRlZmF1bHQpKDMyKSxcblxuICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNDA5NlxuICAgKi9cbiAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmaXggdGhhdCBkZW5vdGVzIGEgVVJMIGlzIGZvciBhIHJldGluYSBhc3NldC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgKiBAZXhhbXBsZSBgQDJ4YFxuICAgKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAgICovXG4gIFJFVElOQV9QUkVGSVg6IC9AKFswLTlcXC5dKyl4LyxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9SZXNpemU9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc3BhcmVudD1mYWxzZVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdW5kUGl4ZWxzPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aD04MDBcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICovXG4gIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgdmlldzogbnVsbCxcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGZvcmNlRlhBQTogZmFsc2UsXG4gICAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICByb3VuZFBpeGVsczogZmFsc2UsXG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDYwMCxcbiAgICBsZWdhY3k6IGZhbHNlXG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAqL1xuICBUUkFOU0ZPUk1fTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAqL1xuICBHQ19NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzNjAwXG4gICAqL1xuICBHQ19NQVhfSURMRTogNjAgKiA2MCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4aW11bSBjaGVjayBjb3VudC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA2MDBcbiAgICovXG4gIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcblxuICAvKipcbiAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLldSQVBfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgKi9cbiAgV1JBUF9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAqL1xuICBTQ0FMRV9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAqL1xuICBQUkVDSVNJT05fVkVSVEVYOiAnaGlnaHAnLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgKi9cbiAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiAnbWVkaXVtcCcsXG5cbiAgLyoqXG4gICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIENBTl9VUExPQURfU0FNRV9CVUZGRVI6ICgwLCBfY2FuVXBsb2FkU2FtZUJ1ZmZlcjIuZGVmYXVsdCkoKSxcblxuICAvKipcbiAgICogRGVmYXVsdCBNZXNoIGBjYW52YXNQYWRkaW5nYC5cbiAgICpcbiAgICogQHNlZSBQSVhJLm1lc2guTWVzaCNjYW52YXNQYWRkaW5nXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBNRVNIX0NBTlZBU19QQURESU5HOiAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BvaW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9pbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX09ic2VydmFibGVQb2ludCA9IHJlcXVpcmUoJy4vT2JzZXJ2YWJsZVBvaW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT2JzZXJ2YWJsZVBvaW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JzZXJ2YWJsZVBvaW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuL01hdHJpeCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01hdHJpeCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JvdXBEID0gcmVxdWlyZSgnLi9Hcm91cEQ4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JvdXBEOCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwRCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2lyY2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvQ2lyY2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2lyY2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9FbGxpcHNlID0gcmVxdWlyZSgnLi9zaGFwZXMvRWxsaXBzZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0VsbGlwc2UnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbGxpcHNlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Qb2x5Z29uID0gcmVxdWlyZSgnLi9zaGFwZXMvUG9seWdvbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BvbHlnb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2x5Z29uKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZWN0YW5nbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9SZWN0YW5nbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZWN0YW5nbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWN0YW5nbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JvdW5kZWRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUm91bmRlZFJlY3RhbmdsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdW5kZWRSZWN0YW5nbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwidmFyIGdsID0ge1xuICAgIGNyZWF0ZUNvbnRleHQ6ICAgICAgICAgIHJlcXVpcmUoJy4vY3JlYXRlQ29udGV4dCcpLFxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5czogIHJlcXVpcmUoJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyksXG4gICAgR0xCdWZmZXI6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTEJ1ZmZlcicpLFxuICAgIEdMRnJhbWVidWZmZXI6ICAgICAgICAgIHJlcXVpcmUoJy4vR0xGcmFtZWJ1ZmZlcicpLFxuICAgIEdMU2hhZGVyOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xTaGFkZXInKSxcbiAgICBHTFRleHR1cmU6ICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMVGV4dHVyZScpLFxuICAgIFZlcnRleEFycmF5T2JqZWN0OiAgICAgIHJlcXVpcmUoJy4vVmVydGV4QXJyYXlPYmplY3QnKSxcbiAgICBzaGFkZXI6ICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3NoYWRlcicpXG59O1xuXG4vLyBFeHBvcnQgZm9yIE5vZGUtY29tcGF0aWJsZSBlbnZpcm9ubWVudHNcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cylcbntcbiAgICAvLyBFeHBvcnQgdGhlIG1vZHVsZVxuICAgIG1vZHVsZS5leHBvcnRzID0gZ2w7XG59XG5cbi8vIEFkZCB0byB0aGUgYnJvd3NlciB3aW5kb3cgcGl4aS5nbFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxue1xuICAgIC8vIGFkZCB0aGUgd2luZG93IG9iamVjdFxuICAgIHdpbmRvdy5QSVhJID0gd2luZG93LlBJWEkgfHwge307XG4gICAgd2luZG93LlBJWEkuZ2xDb3JlID0gZ2w7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vVmlkZW9CYXNlVGV4dHVyZScpO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vVGV4dHVyZVV2cycpO1xuXG52YXIgX1RleHR1cmVVdnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZVV2cyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS4gSXQgY2Fubm90IGJlIGFkZGVkXG4gKiB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5LiBJbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkXG4gKiB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoVGV4dHVyZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFthbmNob3JdIC0gRGVmYXVsdCBhbmNob3IgcG9pbnQgdXNlZCBmb3Igc3ByaXRlIHBsYWNlbWVudCAvIHJvdGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSwgYW5jaG9yKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYF91cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCBhIHJlbmRlcmVyIGtub3cgdGhhdCBhIHRleHR1cmUgaGFzIGJlZW4gdXBkYXRlZCAodXNlZCBtYWlubHkgZm9yIHdlYkdMIHV2IHVwZGF0ZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXF1aXJlc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3V2cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsgLy8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcblxuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIF90aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKF90aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgX21hdGguUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBfbWF0aC5Qb2ludCgwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLiBUaGlzIGhhcHBlbnMgaWYgdGhlIGZyYW1lIG9yIHRoZSBiYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5UZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWlucyBkYXRhIGZvciB1dnMuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGFuZCBzb21lIG1hdHJpY2VzLlxuICAgICAgICAgKiBJdHMgYSBiaXQgaGVhdnksIHNvIGJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgbG9hZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlTG9hZGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZUxvYWRlZChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW3RoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmxdKSB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlTG9hZGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUsIHRoaXMub3JpZywgdGhpcy50cmltLCB0aGlzLnJvdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZVV2cyA9IGZ1bmN0aW9uIF91cGRhdGVVdnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdXZzKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgX1RleHR1cmVVdnMyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgVGV4dHVyZSBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gaW1hZ2UgdXJsLlxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSAgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbl0gLSBXaGV0aGVyIHJlcXVlc3RzIHNob3VsZCBiZSB0cmVhdGVkIGFzIGNyb3Nzb3JpZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTVkcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gY2FudmFzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBlbGVtZW50IHNvdXJjZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbj0nY2FudmFzJ10gLSBBIHN0cmluZyBvcmlnaW4gb2Ygd2hvIGNyZWF0ZWQgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjYW52YXMnO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSwgb3JpZ2luKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdmlkZW8gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8c3RyaW5nfSB2aWRlbyAtIFRoZSBVUkwgb3IgYWN0dWFsIGVsZW1lbnQgb2YgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IGZ1bmN0aW9uIGZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW9VcmwodmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX1ZpZGVvQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSB2aWRlbyB1cmwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZpZGVvVXJsIC0gVVJMIG9mIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tVmlkZW9VcmwgPSBmdW5jdGlvbiBmcm9tVmlkZW9VcmwodmlkZW9VcmwsIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX1ZpZGVvQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbVVybCh2aWRlb1VybCwgc2NhbGVNb2RlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqICAgICAgICBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICAvLyBUT0RPIGF1dG8gZGV0ZWN0IGNyb3NzIG9yaWdpbi4uXG4gICAgICAgIC8vIFRPRE8gcGFzcyBpbiBzY2FsZSBtb2RlP1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtzb3VyY2VdO1xuXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgYSB2aWRlby4uXG4gICAgICAgICAgICAgICAgdmFyIGlzVmlkZW8gPSBzb3VyY2UubWF0Y2goL1xcLihtcDR8d2VibXxvZ2d8aDI2NHxhdml8bW92KSQvKSAhPT0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChpc1ZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlb1VybChzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21JbWFnZShzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb20oc291cmNlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21DYW52YXMoc291cmNlLCBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSwgJ0hUTUxDYW52YXNFbGVtZW50Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIHRleHR1cmUhXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRpYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiBmcm9tTG9hZGVyKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdChzb3VyY2UsIHVuZGVmaW5lZCwgKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKSk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciBmcm9tRnJhbWUgYW5kIGZyb21JbWFnZSBmdWNudGlvbnNcbiAgICAgICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcblxuICAgICAgICAvLyBhbHNvIGFkZCByZWZlcmVuY2VzIGJ5IHVybCBpZiB0aGV5IGFyZSBkaWZmZXJlbnQuXG4gICAgICAgIGlmIChuYW1lICE9PSBpbWFnZVVybCkge1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZSh0ZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQGlmIERFQlVHXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWycgKyBpZCArICddIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgLy8gQGVuZGlmXG5cbiAgICAgICAgICAgIF91dGlscy5UZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gaWQgb2YgYSBUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV8bnVsbH0gVGhlIFRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSh0ZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBzcGVjaWZpZXMgdGhlIHJlZ2lvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICogUGxlYXNlIGNhbGwgYF91cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0dXJlLCBbe1xuICAgICAgICBrZXk6ICdmcmFtZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcmFtZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsXG4gICAgICAgICAgICAgICAgeSA9IGZyYW1lLnksXG4gICAgICAgICAgICAgICAgd2lkdGggPSBmcmFtZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHZhciB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JYID0gJ1g6ICcgKyB4ICsgJyArICcgKyB3aWR0aCArICcgPSAnICsgKHggKyB3aWR0aCkgKyAnID4gJyArIHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWSA9ICdZOiAnICsgeSArICcgKyAnICsgaGVpZ2h0ICsgJyA9ICcgKyAoeSArIGhlaWdodCkgKyAnID4gJyArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9uczogJyArIChlcnJvclggKyAnICcgKyByZWxhdGlvbnNoaXAgKyAnICcgKyBlcnJvclkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZSAmJiB0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncm90YXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChyb3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHR1cmU7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSAxMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgMTAsIDEwKTtcblxuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KGNhbnZhcykpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpIHtcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsvKiBlbXB0eSAqL307XG59XG5cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgd2hpdGUgdGV4dHVyZSBvZiAxMHgxMCBzaXplLCB1c2VkIGZvciBncmFwaGljcyBhbmQgb3RoZXIgdGhpbmdzXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuVGV4dHVyZS5XSElURSA9IGNyZWF0ZVdoaXRlVGV4dHVyZSgpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFLmJhc2VUZXh0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGV4aXN0cyBPbmx5IGNoZWNrIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcylcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgICAgbGlzdGVuZXJzLmZuID09PSBmblxuICAgICAgJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKVxuICAgICAgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSlcbiAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luJyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4pO1xuXG52YXIgX2JpdFR3aWRkbGUgPSByZXF1aXJlKCdiaXQtdHdpZGRsZScpO1xuXG52YXIgX2JpdFR3aWRkbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0VHdpZGRsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhCYXNlVGV4dHVyZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtzb3VyY2VdIC0gdGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VUZXh0dXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLnVpZCA9ICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgICAgIF90aGlzLnRvdWNoZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGggPSAxMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gMTAwO1xuXG4gICAgICAgIC8vIFRPRE8gZG9jc1xuICAgICAgICAvLyB1c2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgZGltZW5zaW9ucyBvZiB0aGUgc291cmNlXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlYWxXaWR0aCA9IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlYWxIZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBvbmNlIHRoZSBiYXNlIHRleHR1cmUgaGFzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgbmV2ZXIgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgZmFpbHMgdG8gbG9hZCBvciBoYXMgbm8gdGV4dHVyZSBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGUgc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBhbiBJbWFnZSBzb3VyY2UgaXMgbG9hZGluZyB0aGUgJ2xvYWRlZCcgb3IgJ2Vycm9yJyBldmVudCB3aWxsIGJlXG4gICAgICAgICAqIGRpc3BhdGNoZWQgd2hlbiB0aGUgb3BlcmF0aW9uIGVuZHMuIEFuIHVuZGVyeWxpbmcgc291cmNlIHRoYXQgaXNcbiAgICAgICAgICogaW1tZWRpYXRlbHktYXZhaWxhYmxlIGJ5cGFzc2VzIGxvYWRpbmcgZW50aXJlbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogTWFrZSB0aGlzIGEgc2V0dGVyIHRoYXQgY2FsbHMgbG9hZFNvdXJjZSgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZSA9IG51bGw7IC8vIHNldCBpbiBsb2FkU291cmNlLCBpZiBhdCBhbGxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHNvdXJjZSB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlLiBUaGlzIGlzIHVzZWQgdG9cbiAgICAgICAgICogc3RvcmUgdGhlIG9yaWdpbmFsIFN2ZyBzb3VyY2Ugd2hlbiBpdCBpcyByZXBsYWNlZCB3aXRoIGEgY2FudmFzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IEN1cnJlbnRseSBub3QgaW4gdXNlIGJ1dCBjb3VsZCBiZSB1c2VkIHdoZW4gcmUtc2NhbGluZyBzdmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdTb3VyY2UgPSBudWxsOyAvLyBzZXQgaW4gbG9hZFN2ZywgaWYgYXQgYWxsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgb2YgaW1hZ2UgZGVmaW5lZCBpbiBzb3VyY2UsIGVnLiBgcG5nYCBvciBgc3ZnYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VUeXBlID0gbnVsbDsgLy8gc2V0IGluIHVwZGF0ZUltYWdlVHlwZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZSBmb3Igc291cmNlIGltYWdlLiBVc2VkIHdpdGggU3ZnIGltYWdlcyB0byBzY2FsZSB0aGVtIGJlZm9yZSByYXN0ZXJpemF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlU2NhbGUgPSAxLjA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIGlmIFJHQiBjaGFubmVscyBzaG91bGQgYmUgcHJlLW11bHRpcGxpZWQgYnkgQWxwaGEgIChXZWJHTCBvbmx5KVxuICAgICAgICAgKiBBbGwgYmxlbmQgbW9kZXMsIGFuZCBzaGFkZXJzIHdyaXR0ZW4gZm9yIGRlZmF1bHQgdmFsdWUuIENoYW5nZSBpdCBvbiB5b3VyIG93biByaXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGEgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlVXJsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlZCBmb3Igd2ViR0xcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiBhIG1pcG1hcCBvZiB0aGlzIHRleHR1cmUgbmVlZHMgdG8gYmUgZ2VuZXJhdGVkLiBUaGlzIHZhbHVlIG5lZWRzXG4gICAgICAgICAqIHRvIGJlIHNldCBiZWZvcmUgdGhlIHRleHR1cmUgaXMgdXNlZFxuICAgICAgICAgKiBBbHNvIHRoZSB0ZXh0dXJlIG11c3QgYmUgYSBwb3dlciBvZiB0d28gc2l6ZSB0byB3b3JrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBzZWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IF9zZXR0aW5nczIuZGVmYXVsdC5NSVBNQVBfVEVYVFVSRVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIFdlYkdMIFRleHR1cmUgd3JhcCBtb2RlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLldSQVBfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBNb2RlID0gX3NldHRpbmdzMi5kZWZhdWx0LldSQVBfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHRleHR1cmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIF90aGlzLl9lbmFibGVkID0gMDtcbiAgICAgICAgX3RoaXMuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBiYXNlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBCYXNlVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIC8vIGlmIG5vIHNvdXJjZSBwYXNzZWQgZG9uJ3QgdHJ5IHRvIGxvYWRcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZFNvdXJjZShzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0ZXh0dXJlIG9uIGFsbCB0aGUgd2ViZ2wgcmVuZGVyZXJzLCB0aGlzIGFsc28gYXNzdW1lcyB0aGUgc3JjIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFN2ZyBzaXplIGlzIGhhbmRsZWQgZHVyaW5nIGxvYWRcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlICE9PSAnc3ZnJykge1xuICAgICAgICAgICAgdGhpcy5yZWFsV2lkdGggPSB0aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGggfHwgdGhpcy5zb3VyY2UudmlkZW9XaWR0aCB8fCB0aGlzLnNvdXJjZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMucmVhbEhlaWdodCA9IHRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQgfHwgdGhpcy5zb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZGltZW5zaW9ucyBmcm9tIHJlYWwgdmFsdWVzXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIF91cGRhdGVEaW1lbnNpb25zKCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5yZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBfYml0VHdpZGRsZTIuZGVmYXVsdC5pc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBhIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBzb3VyY2UgaXMgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSwgc3VjaCBhcyBhbiBpbWFnZSB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICogZG93bmxvYWRlZCwgdGhlbiB0aGUgJ2xvYWRlZCcgb3IgJ2Vycm9yJyBldmVudCB3aWxsIGJlIGRpc3BhdGNoZWQgaW4gdGhlIGZ1dHVyZVxuICAgICAqIGFuZCBgaGFzTG9hZGVkYCB3aWxsIHJlbWFpbiBmYWxzZSBhZnRlciB0aGlzIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgbG9naWMgc3RhdGUgYWZ0ZXIgY2FsbGluZyBgbG9hZFNvdXJjZWAgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSAoZWcuIGBmcm9tSW1hZ2VgLCBgbmV3IEJhc2VUZXh0dXJlYCkgaXM6XG4gICAgICpcbiAgICAgKiAgICAgaWYgKHRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICogICAgICAgIC8vIHRleHR1cmUgcmVhZHkgZm9yIHVzZVxuICAgICAqICAgICB9IGVsc2UgaWYgKHRleHR1cmUuaXNMb2FkaW5nKSB7XG4gICAgICogICAgICAgIC8vIGxpc3RlbiB0byAnbG9hZGVkJyBhbmQvb3IgJ2Vycm9yJyBldmVudHMgb24gdGV4dHVyZVxuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgICAvLyBub3QgbG9hZGluZywgbm90IGdvaW5nIHRvIGxvYWQgVU5MRVNTIHRoZSBzb3VyY2UgaXMgcmVsb2FkZWRcbiAgICAgKiAgICAgICAgLy8gKGl0IG1heSBzdGlsbCBtYWtlIHNlbnNlIHRvIGxpc3RlbiB0byB0aGUgZXZlbnRzKVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSB0aGUgc291cmNlIG9iamVjdCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKHNvdXJjZSkge1xuICAgICAgICB2YXIgd2FzTG9hZGluZyA9IHRoaXMuaXNMb2FkaW5nO1xuXG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdhc0xvYWRpbmcgJiYgdGhpcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaXJzdFNvdXJjZUxvYWRlZCA9ICF0aGlzLnNvdXJjZTtcblxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAvLyBBcHBseSBzb3VyY2UgaWYgbG9hZGVkLiBPdGhlcndpc2Ugc2V0dXAgYXBwcm9wcmlhdGUgbG9hZGluZyBtb25pdG9ycy5cbiAgICAgICAgaWYgKChzb3VyY2Uuc3JjICYmIHNvdXJjZS5jb21wbGV0ZSB8fCBzb3VyY2UuZ2V0Q29udGV4dCkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUltYWdlVHlwZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U291cmNlTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VuZCBsb2FkZWQgZXZlbnQgaWYgcHJldmlvdXMgc291cmNlIHdhcyBudWxsIGFuZCB3ZSBoYXZlIGJlZW4gcGFzc2VkIGEgcHJlLWxvYWRlZCBJTUcgZWxlbWVudFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXNvdXJjZS5nZXRDb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBJbWFnZSBmYWlsIC8gbm90IHJlYWR5XG4gICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuX3VwZGF0ZUltYWdlVHlwZSgpO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5fc291cmNlTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5fbG9hZFN2Z1NvdXJjZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5lbWl0KCdsb2FkZWQnLCBzY29wZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZW1pdCgnZXJyb3InLCBzY29wZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBQZXIgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjdGhlLWltZy1lbGVtZW50XG4gICAgICAgICAgICAvLyAgIFwiVGhlIHZhbHVlIG9mIGBjb21wbGV0ZWAgY2FuIHRodXMgY2hhbmdlIHdoaWxlIGEgc2NyaXB0IGlzIGV4ZWN1dGluZy5cIlxuICAgICAgICAgICAgLy8gU28gY29tcGxldGUgbmVlZHMgdG8gYmUgcmUtY2hlY2tlZCBhZnRlciB0aGUgY2FsbGJhY2tzIGhhdmUgYmVlbiBhZGRlZC4uXG4gICAgICAgICAgICAvLyBOT1RFOiBjb21wbGV0ZSB3aWxsIGJlIHRydWUgaWYgdGhlIGltYWdlIGhhcyBubyBzcmMgc28gYmVzdCB0byBjaGVjayBpZiB0aGUgc3JjIGlzIHNldC5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIC8vIC4uYW5kIGlmIHdlJ3JlIGNvbXBsZXRlIG5vdywgbm8gbmVlZCBmb3IgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuX2xvYWRTdmdTb3VyY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgcHJldmlvdXMgc3Vic2NyaWJlcnMgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYW55IHByZXZpb3VzIHN1YnNjcmliZXJzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0eXBlIG9mIHRoZSBzb3VyY2UgaW1hZ2UuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlSW1hZ2VUeXBlID0gZnVuY3Rpb24gX3VwZGF0ZUltYWdlVHlwZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlVXJsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVVyaSA9ICgwLCBfdXRpbHMuZGVjb21wb3NlRGF0YVVyaSkodGhpcy5pbWFnZVVybCk7XG4gICAgICAgIHZhciBpbWFnZVR5cGUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkgJiYgZGF0YVVyaS5tZWRpYVR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBzdWJUeXBlIHZhbGlkaXR5XG4gICAgICAgICAgICB2YXIgZmlyc3RTdWJUeXBlID0gZGF0YVVyaS5zdWJUeXBlLnNwbGl0KCcrJylbMF07XG5cbiAgICAgICAgICAgIGltYWdlVHlwZSA9ICgwLCBfdXRpbHMuZ2V0VXJsRmlsZUV4dGVuc2lvbikoJy4nICsgZmlyc3RTdWJUeXBlKTtcblxuICAgICAgICAgICAgaWYgKCFpbWFnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgdHlwZSBpbiBkYXRhIFVSSS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltYWdlVHlwZSA9ICgwLCBfdXRpbHMuZ2V0VXJsRmlsZUV4dGVuc2lvbikodGhpcy5pbWFnZVVybCk7XG5cbiAgICAgICAgICAgIGlmICghaW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VUeXBlID0gJ3BuZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmltYWdlVHlwZSA9IGltYWdlVHlwZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzb3VyY2VgIGlzIGFuIFNWRyBpbWFnZSBhbmQgd2hldGhlciBpdCdzIGxvYWRlZCB2aWEgYSBVUkwgb3IgYSBkYXRhIFVSSS4gVGhlbiBjYWxsc1xuICAgICAqIGBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaWAgb3IgYF9sb2FkU3ZnU291cmNlVXNpbmdYaHJgLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlICE9PSAnc3ZnJykge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBzb3VyY2UgaXMgbm90IHN2Z1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFVcmkgPSAoMCwgX3V0aWxzLmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpO1xuXG4gICAgICAgIGlmIChkYXRhVXJpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpKGRhdGFVcmkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgZ290IGFuIFVSTCwgc28gd2UgbmVlZCB0byBkbyBhbiBYSFIgdG8gY2hlY2sgdGhlIHN2ZyBzaXplXG4gICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdYaHIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhbiBTVkcgc3RyaW5nIGZyb20gZGF0YSBVUkkgYW5kIHRoZW4gY2FsbHMgYF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSBUaGUgZGF0YSB1cmkgdG8gbG9hZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgICAgIHZhciBzdmdTdHJpbmcgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkuZW5jb2RpbmcgPT09ICdiYXNlNjQnKSB7XG4gICAgICAgICAgICBpZiAoIWF0b2IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBhdG9iKGRhdGFVcmkuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBkYXRhVXJpLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnU3RyaW5nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGBpbWFnZVVybGAgdXNpbmcgWEhSIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nYC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdYaHIgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgc3ZnWGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gVGhpcyB0aHJvd3MgZXJyb3Igb24gSUUsIHNvIFNWRyBEb2N1bWVudCBjYW4ndCBiZSB1c2VkXG4gICAgICAgIC8vIHN2Z1hoci5yZXNwb25zZVR5cGUgPSAnZG9jdW1lbnQnO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IG5lZWRlZCBzaW5jZSB3ZSBsb2FkIHRoZSBzdmcgYXMgc3RyaW5nIChicmVha3MgSUUgdG9vKVxuICAgICAgICAvLyBidXQgb3ZlcnJpZGVNaW1lVHlwZSgpIGNhbiBiZSB1c2VkIHRvIGZvcmNlIHRoZSByZXNwb25zZSB0byBiZSBwYXJzZWQgYXMgWE1MXG4gICAgICAgIC8vIHN2Z1hoci5vdmVycmlkZU1pbWVUeXBlKCdpbWFnZS9zdmcreG1sJyk7XG5cbiAgICAgICAgc3ZnWGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdmdYaHIucmVhZHlTdGF0ZSAhPT0gc3ZnWGhyLkRPTkUgfHwgc3ZnWGhyLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTVkcgdXNpbmcgWEhSLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczIuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdYaHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z1hoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5lbWl0KCdlcnJvcicsIF90aGlzMik7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3ZnWGhyLm9wZW4oJ0dFVCcsIHRoaXMuaW1hZ2VVcmwsIHRydWUpO1xuICAgICAgICBzdmdYaHIuc2VuZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0ZXh0dXJlIHVzaW5nIGFuIFNWRyBzdHJpbmcuIFRoZSBvcmlnaW5hbCBTVkcgSW1hZ2UgaXMgc3RvcmVkIGFzIGBvcmlnU291cmNlYCBhbmQgdGhlXG4gICAgICogY3JlYXRlZCBjYW52YXMgaXMgdGhlIG5ldyBgc291cmNlYC4gVGhlIFNWRyBpcyBzY2FsZWQgdXNpbmcgYHNvdXJjZVNjYWxlYC4gQ2FsbGVkIGJ5XG4gICAgICogYF9sb2FkU3ZnU291cmNlVXNpbmdYaHJgIG9yIGBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN2Z1N0cmluZyBTVkcgc291cmNlIGFzIHN0cmluZ1xuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdTdHJpbmcpIHtcbiAgICAgICAgdmFyIHN2Z1NpemUgPSAoMCwgX3V0aWxzLmdldFN2Z1NpemUpKHN2Z1N0cmluZyk7XG5cbiAgICAgICAgdmFyIHN2Z1dpZHRoID0gc3ZnU2l6ZS53aWR0aDtcbiAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHN2Z1NpemUuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYWxlIHJlYWxXaWR0aCBhbmQgcmVhbEhlaWdodFxuICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IE1hdGgucm91bmQoc3ZnV2lkdGggKiB0aGlzLnNvdXJjZVNjYWxlKTtcbiAgICAgICAgdGhpcy5yZWFsSGVpZ2h0ID0gTWF0aC5yb3VuZChzdmdIZWlnaHQgKiB0aGlzLnNvdXJjZVNjYWxlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHRoaXMucmVhbFdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5yZWFsSGVpZ2h0O1xuICAgICAgICBjYW52YXMuX3BpeGlJZCA9ICdjYW52YXNfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0aGlzLnNvdXJjZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgdGhpcy5yZWFsV2lkdGgsIHRoaXMucmVhbEhlaWdodCk7XG5cbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgc291cmNlIGltYWdlIHdpdGggdGhlIGNhbnZhc1xuICAgICAgICB0aGlzLm9yaWdTb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBjYW52YXM7XG5cbiAgICAgICAgLy8gQWRkIGFsc28gdGhlIGNhbnZhcyBpbiBjYWNoZSAoZGVzdHJveSBjbGVhcnMgYnkgYGltYWdlVXJsYCBhbmQgYHNvdXJjZS5fcGl4aUlkYClcbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLCBjYW52YXMuX3BpeGlJZCk7XG5cbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byB1cGRhdGUgdGhlIHdpZHRoLCBoZWlnaHQsIGFuZCBzb21lIG90aGVyIHRyYWNraW5nIHZhcnMgb25jZVxuICAgICAqIGEgc291cmNlIGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9zb3VyY2VMb2FkZWQgPSBmdW5jdGlvbiBfc291cmNlTG9hZGVkKCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVVybCkge1xuICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGhpcy5pbWFnZVVybF07XG5cbiAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBUaGUgb3JpZ2luYWwgc291cmNlIG11c3QgYmUgYW4gSW1hZ2UgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTcmMgLSB0aGUgcGF0aCBvZiB0aGUgaW1hZ2VcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVNvdXJjZUltYWdlID0gZnVuY3Rpb24gdXBkYXRlU291cmNlSW1hZ2UobmV3U3JjKSB7XG4gICAgICAgIHRoaXMuc291cmNlLnNyYyA9IG5ld1NyYztcblxuICAgICAgICB0aGlzLmxvYWRTb3VyY2UodGhpcy5zb3VyY2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGZyb20gdGhlIGdpdmVuIGltYWdlIHVybC5cbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSBiYXNlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlVXJsIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBTaG91bGQgdXNlIGFub255bW91cyBDT1JTPyBEZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBVUkwgaXMgbm90IGEgZGF0YS1VUkkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTdmcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyBuZXcgSW1hZ2UoKSBicmVha3MgdGV4IGxvYWRpbmcgaW4gc29tZSB2ZXJzaW9ucyBvZiBDaHJvbWUuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIzODA3MVxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7IC8vIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiBpbWFnZVVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAoMCwgX2RldGVybWluZUNyb3NzT3JpZ2luMi5kZWZhdWx0KShpbWFnZVVybCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoaW1hZ2UsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgICAgICBpZiAoc291cmNlU2NhbGUpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5zb3VyY2VTY2FsZSA9IHNvdXJjZVNjYWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBAMnggYXQgdGhlIGVuZCBvZiB0aGUgdXJsIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgaXRzIGEgaGlnaHJlcyBpbWFnZVxuICAgICAgICAgICAgYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCk7XG5cbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsOyAvLyBTZXR0aW5nIHRoaXMgdHJpZ2dlcnMgbG9hZFxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgZnJvbSB0aGUgZ2l2ZW4gY2FudmFzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBlbGVtZW50IHNvdXJjZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbj0nY2FudmFzJ10gLSBBIHN0cmluZyBvcmlnaW4gb2Ygd2hvIGNyZWF0ZWQgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgb3JpZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2FudmFzJztcblxuICAgICAgICBpZiAoIWNhbnZhcy5fcGl4aUlkKSB7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IG9yaWdpbiArICdfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbY2FudmFzLl9waXhpSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhbnZhcy5fcGl4aUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFN2ZyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tSW1hZ2Uoc291cmNlLCB1bmRlZmluZWQsIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5zb3VyY2VTY2FsZSA9IHNvdXJjZVNjYWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEAyeCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2UgYXJlIGdvaW5nIHRvIGFzc3VtZSBpdHMgYSBoaWdocmVzIGltYWdlXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCk7XG5cbiAgICAgICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb21DYW52YXMoc291cmNlLCBzY2FsZU1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEBpZiBERUJVR1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgaWYgKF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWycgKyBpZCArICddIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgLy8gQGVuZGlmXG5cbiAgICAgICAgICAgIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QyID0gcmVxdWlyZSgnLi9EaXNwbGF5T2JqZWN0Jyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0Mik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoX0Rpc3BsYXlPYmplY3QpIHtcbiAgICBfaW5oZXJpdHMoQ29udGFpbmVyLCBfRGlzcGxheU9iamVjdCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Rpc3BsYXlPYmplY3QuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSgpIHt9XG4gICAgLyogZW1wdHkgKi9cblxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY2hpbGQgKyAnYWRkQ2hpbGRBdDogVGhlIGluZGV4ICcgKyBpbmRleCArICcgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAnICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gc3dhcENoaWxkcmVuKGNoaWxkLCBjaGlsZDIpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gZ2V0Q2hpbGRJbmRleChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmRleCAnICsgaW5kZXggKyAnIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJyArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEF0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRBdChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldENoaWxkQXQ6IEluZGV4ICgnICsgaW5kZXggKyAnKSBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7RGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKCkge1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlbW92ZWQubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtfaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgY2hpbGQuX21hc2suX2JvdW5kcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHt9XG4gICAgLy8gRklMTCBJTi8vXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgX2kyIDwgajsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bX2kyXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG5cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXNcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2socmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0Rpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShfRGlzcGxheU9iamVjdDMuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb250YWluZXI7XG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL3V0aWxzL0NhbnZhc01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWFza01hbmFnZXIpO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlclRhcmdldCk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aScpO1xuXG52YXIgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIENhbnZhc1JlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSAyZCBjYW52YXMuIFRoaXMgcmVuZGVyZXIgc2hvdWxkXG4gKiBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IFdlYkdMLiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSBDYW52YXNSZW5kZXJlci52aWV3IHRvXG4gKiB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIDopXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlclxuICovXG52YXIgQ2FudmFzUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1JlbmRlcmVyLCBfU3lzdGVtUmVuZGVyZXIpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3lzdGVtUmVuZGVyZXIuY2FsbCh0aGlzLCAnQ2FudmFzJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5DQU5WQVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb290Q29udGV4dCA9IF90aGlzLnZpZXcuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBfdGhpcy50cmFuc3BhcmVudCB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgY2FudmFzIDJkIGNvbnRleHQgKGNvdWxkIGNoYW5nZSB3aXRoIHJlbmRlclRleHR1cmVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMucm9vdENvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvb2xlYW4gZmxhZyBjb250cm9sbGluZyBjYW52YXMgcmVmcmVzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZSBvZiBhIENhbnZhc01hc2tNYW5hZ2VyLCBoYW5kbGVzIG1hc2tpbmcgd2hlbiB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNhbnZhc01hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX0NhbnZhc01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBwcm9wZXJ0eSB1c2VkIHRvIHNldCB0aGUgY2FudmFzIHNtb290aGluZyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnaW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcblxuICAgICAgICBpZiAoIV90aGlzLnJvb3RDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnJvb3RDb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ3dlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21vekltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm9JbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdvSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubXNJbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucygpO1xuXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyLmRlZmF1bHQpKCk7XG4gICAgICAgIF90aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ2FudmFzUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIHRoaXMgY2FudmFzIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBBIHJlbmRlciB0ZXh0dXJlIHRvIGJlIHJlbmRlcmVkIHRvLlxuICAgICAqICBJZiB1bnNldCwgaXQgd2lsbCByZW5kZXIgdG8gdGhlIHJvb3QgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj1mYWxzZV0gLSBXaGV0aGVyIHRvIGNsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtYXRpb24gdG8gYmUgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoIXRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIHZhciByb290UmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUgfHwgcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBuZXcgX0NhbnZhc1JlbmRlclRhcmdldDIuZGVmYXVsdChyZW5kZXJUZXh0dXJlLndpZHRoLCByZW5kZXJUZXh0dXJlLmhlaWdodCwgcmVuZGVyVGV4dHVyZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnNvdXJjZSA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXM7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLnJvb3RDb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciB0ZW1wV3QgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uY29weSh0ZW1wV3QpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBub3QgZm9yZ2V0IHRvIGZsYWcgdGhlIHBhcmVudCB0cmFuc2Zvcm0gYXMgZGlydHkuLi5cbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0uX3dvcmxkSUQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcFd0LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUyAmJiB0aGlzLnZpZXcuc2NyZWVuY2FudmFzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYmFja2dyb3VuZCBmb3IgQ2FudmFzUmVuZGVyVGFyZ2V0IG9yIFJlbmRlclRleHR1cmU/XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIFJFTkRFUiBUQVJHRVQgU1RVRkYgSEVSRS4uXG4gICAgICAgIHZhciB0ZW1wQ29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlckNhbnZhcyh0aGlzKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGVtcENvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcm9vdFJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjYW52YXMgb2YgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NsZWFyQ29sb3JdIC0gQ2xlYXIgdGhlIGNhbnZhcyB3aXRoIHRoaXMgY29sb3IsIGV4Y2VwdCB0aGUgY2FudmFzIGlzIHRyYW5zcGFyZW50LlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcblxuICAgICAgICBpZiAoIXRoaXMudHJhbnNwYXJlbnQgJiYgY2xlYXJDb2xvcikge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjbGVhckNvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gU2VlIHtAbGluayBQSVhJLkJMRU5EX01PREVTfSBmb3IgdmFsaWQgdmFsdWVzLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IGJsZW5kTW9kZTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMuYmxlbmRNb2Rlc1tibGVuZE1vZGVdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVBsdWdpbnMoKTtcblxuICAgICAgICAvLyBjYWxsIHRoZSBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNtb290aFByb3BlcnR5ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlciNyZXNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlc2V0IHRoZSBzY2FsZSBtb2RlLi4gb2RkbHkgdGhpcyBzZWVtcyB0byBiZSByZXNldCB3aGVuIHRoZSBjYW52YXMgaXMgcmVzaXplZC5cbiAgICAgICAgLy8gc3VyZWx5IGEgYnJvd3NlciBidWc/PyBMZXQgUGl4aUpTIGZpeCB0aGF0IGZvciB5b3UuLlxuICAgICAgICBpZiAodGhpcy5zbW9vdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5yb290Q29udGV4dFt0aGlzLnNtb290aFByb3BlcnR5XSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTElORUFSO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBibGVuZCBtb2RlIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuaW52YWxpZGF0ZUJsZW5kTW9kZSA9IGZ1bmN0aW9uIGludmFsaWRhdGVCbGVuZE1vZGUoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2Rlcy5pbmRleE9mKHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24pO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7XG59KF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdCk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy4gVGhlc2UgYXJlIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaW4gUElYSSwgYnV0IGNhbiBiZSBleGNsdWRlZFxuICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gKiBAbmFtZSBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfSBwcmVwYXJlIFByZS1yZW5kZXIgZGlzcGxheSBvYmplY3RzLlxuICovXG5cbi8qKlxuICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gKlxuICogQG1ldGhvZCBQSVhJLkNhbnZhc1JlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihDYW52YXNSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtZXRob2QgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZS5cbiAgICpcbiAgICovXG5cblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHt9XG4gIC8vIGRvIHNvbWUgY29kZXMgaW5pdCFcblxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgKlxuICAgKi9cbiAgO1xuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTE1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gY2hlY2tQcmVjaXNpb24oc3JjLCBkZWYpIHtcbiAgICBpZiAoc3JjIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgaWYgKHNyY1swXS5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKSB7XG4gICAgICAgICAgICB2YXIgY29weSA9IHNyYy5zbGljZSgwKTtcblxuICAgICAgICAgICAgY29weS51bnNoaWZ0KCdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzcmMudHJpbSgpLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgcmV0dXJuICdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7XFxuJyArIHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgY2xhc3MsIHdlYkdMIFNoYWRlciBmb3IgUGl4aS5cbiAqIEFkZHMgcHJlY2lzaW9uIHN0cmluZyBpZiB2ZXJ0ZXhTcmMgb3IgZnJhZ21lbnRTcmMgaGF2ZSBubyBtZW50aW9uIG9mIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgR0xTaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFNoYWRlciA9IGZ1bmN0aW9uIChfR0xTaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoU2hhZGVyLCBfR0xTaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB2ZXJ0ZXhTcmMgLSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZnJhZ21lbnRTcmMgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlTG9jYXRpb25zXSAtIEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0LlxuICAgICAgICAgICAgICAgICAgICAgICBlLmcuIHtwb3NpdGlvbjowLCB1dnM6MX0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVjaXNpb25dIC0gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlcihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zLCBwcmVjaXNpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9HTFNoYWRlci5jYWxsKHRoaXMsIGdsLCBjaGVja1ByZWNpc2lvbih2ZXJ0ZXhTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX1ZFUlRFWCksIGNoZWNrUHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlBSRUNJU0lPTl9GUkFHTUVOVCksIHVuZGVmaW5lZCwgYXR0cmlidXRlTG9jYXRpb25zKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oX3BpeGlHbENvcmUuR0xTaGFkZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcbi8vIGltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbi8vIGltcG9ydCAqIGFzIGFzeW5jIGZyb20gJy4vYXN5bmMnO1xuLy8gaW1wb3J0ICogYXMgYjY0IGZyb20gJy4vYjY0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxudmFyIExvYWRlciA9IHJlcXVpcmUoJy4vTG9hZGVyJykuZGVmYXVsdDtcbnZhciBSZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKS5kZWZhdWx0O1xudmFyIGFzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xudmFyIGI2NCA9IHJlcXVpcmUoJy4vYjY0Jyk7XG5cbkxvYWRlci5SZXNvdXJjZSA9IFJlc291cmNlO1xuTG9hZGVyLmFzeW5jID0gYXN5bmM7XG5Mb2FkZXIuYmFzZTY0ID0gYjY0O1xuXG4vLyBleHBvcnQgbWFudWFsbHksIGFuZCBhbHNvIGFzIGRlZmF1bHRcbm1vZHVsZS5leHBvcnRzID0gTG9hZGVyO1xuLy8gZXhwb3J0IGRlZmF1bHQgTG9hZGVyO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBjb3JlLlBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3NcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqL1xuXG52YXIgTWVzaCA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoTWVzaCwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2gpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSBvZiB0aGUgTWVzaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGV4dHVyZS5FTVBUWVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl90ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgTWVzaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSB1dnMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzIHx8IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIC8vICBUT0RPIGF1dG8gZ2VuZXJhdGUgdGhpcyBiYXNlZCBvbiBkcmF3IG1vZGUhXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBpbmRpY2VzIHx8IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMywgMl0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWZXJzaW9uIG9mIG1lc2ggdXZzIGFyZSBkaXJ0eSBvciBub3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWZXJzaW9uIG9mIG1lc2ggaW5kaWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRleERpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVmVyc2lvbiBvZiBtZXNoIHZlcnRpY2llcyBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0aGUgZGVmYXVsdCBpcyB0byByZS11cGxvYWQgdmVydGljaWVzIGVhY2ggcmVuZGVyIGNhbGwuXG4gICAgICAgICAqIFNldCB0aGlzIHRvIGBmYWxzZWAgYW5kIGluY3JlYXNlIGB2ZXJ0ZXhEaXJ0eWAgdG8gbWFudWFsbHkgcmUtdXBsb2FkIHRoZSBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBTZXQgdG8gYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZW1vdmVcbiAgICAgICAgICogYW55IGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBjb3JlLkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJpYW5nbGVzIGluIGNhbnZhcyBtb2RlIGFyZSBhdXRvbWF0aWNhbGx5IGFudGlhbGlhc2VkLCB1c2UgdGhpcyB2YWx1ZSB0byBmb3JjZSB0cmlhbmdsZXNcbiAgICAgICAgICogdG8gb3ZlcmxhcCBhIGJpdCB3aXRoIGVhY2ggb3RoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhc1BhZGRpbmcgPSBjb3JlLnNldHRpbmdzLk1FU0hfQ0FOVkFTX1BBRERJTkc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5tZXNoLk1lc2guRFJBV19NT0RFU30gY29uc3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLm1lc2guTWVzaC5EUkFXX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlIHx8IE1lc2guRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgbWVzaCBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBtZXNoLiBUaGlzIGlzIGEgW3IsZyxiXSB2YWx1ZS4gQSB2YWx1ZSBvZiBbMSwxLDFdIHdpbGwgcmVtb3ZlIGFueVxuICAgICAgICAgKiB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDFdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHJlbmRlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIG9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xEYXRhcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0cmFuc2Zvcm0gdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICogaXRzIHVwZGF0ZWQgaW5kZXBlbmRlbnRseSBmcm9tIHRleHR1cmUgdXZUcmFuc2Zvcm1cbiAgICAgICAgICogdXBkYXRlcyBvZiB1dnMgYXJlIHRpZWQgdG8gdGhhdCB0aGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXZUcmFuc2Zvcm0gPSBuZXcgY29yZS5UZXh0dXJlTWF0cml4KF90aGlzLl90ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hldGhlciBvciBub3QgdXBsb2FkIHV2VHJhbnNmb3JtIHRvIHNoYWRlclxuICAgICAgICAgKiBpZiBpdHMgZmFsc2UsIHRoZW4gdXZzIHNob3VsZCBiZSBwcmUtbXVsdGlwbGllZFxuICAgICAgICAgKiBpZiB5b3UgY2hhbmdlIGl0IGZvciBnZW5lcmF0ZWQgbWVzaCwgcGxlYXNlIGNhbGwgJ3JlZnJlc2godHJ1ZSknXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGxvYWRVdlRyYW5zZm9ybSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ21lc2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ21lc2gnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBhIHJlZmVyZW5jZSB0byB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKi9cblxuXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIE1lc2gucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl91dlRyYW5zZm9ybS50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIG11bHRpcGxpZXMgdXZzIG9ubHkgaWYgdXBsb2FkVXZUcmFuc2Zvcm0gaXMgZmFsc2VcbiAgICAgKiBjYWxsIGl0IGFmdGVyIHlvdSBjaGFuZ2UgdXZzIG1hbnVhbGx5XG4gICAgICogbWFrZSBzdXJlIHRoYXQgdGV4dHVyZSBpcyB2YWxpZFxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzKCkge1xuICAgICAgICBpZiAoIXRoaXMudXBsb2FkVXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuX3V2VHJhbnNmb3JtLm11bHRpcGx5VXZzKHRoaXMudXZzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgdXZzIGZvciBnZW5lcmF0ZWQgbWVzaGVzIChyb3BlLCBwbGFuZSlcbiAgICAgKiBzb21ldGltZXMgcmVmcmVzaGVzIHZlcnRpY2VzIHRvb1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaChmb3JjZVVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERpcnR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3V2VHJhbnNmb3JtLnVwZGF0ZShmb3JjZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZS1jYWxjdWxhdGVzIG1lc2ggY29vcmRzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuXG5cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge31cbiAgICAvKiBlbXB0eSAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKlxuICAgICAqL1xuICAgIDtcblxuICAgIE1lc2gucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICAvLyBUT0RPIC0gd2UgY2FuIGNhY2hlIGxvY2FsIGJvdW5kcyBhbmQgdXNlIHRoZW0gaWYgdGhleSBhcmUgZGlydHkgKGxpa2UgZ3JhcGhpY3MpXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0aWNlcyh0aGlzLnRyYW5zZm9ybSwgdGhpcy52ZXJ0aWNlcywgMCwgdGhpcy52ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFRSSUFOR0xFX01FU0hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cblxuXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kaWNlcztcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFUyA/IDMgOiAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBtZXNoIHVzZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBNZXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICAvLyBmb3IgZWFjaCB3ZWJnbCBkYXRhIGVudHJ5LCBkZXN0cm95IHRoZSBXZWJHTEdyYXBoaWNzRGF0YVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9nbERhdGFzKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dsRGF0YXNbaWRdO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgZGF0YS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnZlcnRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS51dkJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnV2QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51dkJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnZhbykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnZhby5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFvID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9nbERhdGFzID0gbnVsbDtcblxuICAgICAgICBfY29yZSRDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE1lc2gsIFt7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBtZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGludCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMucmdiMmhleCh0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGludFJnYiA9IGNvcmUudXRpbHMuaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNZXNoO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbi8qKlxuICogRGlmZmVyZW50IGRyYXdpbmcgYnVmZmVyIG1vZGVzIHN1cHBvcnRlZFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9NRVNIXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoO1xuTWVzaC5EUkFXX01PREVTID0ge1xuICAgIFRSSUFOR0xFX01FU0g6IDAsXG4gICAgVFJJQU5HTEVTOiAxXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvYWRlciA9IGV4cG9ydHMucHJlcGFyZSA9IGV4cG9ydHMucGFydGljbGVzID0gZXhwb3J0cy5tZXNoID0gZXhwb3J0cy5sb2FkZXJzID0gZXhwb3J0cy5pbnRlcmFjdGlvbiA9IGV4cG9ydHMuZmlsdGVycyA9IGV4cG9ydHMuZXh0cmFzID0gZXhwb3J0cy5leHRyYWN0ID0gZXhwb3J0cy5hY2Nlc3NpYmlsaXR5ID0gdW5kZWZpbmVkO1xuXG52YXIgX3BvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xuXG5PYmplY3Qua2V5cyhfcG9seWZpbGwpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9wb2x5ZmlsbFtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbk9iamVjdC5rZXlzKF9jb3JlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29yZVtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxudmFyIF9kZXByZWNhdGlvbiA9IHJlcXVpcmUoJy4vZGVwcmVjYXRpb24nKTtcblxudmFyIF9kZXByZWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGlvbik7XG5cbnZhciBfYWNjZXNzaWJpbGl0eSA9IHJlcXVpcmUoJy4vYWNjZXNzaWJpbGl0eScpO1xuXG52YXIgYWNjZXNzaWJpbGl0eSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY2Nlc3NpYmlsaXR5KTtcblxudmFyIF9leHRyYWN0ID0gcmVxdWlyZSgnLi9leHRyYWN0Jyk7XG5cbnZhciBleHRyYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2V4dHJhY3QpO1xuXG52YXIgX2V4dHJhcyA9IHJlcXVpcmUoJy4vZXh0cmFzJyk7XG5cbnZhciBleHRyYXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZXh0cmFzKTtcblxudmFyIF9maWx0ZXJzID0gcmVxdWlyZSgnLi9maWx0ZXJzJyk7XG5cbnZhciBmaWx0ZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2ZpbHRlcnMpO1xuXG52YXIgX2ludGVyYWN0aW9uID0gcmVxdWlyZSgnLi9pbnRlcmFjdGlvbicpO1xuXG52YXIgaW50ZXJhY3Rpb24gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaW50ZXJhY3Rpb24pO1xuXG52YXIgX2xvYWRlcnMgPSByZXF1aXJlKCcuL2xvYWRlcnMnKTtcblxudmFyIGxvYWRlcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbG9hZGVycyk7XG5cbnZhciBfbWVzaCA9IHJlcXVpcmUoJy4vbWVzaCcpO1xuXG52YXIgbWVzaCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tZXNoKTtcblxudmFyIF9wYXJ0aWNsZXMgPSByZXF1aXJlKCcuL3BhcnRpY2xlcycpO1xuXG52YXIgcGFydGljbGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3BhcnRpY2xlcyk7XG5cbnZhciBfcHJlcGFyZSA9IHJlcXVpcmUoJy4vcHJlcGFyZScpO1xuXG52YXIgcHJlcGFyZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wcmVwYXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gZXhwb3J0IGNvcmVcbl9jb3JlLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zKCk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBQSVhJLmxvYWRlcnMuc2hhcmVkfS5cbiAqIEBuYW1lIGxvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtQSVhJLmxvYWRlci5Mb2FkZXJ9XG4gKi9cblxuXG4vLyBoYW5kbGUgbWl4aW5zIG5vdywgYWZ0ZXIgYWxsIGNvZGUgaGFzIGJlZW4gYWRkZWQsIGluY2x1ZGluZyBkZXByZWNhdGlvblxuXG5cbi8vIGV4cG9ydCBsaWJzXG4vLyBpbXBvcnQgcG9seWZpbGxzLiBEb25lIGFzIGFuIGV4cG9ydCB0byBtYWtlIHN1cmUgcG9seWZpbGxzIGFyZSBpbXBvcnRlZCBmaXJzdFxudmFyIGxvYWRlciA9IGxvYWRlcnMuc2hhcmVkIHx8IG51bGw7XG5cbmV4cG9ydHMuYWNjZXNzaWJpbGl0eSA9IGFjY2Vzc2liaWxpdHk7XG5leHBvcnRzLmV4dHJhY3QgPSBleHRyYWN0O1xuZXhwb3J0cy5leHRyYXMgPSBleHRyYXM7XG5leHBvcnRzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuZXhwb3J0cy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uO1xuZXhwb3J0cy5sb2FkZXJzID0gbG9hZGVycztcbmV4cG9ydHMubWVzaCA9IG1lc2g7XG5leHBvcnRzLnBhcnRpY2xlcyA9IHBhcnRpY2xlcztcbmV4cG9ydHMucHJlcGFyZSA9IHByZXBhcmU7XG5leHBvcnRzLmxvYWRlciA9IGxvYWRlcjtcblxuLy8gQXBwbHkgdGhlIGRlcHJlY2F0aW9uc1xuXG5pZiAodHlwZW9mIF9kZXByZWNhdGlvbjIuZGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICgwLCBfZGVwcmVjYXRpb24yLmRlZmF1bHQpKGV4cG9ydHMpO1xufVxuXG4vLyBBbHdheXMgZXhwb3J0IFBpeGlKUyBnbG9iYWxseS5cbmdsb2JhbC5QSVhJID0gZXhwb3J0czsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9NYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vbWFuYWdlcnMvTWFza01hbmFnZXInKTtcblxudmFyIF9NYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXNrTWFuYWdlcik7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyJyk7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RlbmNpbE1hbmFnZXIpO1xuXG52YXIgX0ZpbHRlck1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL0ZpbHRlck1hbmFnZXInKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1hbmFnZXIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyID0gcmVxdWlyZSgnLi9UZXh0dXJlTWFuYWdlcicpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYW5hZ2VyKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4uLy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gcmVxdWlyZSgnLi9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcicpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yKTtcblxudmFyIF9XZWJHTFN0YXRlID0gcmVxdWlyZSgnLi9XZWJHTFN0YXRlJyk7XG5cbnZhciBfV2ViR0xTdGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFN0YXRlKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0ID0gcmVxdWlyZSgnLi91dGlscy92YWxpZGF0ZUNvbnRleHQnKTtcblxudmFyIF92YWxpZGF0ZUNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsaWRhdGVDb250ZXh0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogVGhlIFdlYkdMUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIHdlYkdMIGVuYWJsZWQgY2FudmFzLiBUaGlzIHJlbmRlcmVyXG4gKiBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHdlYkdMLiBUaGlzIFJlbmRlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIHdlYkdMQmF0Y2hzLlxuICogU28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyA6KVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtUmVuZGVyZXJcbiAqL1xuXG52YXIgV2ViR0xSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xSZW5kZXJlciwgX1N5c3RlbVJlbmRlcmVyKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW5cbiAgICAgKiAgcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAgICAgKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1N5c3RlbVJlbmRlcmVyLmNhbGwodGhpcywgJ1dlYkdMJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeSA9IF90aGlzLm9wdGlvbnMubGVnYWN5O1xuXG4gICAgICAgIGlmIChfdGhpcy5sZWdhY3kpIHtcbiAgICAgICAgICAgIF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXNlZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuV0VCR0w7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QgPSBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyB3ZWJnbCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhbHBoYTogX3RoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICBhbnRpYWxpYXM6IF90aGlzLm9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBfdGhpcy50cmFuc3BhcmVudCAmJiBfdGhpcy50cmFuc3BhcmVudCAhPT0gJ25vdE11bHRpcGxpZWQnLFxuICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogX3RoaXMub3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IF90aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM10gPSBfdGhpcy50cmFuc3BhcmVudCA/IDAgOiAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXNrcyB1c2luZyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGVuY2lsTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0ZW5jaWxNYW5hZ2VyID0gbmV3IF9TdGVuY2lsTWFuYWdlcjIuZGVmYXVsdChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBfT2JqZWN0UmVuZGVyZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRSZW5kZXJlciA9IF90aGlzLmVtcHR5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsIGl0IGlzIGNyZWF0ZWQgaGVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBjb250ZXh0IHNvIGl0IGlzIHJlYWR5IGZvciB0aGUgbWFuYWdlcnMuXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyB0byBzZWUgaWYgYSBjb250ZXh0IGlzIHZhbGlkLi5cbiAgICAgICAgICAgICgwLCBfdmFsaWRhdGVDb250ZXh0Mi5kZWZhdWx0KShfdGhpcy5vcHRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuZ2wgPSBfdGhpcy5vcHRpb25zLmNvbnRleHQgfHwgX3BpeGlHbENvcmUyLmRlZmF1bHQuY3JlYXRlQ29udGV4dChfdGhpcy52aWV3LCBfdGhpcy5fY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gbmV3IF9XZWJHTFN0YXRlMi5kZWZhdWx0KF90aGlzLmdsKTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRleHR1cmVzIGJvdW5kIHRvIHRoZSBHUFUuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kVGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRhcmdldH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLl9pbml0Q29udGV4dCgpO1xuXG4gICAgICAgIC8vIG1hcCBzb21lIHdlYkdMIGJsZW5kIGFuZCBkcmF3bW9kZXMuLlxuICAgICAgICBfdGhpcy5kcmF3TW9kZXMgPSAoMCwgX21hcFdlYkdMRHJhd01vZGVzVG9QaXhpMi5kZWZhdWx0KShfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLnNldEJsZW5kTW9kZSgwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLldlYkdMUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLl9pbml0Q29udGV4dCA9IGZ1bmN0aW9uIF9pbml0Q29udGV4dCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgdGV4dHVyZSBtYW5hZ2VyLi4uXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBuZXcgX1RleHR1cmVNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIgPSBuZXcgX0ZpbHRlck1hbmFnZXIyLmRlZmF1bHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUdDID0gbmV3IF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIuZGVmYXVsdCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0YXRlLnJlc2V0VG9EZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0ID0gbmV3IF9SZW5kZXJUYXJnZXQyLmRlZmF1bHQoZ2wsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBudWxsLCB0aGlzLnJlc29sdXRpb24sIHRydWUpO1xuICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuY2xlYXJDb2xvciA9IHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgLy8gbm93IGxldHMgZmlsbCB1cCB0aGUgdGV4dHVyZXMgd2l0aCBlbXB0eSBvbmVzIVxuICAgICAgICB2YXIgZW1wdHlHTFRleHR1cmUgPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xUZXh0dXJlLmZyb21EYXRhKGdsLCBudWxsLCAxLCAxKTtcblxuICAgICAgICB2YXIgdGVtcE9iaiA9IHsgX2dsVGV4dHVyZXM6IHt9IH07XG5cbiAgICAgICAgdGVtcE9iai5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVtcHR5ID0gbmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBlbXB0eS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGVtcHR5R0xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0ZW1wT2JqO1xuICAgICAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2ldID0gZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmJpbmRUZXh0dXJlKG51bGwsIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdjb250ZXh0JywgZ2wpO1xuXG4gICAgICAgIC8vIHNldHVwIHRoZSB3aWR0aC9oZWlnaHQgcHJvcGVydGllcyBhbmQgZ2wgdmlld3BvcnRcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5zY3JlZW4ud2lkdGgsIHRoaXMuc2NyZWVuLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgd2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gcmVuZGVyIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybSB0byBhcHBseSB0byB0aGUgcmVuZGVyIHRleHR1cmUgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtIHBhc3M/XG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcblxuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgdHJhbnNmb3JtKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICAvLyB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlR0MudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiBzZXRPYmplY3RSZW5kZXJlcihvYmplY3RSZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgLy8gIGlmKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uID09PSB0aGlzLndpZHRoICYmIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy5oZWlnaHQpcmV0dXJuO1xuXG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LnJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID09PSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIHRoZSBkZXNpcmVkIGJsZW5kIG1vZGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnNldEJsZW5kTW9kZShibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3VyXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoY2xlYXJDb2xvcikge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0obWF0cml4KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gY2xlYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGNsZWFyUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCBjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5jbGVhcihjbGVhckNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlciB0ZXh0dXJlIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYmUgYXBwbGllZCB0byB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoYmFzZVRleHR1cmUsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKHJlbmRlclRleHR1cmUuZnJhbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gdGhlIG5ldyByZW5kZXIgdGFyZ2V0XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hbmFnZXIuc2V0TWFza1N0YWNrKHJlbmRlclRhcmdldC5zdGVuY2lsTWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUHJvamVjdD10cnVlXSAtIFdoZXRoZXIgYXV0b21hdGljYWxseSBzZXQgdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFNoYWRlciA9IGZ1bmN0aW9uIGJpbmRTaGFkZXIoc2hhZGVyLCBhdXRvUHJvamVjdCkge1xuICAgICAgICAvLyBUT0RPIGNhY2hlXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIgIT09IHNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAgICAgc2hhZGVyLmJpbmQoKTtcblxuICAgICAgICAgICAgLy8gYGF1dG9Qcm9qZWN0YCBub3JtYWxseSB3b3VsZCBiZSBhIGRlZmF1bHQgcGFyYW1ldGVyIHNldCB0byB0cnVlXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSBvZiBob3cgQmFiZWwgdHJhbnNwaWxlcyBkZWZhdWx0IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIC8vIGl0IGhpbmRlcnMgdGhlIHBlcmZvcm1hbmNlIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKGF1dG9Qcm9qZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyB0aGUgdGV4dHVyZS4gVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYXRpb24gb2YgdGhlIGJvdW5kIHRleHR1cmUuXG4gICAgICogSXQgbWF5IG5vdCBiZSB0aGUgc2FtZSBhcyB0aGUgb25lIHlvdSBwYXNzIGluLiBUaGlzIGlzIGR1ZSB0byBvcHRpbWlzYXRpb24gdGhhdCBwcmV2ZW50c1xuICAgICAqIG5lZWRsZXNzIGJpbmRpbmcgb2YgdGV4dHVyZXMuIEZvciBleGFtcGxlIGlmIHRoZSB0ZXh0dXJlIGlzIGFscmVhZHkgYm91bmQgaXQgd2lsbCByZXR1cm4gdGhlXG4gICAgICogY3VycmVudCBsb2NhdGlvbiBvZiB0aGUgdGV4dHVyZSBpbnN0ZWFkIG9mIHRoZSBvbmUgcHJvdmlkZWQuIFRvIGJ5cGFzcyB0aGlzIHVzZSBmb3JjZSBsb2NhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgbmV3IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgc3VnZ2VzdGVkIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlTG9jYXRpb24gLSBmb3JjZSB0aGUgbG9jYXRpb25cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGJvdW5kIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFRleHR1cmUgPSBmdW5jdGlvbiBiaW5kVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbiwgZm9yY2VMb2NhdGlvbikge1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZSB8fCB0aGlzLmVtcHR5VGV4dHVyZXNbbG9jYXRpb25dO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICBpZiAoIWZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBtYXliZSBsb29rIGludG8gYWRkaW5nIGJvdW5kSWRzLi4gc2F2ZSB1cyB0aGUgbG9vcD9cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbisrO1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gJT0gdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggLSB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyBiaW5kIHRoZSB0ZXh0dXJlLi5cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIudXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiB1bmJpbmRzIHRoZSB0ZXh0dXJlIC4uLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdW5iaW5kXG4gICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnVuYmluZFRleHR1cmUgPSBmdW5jdGlvbiB1bmJpbmRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy5lbXB0eVRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tpXS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZBTyBmcm9tIHRoaXMgcmVuZGVyZXIncyBjb250ZXh0IGFuZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZlcnRleEFycmF5T2JqZWN0fSBUaGUgbmV3IFZBTy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVmFvID0gZnVuY3Rpb24gY3JlYXRlVmFvKCkge1xuICAgICAgICByZXR1cm4gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHRoaXMuZ2wsIHRoaXMuc3RhdGUuYXR0cmliU3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IFZhbyB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlZlcnRleEFycmF5T2JqZWN0fSB2YW8gLSB0aGUgbmV3IFZhb1xuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRWYW8gPSBmdW5jdGlvbiBiaW5kVmFvKHZhbykge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbykge1xuICAgICAgICAgICAgdmFvLmJpbmQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY3RpdmVWYW8pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgYWx3YXlzIGJlIHRydWUgaSB0aGluaz9cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhby51bmJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgdGhlIG1haW4gZnJhbWUgYnVmZmVyICh0aGUgc2NyZWVuKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TG9zdChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dFJlc3RvcmVkKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgdGhpcy5faW5pdENvbnRleHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5zKCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy51aWQgPSAwO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgdGhlIG1hbmFnZXJzXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NvbnRleHRPcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgLy8gdGhpcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWJHTFJlbmRlcmVyO1xufShfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICogQG5hbWUgUElYSS5XZWJHTFJlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LldlYkdMRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAqL1xuXG4vKipcbiAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICpcbiAqIEBtZXRob2QgUElYSS5XZWJHTFJlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKFdlYkdMUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB0aGUgaG9yaXpvbnRhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gdGhlIHZlcnRpY2FsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3Q9ZmFsc2VdIC0gV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gUmVuZGVyVGFyZ2V0KGdsLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8vIFRPRE8gUmVzb2x1dGlvbiBjb3VsZCBnbyBoZXJlICggZWcgbG93IHJlcyBibHVycyApXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gbmV4dCB0aW1lIHRvIGNyZWF0ZSBhIGZyYW1lIGJ1ZmZlciBhbmQgdGV4dHVyZVxuXG4gICAgLyoqXG4gICAgICogQSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvdXIgb2YgdGhpcyByZW5kZXIgdGFyZ2V0LCBhcyBhbiBhcnJheSBvZiBbcixnLGIsYV0gdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGFzIGEgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0J3MgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZpbHRlciBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICovXG4gICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJvb3QgPSByb290O1xuXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyLmNyZWF0ZVJHQkEoZ2wsIDEwMCwgMTAwKTtcblxuICAgICAgaWYgKHRoaXMuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZS5lbmFibGVMaW5lYXJTY2FsaW5nKCk7XG4gICAgICB9XG4gICAgICAvKlxuICAgICAgICAgIEEgZnJhbWUgYnVmZmVyIG5lZWRzIGEgdGFyZ2V0IHRvIHJlbmRlciB0by4uXG4gICAgICAgICAgY3JlYXRlIGEgdGV4dHVyZSBhbmQgYmluZCBpdCBhdHRhY2ggaXQgdG8gdGhlIGZyYW1lYnVmZmVyLi5cbiAgICAgICAqL1xuXG4gICAgICAvLyB0aGlzIGlzIHVzZWQgYnkgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAgdGhpcy50ZXh0dXJlID0gdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtYWtlIGl0IGEgbnVsbCBmcmFtZWJ1ZmZlci4uXG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gbmV3IF9waXhpR2xDb3JlLkdMRnJhbWVidWZmZXIoZ2wsIDEwMCwgMTAwKTtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc2V0RnJhbWUoKTtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgZmlsdGVyIHRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IFtjbGVhckNvbG9yPXRoaXMuY2xlYXJDb2xvcl0gLSBBcnJheSBvZiBbcixnLGIsYV0gdG8gY2xlYXIgdGhlIGZyYW1lYnVmZmVyXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICB2YXIgY2MgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIuY2xlYXIoY2NbMF0sIGNjWzFdLCBjY1syXSwgY2NbM10pOyAvLyByLGcsYixhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgKlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuYXR0YWNoU3RlbmNpbEJ1ZmZlciA9IGZ1bmN0aW9uIGF0dGFjaFN0ZW5jaWxCdWZmZXIoKSB7XG4gICAgLy8gVE9ETyBjaGVjayBpZiBzdGVuY2lsIGlzIGRvbmU/XG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHVzZWQgZm9yIG1hc2tpbmcgaW4gcGl4aVxuICAgICAqIGxldHMgY3JlYXRlIG9uZSBhbmQgdGhlbiBhZGQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICovXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgZnJhbWUgb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSkge1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlcnMgYW5kIGluaXRpYWxpc2VzIHRoZSB2aWV3cG9ydC5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgLy8gVE9ETyByZWZhY3RvciB1c2FnZSBvZiBmcmFtZS4uXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGV4dHVyZSBpcyB1bmJvdW5kIVxuICAgIHRoaXMuZnJhbWVCdWZmZXIuYmluZCgpO1xuXG4gICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSk7XG5cbiAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8vIFRPRE8gYWRkIGEgY2hlY2sgYXMgdGhlbSBtYXkgYmUgdGhlIHNhbWUhXG4gICAgaWYgKHRoaXMuZGVzdGluYXRpb25GcmFtZSAhPT0gdGhpcy5zb3VyY2VGcmFtZSkge1xuICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICBnbC5zY2lzc29yKHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIC0gZG9lcyBub3QgbmVlZCB0byBiZSB1cGRhdGVkIGFsbCB0aGUgdGltZT8/XG4gICAgZ2wudmlld3BvcnQodGhpcy5kZXN0aW5hdGlvbkZyYW1lLnggfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gfCAwKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICpcbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jYWxjdWxhdGVQcm9qZWN0aW9uID0gZnVuY3Rpb24gY2FsY3VsYXRlUHJvamVjdGlvbihkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSkge1xuICAgIHZhciBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgIHBtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBUT0RPOiBtYWtlIGRlc3Qgc2NhbGUgc291cmNlXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHBtLmEgPSAxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDI7XG4gICAgICBwbS5kID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAtMSAtIHNvdXJjZUZyYW1lLnkgKiBwbS5kO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IC0xIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyO1xuXG4gICAgICBwbS50eCA9IC0xIC0gc291cmNlRnJhbWUueCAqIHBtLmE7XG4gICAgICBwbS50eSA9IDEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHRleHR1cmUgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHdpZHRoID0gd2lkdGggfCAwO1xuICAgIGhlaWdodCA9IGhlaWdodCB8IDA7XG5cbiAgICBpZiAodGhpcy5zaXplLndpZHRoID09PSB3aWR0aCAmJiB0aGlzLnNpemUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNpemUud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLnNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5kZWZhdWx0RnJhbWUud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmRlZmF1bHRGcmFtZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgIHZhciBwcm9qZWN0aW9uRnJhbWUgPSB0aGlzLmZyYW1lIHx8IHRoaXMuc2l6ZTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbihwcm9qZWN0aW9uRnJhbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuZnJhbWVCdWZmZXIuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gUmVuZGVyVGFyZ2V0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUYXJnZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKTtcbiAgICB9XG59O1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9saWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSkge1xuICAgIC8vIFRPRE8gT1BUSU1JU0UhXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoZmlyc3RQb2ludC54ID09PSBsYXN0UG9pbnQueCAmJiBmaXJzdFBvaW50LnkgPT09IGxhc3RQb2ludC55KSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgIHBvaW50cy5wb3AoKTtcblxuICAgICAgICBsYXN0UG9pbnQgPSBuZXcgX21hdGguUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNTtcbiAgICAgICAgdmFyIG1pZFBvaW50WSA9IGxhc3RQb2ludC55ICsgKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgdmFyIHdpZHRoID0gZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgdmFyIHAxeCA9IHBvaW50c1swXTtcbiAgICB2YXIgcDF5ID0gcG9pbnRzWzFdO1xuICAgIHZhciBwMnggPSBwb2ludHNbMl07XG4gICAgdmFyIHAyeSA9IHBvaW50c1szXTtcbiAgICB2YXIgcDN4ID0gMDtcbiAgICB2YXIgcDN5ID0gMDtcblxuICAgIHZhciBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICB2YXIgcGVycHkgPSBwMXggLSBwMng7XG4gICAgdmFyIHBlcnAyeCA9IDA7XG4gICAgdmFyIHBlcnAyeSA9IDA7XG4gICAgdmFyIHBlcnAzeCA9IDA7XG4gICAgdmFyIHBlcnAzeSA9IDA7XG5cbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG5cbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2YXIgcmF0aW8gPSBncmFwaGljc0RhdGEubGluZUFsaWdubWVudDsgLy8gMC41O1xuICAgIHZhciByMSA9ICgxIC0gcmF0aW8pICogMjtcbiAgICB2YXIgcjIgPSByYXRpbyAqIDI7XG5cbiAgICAvLyBzdGFydFxuICAgIHZlcnRzLnB1c2gocDF4IC0gcGVycHggKiByMSwgcDF5IC0gcGVycHkgKiByMSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMXggKyBwZXJweCAqIHIyLCBwMXkgKyBwZXJweSAqIHIyLCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBwMXkgPSBwb2ludHNbKGkgLSAxKSAqIDIgKyAxXTtcblxuICAgICAgICBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICBwM3ggPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICBwM3kgPSBwb2ludHNbKGkgKyAxKSAqIDIgKyAxXTtcblxuICAgICAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICAgICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgICAgICBwZXJwMnggPSAtKHAyeSAtIHAzeSk7XG4gICAgICAgIHBlcnAyeSA9IHAyeCAtIHAzeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAyeCAqIHBlcnAyeCArIHBlcnAyeSAqIHBlcnAyeSk7XG4gICAgICAgIHBlcnAyeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMnkgLz0gZGlzdDtcbiAgICAgICAgcGVycDJ4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMnkgKj0gd2lkdGg7XG5cbiAgICAgICAgdmFyIGExID0gLXBlcnB5ICsgcDF5IC0gKC1wZXJweSArIHAyeSk7XG4gICAgICAgIHZhciBiMSA9IC1wZXJweCArIHAyeCAtICgtcGVycHggKyBwMXgpO1xuICAgICAgICB2YXIgYzEgPSAoLXBlcnB4ICsgcDF4KSAqICgtcGVycHkgKyBwMnkpIC0gKC1wZXJweCArIHAyeCkgKiAoLXBlcnB5ICsgcDF5KTtcbiAgICAgICAgdmFyIGEyID0gLXBlcnAyeSArIHAzeSAtICgtcGVycDJ5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIyID0gLXBlcnAyeCArIHAyeCAtICgtcGVycDJ4ICsgcDN4KTtcbiAgICAgICAgdmFyIGMyID0gKC1wZXJwMnggKyBwM3gpICogKC1wZXJwMnkgKyBwMnkpIC0gKC1wZXJwMnggKyBwMngpICogKC1wZXJwMnkgKyBwM3kpO1xuXG4gICAgICAgIHZhciBkZW5vbSA9IGExICogYjIgLSBhMiAqIGIxO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkZW5vbSkgPCAwLjEpIHtcbiAgICAgICAgICAgIGRlbm9tICs9IDEwLjE7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnB4ICogcjEsIHAyeSAtIHBlcnB5ICogcjEsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJweCAqIHIyLCBwMnkgKyBwZXJweSAqIHIyLCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB4ID0gKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoYTIgKiBjMSAtIGExICogYzIpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9IChweCAtIHAyeCkgKiAocHggLSBwMngpICsgKHB5IC0gcDJ5KSAqIChweSAtIHAyeSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gMTk2ICogd2lkdGggKiB3aWR0aCkge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwM3ggKiBwZXJwM3ggKyBwZXJwM3kgKiBwZXJwM3kpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3ggKiByMSwgcDJ5IC0gcGVycDN5ICogcjEpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycDN4ICogcjIsIHAyeSArIHBlcnAzeSAqIHIyKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnAzeCAqIHIyICogcjEsIHAyeSAtIHBlcnAzeSAqIHIxKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICBpbmRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIChweCAtIHAyeCkgKiByMSwgcDJ5ICsgKHB5IC0gcDJ5KSAqIHIxKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChweCAtIHAyeCkgKiByMiwgcDJ5IC0gKHB5IC0gcDJ5KSAqIHIyKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyICsgMV07XG5cbiAgICBwMnggPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgcDJ5ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDIgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmVydHMucHVzaChwMnggLSBwZXJweCAqIHIxLCBwMnkgLSBwZXJweSAqIHIxKTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHggKiByMiwgcDJ5ICsgcGVycHkgKiByMik7XG4gICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgaW5kZXhDb3VudDsgKytfaSkge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCsrKTtcbiAgICB9XG5cbiAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCAtIDEpO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cblxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcDF4ID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgdmFyIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHZhciBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICB2YXIgcDJ5ID0gcG9pbnRzW2kgKiAyICsgMV07XG5cbiAgICAgICAgdmVydHMucHVzaChwMXgsIHAxeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocDJ4LCBwMnkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZExpbmUuanMubWFwIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAqL1xuICBmdW5jdGlvbiBQb2ludCgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2ludCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgIHRoaXMuc2V0KHAueCwgcC55KTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMocCkge1xuICAgIHJldHVybiBwLnggPT09IHRoaXMueCAmJiBwLnkgPT09IHRoaXMueTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KHgsIHkpIHtcbiAgICB0aGlzLnggPSB4IHx8IDA7XG4gICAgdGhpcy55ID0geSB8fCAoeSAhPT0gMCA/IHRoaXMueCA6IDApO1xuICB9O1xuXG4gIHJldHVybiBQb2ludDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuL1BvaW50Jyk7XG5cbnZhciBfUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9pbnQpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBjbGFzcyBhcyBhbiBvYmplY3QsIHdoaWNoIG1ha2VzIGl0IGEgbG90IGZhc3RlcixcbiAqIGhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdCA6XG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYT0xXSAtIHggc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2I9MF0gLSB4IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2M9MF0gLSB5IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Q9MV0gLSB5IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eD0wXSAtIHggdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R5PTBdIC0geSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdHJpeCgpIHtcbiAgICAgICAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7XG4gICAgICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDE7XG4gICAgICAgIHZhciB0eCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMDtcbiAgICAgICAgdmFyIHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXRyaXgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYSA9IGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iID0gYjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmMgPSBjO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZCA9IGQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eCA9IHR4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG9iamVjdCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYXJyYXkuIFRoZSBFbGVtZW50IHRvIE1hdHJpeCBtYXBwaW5nIG9yZGVyIGlzIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBhID0gYXJyYXlbMF1cbiAgICAgKiBiID0gYXJyYXlbMV1cbiAgICAgKiBjID0gYXJyYXlbM11cbiAgICAgKiBkID0gYXJyYXlbNF1cbiAgICAgKiB0eCA9IGFycmF5WzJdXG4gICAgICogdHkgPSBhcnJheVs1XVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuZnJvbUFycmF5ID0gZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KSB7XG4gICAgICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgICAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICAgICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgICAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy50eSA9IHR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gdG9BcnJheSh0cmFuc3Bvc2UsIG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG5cbiAgICAgICAgaWYgKHRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgX1BvaW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuYSAqIHggKyB0aGlzLmMgKiB5ICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSB0aGlzLmIgKiB4ICsgdGhpcy5kICogeSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gYXBwbHlJbnZlcnNlKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgX1BvaW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIGlkID0gMSAvICh0aGlzLmEgKiB0aGlzLmQgKyB0aGlzLmMgKiAtdGhpcy5iKTtcblxuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuXG4gICAgICAgIG5ld1Bvcy54ID0gdGhpcy5kICogaWQgKiB4ICsgLXRoaXMuYyAqIGlkICogeSArICh0aGlzLnR5ICogdGhpcy5jIC0gdGhpcy50eCAqIHRoaXMuZCkgKiBpZDtcbiAgICAgICAgbmV3UG9zLnkgPSB0aGlzLmEgKiBpZCAqIHkgKyAtdGhpcy5iICogaWQgKiB4ICsgKC10aGlzLnR5ICogdGhpcy5hICsgdGhpcy50eCAqIHRoaXMuYikgKiBpZDtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gdHJhbnNsYXRlKHgsIHkpIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIGFtb3VudCB0byBzY2FsZSBob3Jpem9udGFsbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uIHNjYWxlKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hICo9IHg7XG4gICAgICAgIHRoaXMuZCAqPSB5O1xuICAgICAgICB0aGlzLmMgKj0geDtcbiAgICAgICAgdGhpcy5iICo9IHk7XG4gICAgICAgIHRoaXMudHggKj0geDtcbiAgICAgICAgdGhpcy50eSAqPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIHJvdGF0ZShhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcblxuICAgICAgICB0aGlzLmEgPSBhMSAqIGNvcyAtIHRoaXMuYiAqIHNpbjtcbiAgICAgICAgdGhpcy5iID0gYTEgKiBzaW4gKyB0aGlzLmIgKiBjb3M7XG4gICAgICAgIHRoaXMuYyA9IGMxICogY29zIC0gdGhpcy5kICogc2luO1xuICAgICAgICB0aGlzLmQgPSBjMSAqIHNpbiArIHRoaXMuZCAqIGNvcztcbiAgICAgICAgdGhpcy50eCA9IHR4MSAqIGNvcyAtIHRoaXMudHkgKiBzaW47XG4gICAgICAgIHRoaXMudHkgPSB0eDEgKiBzaW4gKyB0aGlzLnR5ICogY29zO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQobWF0cml4KSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcblxuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYSAqIGExICsgbWF0cml4LmIgKiBjMTtcbiAgICAgICAgdGhpcy5iID0gbWF0cml4LmEgKiBiMSArIG1hdHJpeC5iICogZDE7XG4gICAgICAgIHRoaXMuYyA9IG1hdHJpeC5jICogYTEgKyBtYXRyaXguZCAqIGMxO1xuICAgICAgICB0aGlzLmQgPSBtYXRyaXguYyAqIGIxICsgbWF0cml4LmQgKiBkMTtcblxuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4ICogYTEgKyBtYXRyaXgudHkgKiBjMSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHggKiBiMSArIG1hdHJpeC50eSAqIGQxICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYiA9IE1hdGguc2luKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuXG4gICAgICAgIHRoaXMudHggPSB4IC0gKHBpdm90WCAqIHRoaXMuYSArIHBpdm90WSAqIHRoaXMuYyk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKHBpdm90WCAqIHRoaXMuYiArIHBpdm90WSAqIHRoaXMuZCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gcHJlcGVuZChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG5cbiAgICAgICAgICAgIHRoaXMuYSA9IGExICogbWF0cml4LmEgKyB0aGlzLmIgKiBtYXRyaXguYztcbiAgICAgICAgICAgIHRoaXMuYiA9IGExICogbWF0cml4LmIgKyB0aGlzLmIgKiBtYXRyaXguZDtcbiAgICAgICAgICAgIHRoaXMuYyA9IGMxICogbWF0cml4LmEgKyB0aGlzLmQgKiBtYXRyaXguYztcbiAgICAgICAgICAgIHRoaXMuZCA9IGMxICogbWF0cml4LmIgKyB0aGlzLmQgKiBtYXRyaXguZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBtYXRyaXguYSArIHRoaXMudHkgKiBtYXRyaXguYyArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IHR4MSAqIG1hdHJpeC5iICsgdGhpcy50eSAqIG1hdHJpeC5kICsgbWF0cml4LnR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybXxQSVhJLlRyYW5zZm9ybVN0YXRpY30gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybXxQSVhJLlRyYW5zZm9ybVN0YXRpY30gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiBkZWNvbXBvc2UodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuXG4gICAgICAgIHZhciBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgdmFyIHNrZXdZID0gTWF0aC5hdGFuMihiLCBhKTtcblxuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcblxuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKF9jb25zdC5QSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG5cbiAgICAgICAgICAgIGlmIChhIDwgMCAmJiBkID49IDApIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gKz0gdHJhbnNmb3JtLnJvdGF0aW9uIDw9IDAgPyBNYXRoLlBJIDogLU1hdGguUEk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHNldCBzY2FsZVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCk7XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB2YXIgbiA9IGExICogZDEgLSBiMSAqIGMxO1xuXG4gICAgICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICAgICAgdGhpcy5iID0gLWIxIC8gbjtcbiAgICAgICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICAgICAgdGhpcy5kID0gYTEgLyBuO1xuICAgICAgICB0aGlzLnR4ID0gKGMxICogdGhpcy50eSAtIGQxICogdHgxKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKGExICogdGhpcy50eSAtIGIxICogdHgxKSAvIG47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdGl4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdFxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTWF0cml4LCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdJREVOVElUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdURU1QX01BVFJJWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNYXRyaXg7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hdHJpeDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdHJpeC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWV0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKHBhZGRpbmdZICE9PSAwID8gcGFkZGluZ1ggOiAwKTtcblxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcblxuICAgICAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdChyZWN0YW5nbGUpIHtcbiAgICAgICAgaWYgKHRoaXMueCA8IHJlY3RhbmdsZS54KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoICs9IHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgPCByZWN0YW5nbGUueSkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgKz0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aCAtIHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueSArIHRoaXMuaGVpZ2h0ID4gcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQgLSB0aGlzLnk7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZWN0YW5nbGUsIFt7XG4gICAgICAgIGtleTogJ2xlZnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cblxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdFTVBUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZWN0YW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiXG5cbnZhciBtYXBUeXBlID0gZnVuY3Rpb24oZ2wsIHR5cGUpIFxue1xuICAgIGlmKCFHTF9UQUJMRSkgXG4gICAge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG5cbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRuID0gdHlwZU5hbWVzW2ldO1xuICAgICAgICAgICAgR0xfVEFCTEVbIGdsW3RuXSBdID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufTtcblxudmFyIEdMX1RBQkxFID0gbnVsbDtcblxudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICdGTE9BVCc6ICAgICAgICdmbG9hdCcsXG4gICdGTE9BVF9WRUMyJzogICd2ZWMyJyxcbiAgJ0ZMT0FUX1ZFQzMnOiAgJ3ZlYzMnLFxuICAnRkxPQVRfVkVDNCc6ICAndmVjNCcsXG5cbiAgJ0lOVCc6ICAgICAgICAgJ2ludCcsXG4gICdJTlRfVkVDMic6ICAgICdpdmVjMicsXG4gICdJTlRfVkVDMyc6ICAgICdpdmVjMycsXG4gICdJTlRfVkVDNCc6ICAgICdpdmVjNCcsXG4gIFxuICAnQk9PTCc6ICAgICAgICAnYm9vbCcsXG4gICdCT09MX1ZFQzInOiAgICdidmVjMicsXG4gICdCT09MX1ZFQzMnOiAgICdidmVjMycsXG4gICdCT09MX1ZFQzQnOiAgICdidmVjNCcsXG4gIFxuICAnRkxPQVRfTUFUMic6ICAnbWF0MicsXG4gICdGTE9BVF9NQVQzJzogICdtYXQzJyxcbiAgJ0ZMT0FUX01BVDQnOiAgJ21hdDQnLFxuICBcbiAgJ1NBTVBMRVJfMkQnOiAgJ3NhbXBsZXIyRCcgIFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYXBUeXBlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogJ0J1aWxkZXInIHBhdHRlcm4gZm9yIGJvdW5kcyByZWN0YW5nbGVzXG4gKiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94XG4gKiBJdCBpcyBub3QgYSBzaGFwZSEgSXRzIG11dGFibGUgdGhpbmcsIG5vICdFTVBUWScgb3IgdGhhdCBraW5kIG9mIHByb2JsZW1zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQm91bmRzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQm91bmRzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBib3VuZHMgYW5kIHJlc2V0cy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlSUQrKztcblxuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYW4gcmV0dXJuIFJlY3RhbmdsZS5FTVBUWSBjb25zdGFudCwgZWl0aGVyIGNvbnN0cnVjdCBuZXcgcmVjdGFuZ2xlLCBlaXRoZXIgdXNlIHlvdXIgcmVjdGFuZ2xlXG4gICAgICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIHRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gZ2V0UmVjdGFuZ2xlKHJlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpIHtcbiAgICAgICAgICAgIHJldHVybiBfbWF0aC5SZWN0YW5nbGUuRU1QVFk7XG4gICAgICAgIH1cblxuICAgICAgICByZWN0ID0gcmVjdCB8fCBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcblxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gYWRkUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gYWRkUXVhZCh2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1syXTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gYWRkRnJhbWUodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB2YXIgeCA9IGEgKiB4MCArIGMgKiB5MCArIHR4O1xuICAgICAgICB2YXIgeSA9IGIgKiB4MCArIGQgKiB5MCArIHR5O1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTAgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MCArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgwICsgYyAqIHkxICsgdHg7XG4gICAgICAgIHkgPSBiICogeDAgKyBkICogeTEgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MSArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgxICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybUJhc2V9IHRyYW5zZm9ybSAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXMgPSBmdW5jdGlvbiBhZGRWZXJ0aWNlcyh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgeCA9IGEgKiByYXdYICsgYyAqIHJhd1kgKyB0eDtcbiAgICAgICAgICAgIHZhciB5ID0gZCAqIHJhd1kgKyBiICogcmF3WCArIHR5O1xuXG4gICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzID0gZnVuY3Rpb24gYWRkQm91bmRzKGJvdW5kcykge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hc2sgPSBmdW5jdGlvbiBhZGRCb3VuZHNNYXNrKGJvdW5kcywgbWFzaykge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuXG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gYWRkQm91bmRzQXJlYShib3VuZHMsIGFyZWEpIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBhcmVhLnggPyBib3VuZHMubWluWCA6IGFyZWEueDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiBhcmVhLnggKyBhcmVhLndpZHRoO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiBhcmVhLnkgKyBhcmVhLmhlaWdodDtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEJvdW5kcztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQm91bmRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm91bmRzLmpzLm1hcCIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEdlbmVyaWMgY2xhc3MgdG8gZGVhbCB3aXRoIHRyYWRpdGlvbmFsIDJEIG1hdHJpeCB0cmFuc2Zvcm1zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtQmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBUcmFuc2Zvcm1CYXNlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm1CYXNlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgbWF0cml4IHRyYW5zZm9ybS4gSXQgY2FuIGJlIHN3YXBwZWQgdGVtcG9yYXJpbHkgYnkgc29tZSBmdW5jdGlvbnMgbGlrZSBnZXRMb2NhbEJvdW5kcygpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIG1hdHJpeCB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMubG9jYWxUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtQmFzZSBkb2VzIG5vdCBoYXZlIGRlY29tcG9zaXRpb24sIHNvIHRoaXMgZnVuY3Rpb24gd29udCBkbyBhbnl0aGluZ1xuICAgKi9cblxuXG4gIFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7fVxuICAvLyBlbXB0eVxuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICovXG4gIDtcblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICB0aGlzLl93b3JsZElEKys7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zZm9ybUJhc2U7XG59KCk7XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSAgcGFyZW50VHJhbnNmb3JtIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gKlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtQmFzZTtcblRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVdvcmxkVHJhbnNmb3JtID0gVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5UcmFuc2Zvcm1CYXNlLklERU5USVRZID0gbmV3IFRyYW5zZm9ybUJhc2UoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybUJhc2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRpY2UgbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0aWNlIGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRpY2Ugbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9Db250YWluZXIyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBfbWF0aC5Qb2ludCgpO1xuXG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4gKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgd2F5IHRvIGNyZWF0ZSBzcHJpdGVzIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9OlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLmxvYWRlci5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFNwcml0ZSA9IGZ1bmN0aW9uIChfQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKFNwcml0ZSwgX0NvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIGZvciB0aGlzIHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIG9yIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcnxUZXh0dXJlfVxuICAgICAgICAgKiBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiBBIHZhbHVlIG9mIDAsMCBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAwLjUsMC41IG1lYW5zIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHR1cmUncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgdGhlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gYWZ0ZXIgYSBUZXh0dXJlIGlzXG4gICAgICAgICAqIGNyZWF0ZWQgZG9lcyBfbm90XyB1cGRhdGUgdGhlIFNwcml0ZSdzIGFuY2hvciB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5fb25BbmNob3JVcGRhdGUsIF90aGlzLCB0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwLCB0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IG51bGw7XG4gICAgICAgIF90aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBzcHJpdGUuIFNldCB0byBudWxsIHRvIHJlbW92ZSBhIGN1cnJlbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcnxQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGludGVybmFsIGNhY2hlZCB2YWx1ZSBvZiB0aGUgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8vIGNhbGwgdGV4dHVyZSBzZXR0ZXJcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgX1RleHR1cmUyLmRlZmF1bHQuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IElGIGl0IGlzIGEgdHJpbW1lZCBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUlEID0gLTE7XG5cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnc3ByaXRlJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uIF9vbkFuY2hvclVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVmVydGljZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG5cbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLlxuICAgICAgICAgICAgdzEgPSB0cmltLnggLSBhbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IGEgKiB3MSArIGMgKiBoMSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gZCAqIGgxICsgYiAqIHcwICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IGEgKiB3MCArIGMgKiBoMCArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gZCAqIGgwICsgYiAqIHcwICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IGEgKiB3MSArIGMgKiBoMCArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gZCAqIGgwICsgYiAqIHcxICsgdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleFRyaW1tZWREYXRhO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICB2YXIgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IGEgKiB3MSArIGMgKiBoMSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gZCAqIGgxICsgYiAqIHcwICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IGEgKiB3MCArIGMgKiBoMCArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gZCAqIGgwICsgYiAqIHcwICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IGEgKiB3MSArIGMgKiBoMCArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gZCAqIGgwICsgYiAqIHcxICsgdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcblxuICAgICAgICAvLyBGaXJzdCBsZXRzIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCB0ZXh0dXJlIGhhcyBhIHRyaW0uLlxuICAgICAgICBpZiAoIXRyaW0gfHwgdHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX0NvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICB2YXIgeTEgPSAwO1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcblxuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuXG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5CYXNlVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoX1RleHR1cmUyLmRlZmF1bHQuZnJvbShzb3VyY2UpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gQSBuZXcgU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBmcmFtZUlkXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBiYXNlZCBvbiBhbiBpbWFnZSB1cmxcbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGNyb3NzLW9yaWdpbiBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgc2NhbGUgbW9kZSxcbiAgICAgKiAgc2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IEEgbmV3IFNwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZUlkLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKF9UZXh0dXJlMi5kZWZhdWx0LmZyb21JbWFnZShpbWFnZUlkLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoU3ByaXRlLCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIG9yIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmV8VGV4dHVyZX0gcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogU2V0dGluZyB0aGUgdGV4dHVyZSBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgZG9lcyBub3QgY2hhbmdlIHRoZSBhbmNob3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIDAsMCBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQsIDAuNSwwLjUgaXMgdGhlIGNlbnRlciwgMSwxIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FuY2hvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGludCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWUgfHwgX1RleHR1cmUyLmRlZmF1bHQuRU1QVFk7XG4gICAgICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNwcml0ZTtcbn0oX0NvbnRhaW5lcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZS5qcy5tYXAiLCIvKipcbiAqIEJpdCB0d2lkZGxpbmcgaGFja3MgZm9yIEphdmFTY3JpcHQuXG4gKlxuICogQXV0aG9yOiBNaWtvbGEgTHlzZW5rb1xuICpcbiAqIFBvcnRlZCBmcm9tIFN0YW5mb3JkIGJpdCB0d2lkZGxpbmcgaGFjayBsaWJyYXJ5OlxuICogICAgaHR0cDovL2dyYXBoaWNzLnN0YW5mb3JkLmVkdS9+c2VhbmRlci9iaXRoYWNrcy5odG1sXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7IFwidXNlIHJlc3RyaWN0XCI7XG5cbi8vTnVtYmVyIG9mIGJpdHMgaW4gYW4gaW50ZWdlclxudmFyIElOVF9CSVRTID0gMzI7XG5cbi8vQ29uc3RhbnRzXG5leHBvcnRzLklOVF9CSVRTICA9IElOVF9CSVRTO1xuZXhwb3J0cy5JTlRfTUFYICAgPSAgMHg3ZmZmZmZmZjtcbmV4cG9ydHMuSU5UX01JTiAgID0gLTE8PChJTlRfQklUUy0xKTtcblxuLy9SZXR1cm5zIC0xLCAwLCArMSBkZXBlbmRpbmcgb24gc2lnbiBvZiB4XG5leHBvcnRzLnNpZ24gPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAodiA+IDApIC0gKHYgPCAwKTtcbn1cblxuLy9Db21wdXRlcyBhYnNvbHV0ZSB2YWx1ZSBvZiBpbnRlZ2VyXG5leHBvcnRzLmFicyA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIG1hc2sgPSB2ID4+IChJTlRfQklUUy0xKTtcbiAgcmV0dXJuICh2IF4gbWFzaykgLSBtYXNrO1xufVxuXG4vL0NvbXB1dGVzIG1pbmltdW0gb2YgaW50ZWdlcnMgeCBhbmQgeVxuZXhwb3J0cy5taW4gPSBmdW5jdGlvbih4LCB5KSB7XG4gIHJldHVybiB5IF4gKCh4IF4geSkgJiAtKHggPCB5KSk7XG59XG5cbi8vQ29tcHV0ZXMgbWF4aW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1heCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHggXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9DaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d29cbmV4cG9ydHMuaXNQb3cyID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gISh2ICYgKHYtMSkpICYmICghIXYpO1xufVxuXG4vL0NvbXB1dGVzIGxvZyBiYXNlIDIgb2YgdlxuZXhwb3J0cy5sb2cyID0gZnVuY3Rpb24odikge1xuICB2YXIgciwgc2hpZnQ7XG4gIHIgPSAgICAgKHYgPiAweEZGRkYpIDw8IDQ7IHYgPj4+PSByO1xuICBzaGlmdCA9ICh2ID4gMHhGRiAgKSA8PCAzOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAweEYgICApIDw8IDI7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4MyAgICkgPDwgMTsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuXG4vL0NvbXB1dGVzIGxvZyBiYXNlIDEwIG9mIHZcbmV4cG9ydHMubG9nMTAgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAgKHYgPj0gMTAwMDAwMDAwMCkgPyA5IDogKHYgPj0gMTAwMDAwMDAwKSA/IDggOiAodiA+PSAxMDAwMDAwMCkgPyA3IDpcbiAgICAgICAgICAodiA+PSAxMDAwMDAwKSA/IDYgOiAodiA+PSAxMDAwMDApID8gNSA6ICh2ID49IDEwMDAwKSA/IDQgOlxuICAgICAgICAgICh2ID49IDEwMDApID8gMyA6ICh2ID49IDEwMCkgPyAyIDogKHYgPj0gMTApID8gMSA6IDA7XG59XG5cbi8vQ291bnRzIG51bWJlciBvZiBiaXRzXG5leHBvcnRzLnBvcENvdW50ID0gZnVuY3Rpb24odikge1xuICB2ID0gdiAtICgodiA+Pj4gMSkgJiAweDU1NTU1NTU1KTtcbiAgdiA9ICh2ICYgMHgzMzMzMzMzMykgKyAoKHYgPj4+IDIpICYgMHgzMzMzMzMzMyk7XG4gIHJldHVybiAoKHYgKyAodiA+Pj4gNCkgJiAweEYwRjBGMEYpICogMHgxMDEwMTAxKSA+Pj4gMjQ7XG59XG5cbi8vQ291bnRzIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvc1xuZnVuY3Rpb24gY291bnRUcmFpbGluZ1plcm9zKHYpIHtcbiAgdmFyIGMgPSAzMjtcbiAgdiAmPSAtdjtcbiAgaWYgKHYpIGMtLTtcbiAgaWYgKHYgJiAweDAwMDBGRkZGKSBjIC09IDE2O1xuICBpZiAodiAmIDB4MDBGRjAwRkYpIGMgLT0gODtcbiAgaWYgKHYgJiAweDBGMEYwRjBGKSBjIC09IDQ7XG4gIGlmICh2ICYgMHgzMzMzMzMzMykgYyAtPSAyO1xuICBpZiAodiAmIDB4NTU1NTU1NTUpIGMgLT0gMTtcbiAgcmV0dXJuIGM7XG59XG5leHBvcnRzLmNvdW50VHJhaWxpbmdaZXJvcyA9IGNvdW50VHJhaWxpbmdaZXJvcztcblxuLy9Sb3VuZHMgdG8gbmV4dCBwb3dlciBvZiAyXG5leHBvcnRzLm5leHRQb3cyID0gZnVuY3Rpb24odikge1xuICB2ICs9IHYgPT09IDA7XG4gIC0tdjtcbiAgdiB8PSB2ID4+PiAxO1xuICB2IHw9IHYgPj4+IDI7XG4gIHYgfD0gdiA+Pj4gNDtcbiAgdiB8PSB2ID4+PiA4O1xuICB2IHw9IHYgPj4+IDE2O1xuICByZXR1cm4gdiArIDE7XG59XG5cbi8vUm91bmRzIGRvd24gdG8gcHJldmlvdXMgcG93ZXIgb2YgMlxuZXhwb3J0cy5wcmV2UG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgdiB8PSB2ID4+PiAxO1xuICB2IHw9IHYgPj4+IDI7XG4gIHYgfD0gdiA+Pj4gNDtcbiAgdiB8PSB2ID4+PiA4O1xuICB2IHw9IHYgPj4+IDE2O1xuICByZXR1cm4gdiAtICh2Pj4+MSk7XG59XG5cbi8vQ29tcHV0ZXMgcGFyaXR5IG9mIHdvcmRcbmV4cG9ydHMucGFyaXR5ID0gZnVuY3Rpb24odikge1xuICB2IF49IHYgPj4+IDE2O1xuICB2IF49IHYgPj4+IDg7XG4gIHYgXj0gdiA+Pj4gNDtcbiAgdiAmPSAweGY7XG4gIHJldHVybiAoMHg2OTk2ID4+PiB2KSAmIDE7XG59XG5cbnZhciBSRVZFUlNFX1RBQkxFID0gbmV3IEFycmF5KDI1Nik7XG5cbihmdW5jdGlvbih0YWIpIHtcbiAgZm9yKHZhciBpPTA7IGk8MjU2OyArK2kpIHtcbiAgICB2YXIgdiA9IGksIHIgPSBpLCBzID0gNztcbiAgICBmb3IgKHYgPj4+PSAxOyB2OyB2ID4+Pj0gMSkge1xuICAgICAgciA8PD0gMTtcbiAgICAgIHIgfD0gdiAmIDE7XG4gICAgICAtLXM7XG4gICAgfVxuICAgIHRhYltpXSA9IChyIDw8IHMpICYgMHhmZjtcbiAgfVxufSkoUkVWRVJTRV9UQUJMRSk7XG5cbi8vUmV2ZXJzZSBiaXRzIGluIGEgMzIgYml0IHdvcmRcbmV4cG9ydHMucmV2ZXJzZSA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAoUkVWRVJTRV9UQUJMRVsgdiAgICAgICAgICYgMHhmZl0gPDwgMjQpIHxcbiAgICAgICAgICAoUkVWRVJTRV9UQUJMRVsodiA+Pj4gOCkgICYgMHhmZl0gPDwgMTYpIHxcbiAgICAgICAgICAoUkVWRVJTRV9UQUJMRVsodiA+Pj4gMTYpICYgMHhmZl0gPDwgOCkgIHxcbiAgICAgICAgICAgUkVWRVJTRV9UQUJMRVsodiA+Pj4gMjQpICYgMHhmZl07XG59XG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDIgY29vcmRpbmF0ZXMgd2l0aCAxNiBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IHF1YWR0cmVlIGNvZGVzXG5leHBvcnRzLmludGVybGVhdmUyID0gZnVuY3Rpb24oeCwgeSkge1xuICB4ICY9IDB4RkZGRjtcbiAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICB5ICY9IDB4RkZGRjtcbiAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vL0V4dHJhY3RzIHRoZSBudGggaW50ZXJsZWF2ZWQgY29tcG9uZW50XG5leHBvcnRzLmRlaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih2LCBuKSB7XG4gIHYgPSAodiA+Pj4gbikgJiAweDU1NTU1NTU1O1xuICB2ID0gKHYgfCAodiA+Pj4gMSkpICAmIDB4MzMzMzMzMzM7XG4gIHYgPSAodiB8ICh2ID4+PiAyKSkgICYgMHgwRjBGMEYwRjtcbiAgdiA9ICh2IHwgKHYgPj4+IDQpKSAgJiAweDAwRkYwMEZGO1xuICB2ID0gKHYgfCAodiA+Pj4gMTYpKSAmIDB4MDAwRkZGRjtcbiAgcmV0dXJuICh2IDw8IDE2KSA+PiAxNjtcbn1cblxuXG4vL0ludGVybGVhdmUgYml0cyBvZiAzIGNvb3JkaW5hdGVzLCBlYWNoIHdpdGggMTAgYml0cy4gIFVzZWZ1bCBmb3IgZmFzdCBvY3RyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTMgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gIHggJj0gMHgzRkY7XG4gIHggID0gKHggfCAoeDw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHggID0gKHggfCAoeDw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeCAgPSAoeCB8ICh4PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeCAgPSAoeCB8ICh4PDwyKSkgICYgMTIyNzEzMzUxMztcblxuICB5ICY9IDB4M0ZGO1xuICB5ICA9ICh5IHwgKHk8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB5ICA9ICh5IHwgKHk8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHkgID0gKHkgfCAoeTw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHkgID0gKHkgfCAoeTw8MikpICAmIDEyMjcxMzM1MTM7XG4gIHggfD0gKHkgPDwgMSk7XG4gIFxuICB6ICY9IDB4M0ZGO1xuICB6ICA9ICh6IHwgKHo8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB6ICA9ICh6IHwgKHo8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHogID0gKHogfCAoejw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHogID0gKHogfCAoejw8MikpICAmIDEyMjcxMzM1MTM7XG4gIFxuICByZXR1cm4geCB8ICh6IDw8IDIpO1xufVxuXG4vL0V4dHJhY3RzIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnQgb2YgYSAzLXR1cGxlXG5leHBvcnRzLmRlaW50ZXJsZWF2ZTMgPSBmdW5jdGlvbih2LCBuKSB7XG4gIHYgPSAodiA+Pj4gbikgICAgICAgJiAxMjI3MTMzNTEzO1xuICB2ID0gKHYgfCAodj4+PjIpKSAgICYgMzI3MjM1NjAzNTtcbiAgdiA9ICh2IHwgKHY+Pj40KSkgICAmIDI1MTcxOTY5NTtcbiAgdiA9ICh2IHwgKHY+Pj44KSkgICAmIDQyNzgxOTAzMzU7XG4gIHYgPSAodiB8ICh2Pj4+MTYpKSAgJiAweDNGRjtcbiAgcmV0dXJuICh2PDwyMik+PjIyO1xufVxuXG4vL0NvbXB1dGVzIG5leHQgY29tYmluYXRpb24gaW4gY29sZXhpY29ncmFwaGljIG9yZGVyICh0aGlzIGlzIG1pc3Rha2VubHkgY2FsbGVkIG5leHRQZXJtdXRhdGlvbiBvbiB0aGUgYml0IHR3aWRkbGluZyBoYWNrcyBwYWdlKVxuZXhwb3J0cy5uZXh0Q29tYmluYXRpb24gPSBmdW5jdGlvbih2KSB7XG4gIHZhciB0ID0gdiB8ICh2IC0gMSk7XG4gIHJldHVybiAodCArIDEpIHwgKCgofnQgJiAtfnQpIC0gMSkgPj4+IChjb3VudFRyYWlsaW5nWmVyb3ModikgKyAxKSk7XG59XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuVGlja2VyID0gZXhwb3J0cy5zaGFyZWQgPSB1bmRlZmluZWQ7XG5cbnZhciBfVGlja2VyID0gcmVxdWlyZSgnLi9UaWNrZXInKTtcblxudmFyIF9UaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGUgc2hhcmVkIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX0uXG4gKiBhbmQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfS5cbiAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYFxuICogZm9yIHRoaXMgaW5zdGFuY2UuIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nXG4gKiBob3cgdG8gb3B0LW91dCBvZiBhdXRvLXN0YXJ0aW5nIHRoZSBzaGFyZWQgdGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBsZXQgdGlja2VyID0gUElYSS50aWNrZXIuc2hhcmVkO1xuICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAqIHRpY2tlci5zdG9wKCk7XG4gKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAqIHRpY2tlci5zdGFydCgpO1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDgwMCwgNjAwKTtcbiAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gKiB0aWNrZXIuYWRkKGZ1bmN0aW9uICh0aW1lKSB7XG4gKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICogdGlja2VyLnN0b3AoKTtcbiAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICogICAgIHRpY2tlci51cGRhdGUodGltZSk7XG4gKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gKiB9XG4gKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAqXG4gKiBAdHlwZSB7UElYSS50aWNrZXIuVGlja2VyfVxuICogQG1lbWJlcm9mIFBJWEkudGlja2VyXG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX1RpY2tlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbnNoYXJlZC5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIHRpY2tlclxuICAvLyB0aGlzIGlzIHVzZWQgYnkgb3RoZXIgaW50ZXJuYWwgc3lzdGVtc1xuICAvLyBsaWtlIEFuaW1hdGVkU3ByaXRlIGFuZCBJbnRlcmFjdGlvbk1hbmFnZXJcbn07XG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgYW4gQVBJIGZvciBpbnRlcmFjdGluZyB3aXRoIFBJWEkncyBpbnRlcm5hbCBnbG9iYWwgdXBkYXRlIGxvb3AuXG4gKlxuICogVGhpcyB0aWNrZXIgaXMgdXNlZCBmb3IgcmVuZGVyaW5nLCB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgQW5pbWF0ZWRTcHJpdGV9LFxuICoge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyIEludGVyYWN0aW9uTWFuYWdlcn0gYW5kIG1hbnkgb3RoZXIgdGltZS1iYXNlZCBQSVhJIHN5c3RlbXMuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGlja2VyID0gbmV3IFBJWEkudGlja2VyLlRpY2tlcigpO1xuICogdGlja2VyLnN0b3AoKTtcbiAqIHRpY2tlci5hZGQoKGRlbHRhVGltZSkgPT4ge1xuICogICAvLyBkbyBzb21ldGhpbmcgZXZlcnkgZnJhbWVcbiAqIH0pO1xuICogdGlja2VyLnN0YXJ0KCk7XG4gKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gKi9cbmV4cG9ydHMuc2hhcmVkID0gc2hhcmVkO1xuZXhwb3J0cy5UaWNrZXIgPSBfVGlja2VyMi5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlMiA9IHJlcXVpcmUoJy4vVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcGFyc2VVcmkgPSByZXF1aXJlKCdwYXJzZS11cmknKTtcblxudmFyIF9wYXJzZVVyaTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVVyaSk7XG5cbnZhciBfbWluaVNpZ25hbHMgPSByZXF1aXJlKCdtaW5pLXNpZ25hbHMnKTtcblxudmFyIF9taW5pU2lnbmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9taW5pU2lnbmFscyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIHRlc3RzIGlzIENPUlMgaXMgc3VwcG9ydGVkIGluIFhIUiwgaWYgbm90IHdlIG5lZWQgdG8gdXNlIFhEUlxudmFyIHVzZVhkciA9ICEhKHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpKSk7XG52YXIgdGVtcEFuY2hvciA9IG51bGw7XG5cbi8vIHNvbWUgc3RhdHVzIGNvbnN0YW50c1xudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjtcblxuLy8gbm9vcFxuZnVuY3Rpb24gX25vb3AoKSB7fSAvKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIFJlc291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5zZXRFeHRlbnNpb25Mb2FkVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvbkxvYWRUeXBlKGV4dG5hbWUsIGxvYWRUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHhoclR5cGUgLSBUaGUgeGhyIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICAgKiAgICAgIGFuIGFycmF5IG9mIHNvdXJjZXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2VcbiAgICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtvcHRpb25zLm1ldGFkYXRhLmxvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5tZXRhZGF0YS5za2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbb3B0aW9ucy5tZXRhZGF0YS5taW1lVHlwZV0gLSBUaGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSBlbGVtZW50IG9mIGEgdmlkZW8vYXVkaW9cbiAgICAgKiAgICAgIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0b1xuICAgICAqICAgICAgdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAgICovXG5cblxuICAgIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzb3VyY2UpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmxhZ3MgPSAwO1xuXG4gICAgICAgIC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdXJsIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuTE9BRF9UWVBFfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkVHlwZSA9IG9wdGlvbnMubG9hZFR5cGUgfHwgdGhpcy5fZGV0ZXJtaW5lTG9hZFR5cGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhoclR5cGUgPSBvcHRpb25zLnhoclR5cGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZSB0aGF0IGlmIHlvdSBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCwgdGhlIFJlc291cmNlIGNsYXNzIHRha2VzIG93bmVyc2hpcCBvZiBpdC5cbiAgICAgICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgICAgICogIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgICAgICogIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlc1xuICAgICAgICAgKiAgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuVFlQRX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIHhociBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSB0aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGRyT25UaW1lb3V0ID0gdGhpcy5feGRyT25UaW1lb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgICAgICogc28gc29tZXRpbWVzIGl0IG1heSBub3QgYmUgYXZhaWxhYmxlLiBJZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAvLyBUT0RPOiBDbGVhbiB0aGlzIHVwIGluIGEgd3JhcHBlciBvciBzb21ldGhpbmcuLi5ncm9zcy4uLi5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSBlcnJvclxuICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIGFib3J0IHRoZSBhY3R1YWwgbG9hZGluZ1xuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgICAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtdWx0aS1zb3VyY2VcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuXG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuQVVESU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYZHIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5faGFzRmxhZyA9IGZ1bmN0aW9uIF9oYXNGbGFnKGZsYWcpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2ZsYWdzICYgZmxhZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIChVbilTZXRzIHRoZSBmbGFnLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvICh1bilzZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fc2V0RmxhZyA9IGZ1bmN0aW9uIF9zZXRGbGFnKGZsYWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICAgKiBsaWtlIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnICYmIHR5cGVvZiB3aW5kb3cuSW1hZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAgICogbGlrZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCdVbnN1cHBvcnRlZCBlbGVtZW50OiAnICsgdHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsW2ldLCBBcnJheS5pc0FycmF5KG1pbWVUeXBlcykgPyBtaW1lVHlwZXNbaV0gOiBtaW1lVHlwZXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZGF0YS5sb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkWGRyID0gZnVuY3Rpb24gX2xvYWRYZHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAgICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuICAgICAgICB4ZHIudGltZW91dCA9IDUwMDA7XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhkck9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geGRyLnNlbmQoKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICAgICAgaWYgKCFtaW1lKSB7XG4gICAgICAgICAgICBtaW1lID0gdHlwZSArICcvJyArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hYm9ydCgnRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogJyArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uUHJvZ3Jlc3MgPSBmdW5jdGlvbiBfb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RFcnJvckV2ZW50fEV2ZW50fSBldmVudCAtIEVycm9yIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgJyBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcsIHRleHQ6IFwiJyArIHhoci5zdGF0dXNUZXh0ICsgJ1wiJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBhYm9ydCBldmVudCBmaXJlcyBmb3IgeGhyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0QWJvcnRFdmVudH0gZXZlbnQgLSBBYm9ydCBFdmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uQWJvcnQgPSBmdW5jdGlvbiBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHRoaXMueGhyKSArICcgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgeGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRpbWVvdXQgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGRyT25UaW1lb3V0ID0gZnVuY3Rpb24gX3hkck9uVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHRoaXMueGhyKSArICcgUmVxdWVzdCB0aW1lZCBvdXQuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cblxuICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAgICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCB4bWw6ICcgKyBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCdbJyArIHhoci5zdGF0dXMgKyAnXSAnICsgeGhyLnN0YXR1c1RleHQgKyAnOiAnICsgeGhyLnJlc3BvbnNlVVJMKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAgICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgICAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICAgICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAgICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgICAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgICAgIHVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHRlbXBBbmNob3IuaHJlZiwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuXG4gICAgICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyAnOicgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX3hoclR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVMb2FkVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVMb2FkVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICB2YXIgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIHZhciBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcblxuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG5cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVzb3VyY2UsIFt7XG4gICAgICAgIGtleTogJ2lzRGF0YVVybCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAgICAgKiBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNDb21wbGV0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgICAgICogYW5kIGlzIGZhbHNlIGFnYWluIHdoZW4gY29tcGxldGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNMb2FkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORyk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXNvdXJjZTtcblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAwLFxuICAgIERBVEFfVVJMOiAxIDw8IDAsXG4gICAgQ09NUExFVEU6IDEgPDwgMSxcbiAgICBMT0FESU5HOiAxIDw8IDJcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlRZUEUgPSB7XG4gICAgVU5LTk9XTjogMCxcbiAgICBKU09OOiAxLFxuICAgIFhNTDogMixcbiAgICBJTUFHRTogMyxcbiAgICBBVURJTzogNCxcbiAgICBWSURFTzogNSxcbiAgICBURVhUOiA2XG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBsb2FkaW5nIGEgcmVzb3VyY2UgY2FuIHVzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBYSFI6IDEsXG4gICAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgSU1BR0U6IDIsXG4gICAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgQVVESU86IDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogNFxufTtcblxuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gICAgLyoqIHN0cmluZyAqL1xuICAgIERFRkFVTFQ6ICd0ZXh0JyxcbiAgICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICdkb2N1bWVudCcsXG4gICAgLyoqIE9iamVjdCAqL1xuICAgIEpTT046ICdqc29uJyxcbiAgICAvKiogU3RyaW5nICovXG4gICAgVEVYVDogJ3RleHQnXG59O1xuXG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgcG5nOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBlZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB3ZWJwOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgJ3N2Zyt4bWwnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsIC8vIGZvciBTVkcgZGF0YSB1cmxzXG5cbiAgICAvLyBhdWRpb1xuICAgIG1wMzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuXG4gICAgLy8gdmlkZW9zXG4gICAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPXG59O1xuXG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgICAvLyB4bWxcbiAgICB4aHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB4bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAgIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAgIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gICAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIGltYWdlc1xuICAgIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgYm1wOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGdhOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuXG4gICAgLy8ganNvblxuICAgIGpzb246IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG5cbiAgICAvLyB0ZXh0XG4gICAgdGV4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICAgIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc291cmNlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9Db3VudExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL0NvdW50TGltaXRlcicpO1xuXG52YXIgX0NvdW50TGltaXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudExpbWl0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU2hhcmVkVGlja2VyID0gY29yZS50aWNrZXIuc2hhcmVkO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuIEJhc2VQcmVwYXJlIGhhbmRsZXNcbiAqIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnkge0BsaW5rIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5cbnZhciBCYXNlUHJlcGFyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3lzdGVtUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlUHJlcGFyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ291bnRMaW1pdGVyfFBJWEkucHJlcGFyZS5UaW1lTGltaXRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGltaXRlciA9IG5ldyBfQ291bnRMaW1pdGVyMi5kZWZhdWx0KGNvcmUuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5TeXN0ZW1SZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBXZWJHTFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZXxQSVhJLldlYkdMUmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHVubGlrZWx5LCBidXQgaW4gY2FzZSB3ZSB3ZXJlIGRlc3Ryb3llZCBiZXR3ZWVuIHRpY2soKSBhbmQgZGVsYXllZFRpY2soKVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcblxuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoaXRlbSwgZG9uZSkge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMudGlja2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAgICAgKiBhbmQgd2UgZG8gTk9UIHdhbnQgdG8gYmxvY2sgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lIGZyb20gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uIHByZXBhcmVJdGVtcygpIHtcbiAgICAgICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICB2YXIgdXBsb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0gY29tcGxldGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW19pXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgICAgIFNoYXJlZFRpY2tlci5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiByZWdpc3RlckZpbmRIb29rKGFkZEhvb2spIHtcbiAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKSB7XG4gICAgICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAgICAgKiAgICAgICAgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2FudmFzUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChpdGVtKSB7XG4gICAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGVsZW1lbnRzIG9uIHNwZWNpYWxcbiAgICAgICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGNoaWxkZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkNvbnRhaW5lcikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBfaTIgPj0gMDsgX2kyLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW19pMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2luZykge1xuICAgICAgICAgICAgU2hhcmVkVGlja2VyLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFzZVByZXBhcmU7XG59KCk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VQcmVwYXJlO1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIG11dGxpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICAvLyBPYmplY3RzIHdpdGggdGV4dHVyZXMsIGxpa2UgU3ByaXRlcy9UZXh0XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKGhlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gcHVzaCB0aGUgdGV4dCBzdHlsZSB0byBwcmVwYXJlIGl0IC0gdGhpcyBjYW4gYmUgcmVhbGx5IGV4cGVuc2l2ZVxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtLnN0eWxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSB0ZXh0IG9iamVjdCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgaXQgKHRvIGNhbnZhcy90ZXh0dXJlKSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgVGV4dCdzIHRleHR1cmUgZm9yIHVwbG9hZCB0byBHUFVcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUHJlcGFyZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKiBBbiBvYnNlcnZhYmxlIHBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JzZXJ2YWJsZVBvaW50KTtcblxuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG5cbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAgICAgKiB0byB0aGUgY2xvbmUgb2JqZWN0J3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiPW51bGxdIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHZhciBzY29wZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcblxuICAgICAgICB2YXIgX2NiID0gY2IgfHwgdGhpcy5jYjtcbiAgICAgICAgdmFyIF9zY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoX2NiLCBfc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KHgsIHkpIHtcbiAgICAgICAgdmFyIF94ID0geCB8fCAwO1xuICAgICAgICB2YXIgX3kgPSB5IHx8ICh5ICE9PSAwID8gX3ggOiAwKTtcblxuICAgICAgICBpZiAodGhpcy5feCAhPT0gX3ggfHwgdGhpcy5feSAhPT0gX3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBfeDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBfeTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGRhdGEgZnJvbSBhbm90aGVyIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9IHBvaW50IC0gcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHBvaW50LnggfHwgdGhpcy5feSAhPT0gcG9pbnQueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHBvaW50Lng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcG9pbnQueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKHApIHtcbiAgICAgICAgcmV0dXJuIHAueCA9PT0gdGhpcy5feCAmJiBwLnkgPT09IHRoaXMuX3k7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoT2JzZXJ2YWJsZVBvaW50LCBbe1xuICAgICAgICBrZXk6IFwieFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJ5XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9ic2VydmFibGVQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGVQb2ludC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi9NYXRyaXgnKTtcblxudmFyIF9NYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdOyAvLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cCBvZiBvcmRlciAxNlxuXG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG52YXIgdGVtcE1hdHJpY2VzID0gW107XG5cbnZhciBtdWwgPSBbXTtcblxuZnVuY3Rpb24gc2lnbnVtKHgpIHtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoeCA+IDApIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcblxuICAgICAgICBtdWwucHVzaChyb3cpO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSh1eFtpXSAqIHV4W2pdICsgdnhbaV0gKiB1eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKHV5W2ldICogdXhbal0gKyB2eVtpXSAqIHV5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0odXhbaV0gKiB2eFtqXSArIHZ4W2ldICogdnlbal0pO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSh1eVtpXSAqIHZ4W2pdICsgdnlbaV0gKiB2eVtqXSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXkgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgMTY7IF9pKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgbWF0LnNldCh1eFtfaV0sIHV5W19pXSwgdnhbX2ldLCB2eVtfaV0sIDAsIDApO1xuICAgICAgICB0ZW1wTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEltcGxlbWVudHMgRGloZWRyYWwgR3JvdXAgRF84LCBzZWUgW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfSxcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscy4gVXNlZCBmb3IgdGV4dHVyZSByb3RhdGlvbnMuXG4gKlxuICogVmVjdG9yIHhYKGkpLCB4WShpKSBpcyBVLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogVmVjdG9yIHlZKGkpLCB5WShpKSBpcyBWLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogUm90YXRpb25zOiAwIGdyYWQgKDApLCA5MCBncmFkICgyKSwgMTgwIGdyYWQgKDQpLCAyNzAgZ3JhZCAoNilcbiAqIE1pcnJvcnM6IHZlcnRpY2FsICg4KSwgbWFpbiBkaWFnb25hbCAoMTApLCBob3Jpem9udGFsICgxMiksIHJldmVyc2UgZGlhZ29uYWwgKDE0KVxuICogVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JvdXBEOCA9IHtcbiAgICBFOiAwLFxuICAgIFNFOiAxLFxuICAgIFM6IDIsXG4gICAgU1c6IDMsXG4gICAgVzogNCxcbiAgICBOVzogNSxcbiAgICBOOiA2LFxuICAgIE5FOiA3LFxuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgdVg6IGZ1bmN0aW9uIHVYKGluZCkge1xuICAgICAgICByZXR1cm4gdXhbaW5kXTtcbiAgICB9LFxuICAgIHVZOiBmdW5jdGlvbiB1WShpbmQpIHtcbiAgICAgICAgcmV0dXJuIHV5W2luZF07XG4gICAgfSxcbiAgICB2WDogZnVuY3Rpb24gdlgoaW5kKSB7XG4gICAgICAgIHJldHVybiB2eFtpbmRdO1xuICAgIH0sXG4gICAgdlk6IGZ1bmN0aW9uIHZZKGluZCkge1xuICAgICAgICByZXR1cm4gdnlbaW5kXTtcbiAgICB9LFxuICAgIGludjogZnVuY3Rpb24gaW52KHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC1yb3RhdGlvbiAmIDc7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkge1xuICAgICAgICByZXR1cm4gbXVsW3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XTtcbiAgICB9LFxuICAgIHN1YjogZnVuY3Rpb24gc3ViKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7XG4gICAgICAgIHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbi4gQ29tbXV0YXRpdmUgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiByb3RhdGUxODAocm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uIF4gNDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlyZWN0aW9uIG9mIG1haW4gdmVjdG9yIGNhbiBiZSBob3Jpem9udGFsLCB2ZXJ0aWNhbCBvciBkaWFnb25hbC5cbiAgICAgKiBTb21lIG9iamVjdHMgd29yayB3aXRoIHZlcnRpY2FsIGRpcmVjdGlvbnMgZGlmZmVyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiBpc1ZlcnRpY2FsKHJvdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBUT0RPXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRPRE9cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogZnVuY3Rpb24gYnlEaXJlY3Rpb24oZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguVztcbiAgICAgICAgfSBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH0gZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gbWF0cml4QXBwZW5kUm90YXRpb25JbnYobWF0cml4LCByb3RhdGlvbikge1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gdGVtcE1hdHJpY2VzW0dyb3VwRDguaW52KHJvdGF0aW9uKV07XG5cbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JvdXBEODtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyb3VwRDguanMubWFwIiwiLy8gdmFyIEdMX01BUCA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gYXR0cmlicyB7Kn1cbiAqIEBwYXJhbSBzdGF0ZSB7Kn1cbiAqL1xudmFyIHNldFZlcnRleEF0dHJpYkFycmF5cyA9IGZ1bmN0aW9uIChnbCwgYXR0cmlicywgc3RhdGUpXG57XG4gICAgdmFyIGk7XG4gICAgaWYoc3RhdGUpXG4gICAge1xuICAgICAgICB2YXIgdGVtcEF0dHJpYlN0YXRlID0gc3RhdGUudGVtcEF0dHJpYlN0YXRlLFxuICAgICAgICAgICAgYXR0cmliU3RhdGUgPSBzdGF0ZS5hdHRyaWJTdGF0ZTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGVtcEF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGVbaV0gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgbmV3IGF0dHJpYnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZVthdHRyaWJzW2ldLmF0dHJpYnV0ZS5sb2NhdGlvbl0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXR0cmliU3RhdGVbaV0gIT09IHRlbXBBdHRyaWJTdGF0ZVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJTdGF0ZVtpXSA9IHRlbXBBdHRyaWJTdGF0ZVtpXTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdHRyaWJTdGF0ZVtpXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWIgPSBhdHRyaWJzW2ldO1xuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliLmF0dHJpYnV0ZS5sb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFZlcnRleEF0dHJpYkFycmF5cztcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gZm9ybWF0IHtudW1iZXJ9IHRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlJHQkFcbiAqIEBwYXJhbSB0eXBlIHtudW1iZXJ9IHRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSlcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXG5cdC8qKlxuXHQgKiBUaGUgV2ViR0wgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG5cdCAqL1xuXHR0aGlzLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cblx0LyoqXG5cdCAqIElmIG1pcG1hcHBpbmcgd2FzIHVzZWQgZm9yIHRoaXMgdGV4dHVyZSwgZW5hYmxlIGFuZCBkaXNhYmxlIHdpdGggZW5hYmxlTWlwbWFwKClcblx0ICpcblx0ICogQG1lbWJlciB7Qm9vbGVhbn1cblx0ICovXG5cdC8vIHNvbWUgc2V0dGluZ3MuLlxuXHR0aGlzLm1pcG1hcCA9IGZhbHNlO1xuXG5cblx0LyoqXG5cdCAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0dGhpcy5wcmVtdWx0aXBseUFscGhhID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIFRoZSB3aWR0aCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMud2lkdGggPSB3aWR0aCB8fCAtMTtcblx0LyoqXG5cdCAqIFRoZSBoZWlnaHQgb2YgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAtMTtcblxuXHQvKipcblx0ICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBnbC5SR0JBO1xuXG5cdC8qKlxuXHQgKiBUaGUgZ2wgdHlwZSBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuVU5TSUdORURfQllURVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLnR5cGUgPSB0eXBlIHx8IGdsLlVOU0lHTkVEX0JZVEU7XG5cblxufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoaXMgdGV4dHVyZSB0byB0aGUgR1BVXG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YXxIVE1MVmlkZW9FbGVtZW50fSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKHNvdXJjZSlcbntcblx0dGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXHR2YXIgbmV3V2lkdGggPSBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG5cdHZhciBuZXdIZWlnaHQgPSBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcblxuXHRpZihuZXdIZWlnaHQgIT09IHRoaXMuaGVpZ2h0IHx8IG5ld1dpZHRoICE9PSB0aGlzLndpZHRoKVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXHRlbHNlXG5cdHtcbiAgICBcdGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXG5cdC8vIGlmIHRoZSBzb3VyY2UgaXMgYSB2aWRlbywgd2UgbmVlZCB0byB1c2UgdGhlIHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodCBwcm9wZXJ0aWVzIGFzIHdpZHRoIC8gaGVpZ2h0IHdpbGwgYmUgaW5jb3JyZWN0LlxuXHR0aGlzLndpZHRoID0gbmV3V2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXG59O1xuXG52YXIgRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gZmFsc2U7XG5cbi8qKlxuICogVXNlIGEgZGF0YSBzb3VyY2UgYW5kIHVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtUeXBlZEFycmF5fSB0aGUgZGF0YSB0byB1cGxvYWQgdG8gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB3aWR0aCB7bnVtYmVyfSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZERhdGEgPSBmdW5jdGlvbihkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0aWYoZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcblx0e1xuXHRcdGlmKCFGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUpXG5cdFx0e1xuXHRcdFx0dmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO1xuXG5cdFx0XHRpZihleHQpXG5cdFx0XHR7XG5cdFx0XHRcdEZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgbm90IGF2YWlsYWJsZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMudHlwZSA9IGdsLkZMT0FUO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdC8vIFRPRE8gc3VwcG9ydCBmb3Igb3RoZXIgdHlwZXNcblx0XHR0aGlzLnR5cGUgPSB0aGlzLnR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblx0fVxuXG5cdC8vIHdoYXQgdHlwZSBvZiBkYXRhP1xuXHRnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7XG5cblxuXHRpZih3aWR0aCAhPT0gdGhpcy53aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuaGVpZ2h0KVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgIHdpZHRoLCBoZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBkYXRhIHx8IG51bGwpO1xuXHR9XG5cblx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuXG4vL1x0dGV4U3ViSW1hZ2UyRFxufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgdGV4dHVyZVxuICogQHBhcmFtICBsb2NhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24obG9jYXRpb24pXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0aWYobG9jYXRpb24gIT09IHVuZGVmaW5lZClcblx0e1xuXHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG5cdH1cblxuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5taW5GaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRpZih0aGlzLm1pcG1hcClcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcblx0fVxufTtcblxuLyoqXG4gKiBAcGFyYW0gbGluZWFyIHtCb29sZWFufSBpZiB3ZSB3YW50IHRvIHVzZSBsaW5lYXIgZmlsdGVyaW5nIG9yIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUubWFnRmlsdGVyID0gZnVuY3Rpb24oIGxpbmVhciApXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG1pcG1hcHBpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTWlwbWFwID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdHRoaXMubWlwbWFwID0gdHJ1ZTtcblxuXHRnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBsaW5lYXIgZmlsdGVyaW5nXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZUxpbmVhclNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKHRydWUpO1xuXHR0aGlzLm1hZ0ZpbHRlcih0cnVlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZU5lYXJlc3RTY2FsaW5nID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLm1pbkZpbHRlcihmYWxzZSk7XG5cdHRoaXMubWFnRmlsdGVyKGZhbHNlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBjbGFtcGluZyBvbiB0aGUgdGV4dHVyZSBzbyBXZWJHTCB3aWxsIG5vdCByZXBlYXQgaXRcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcENsYW1wID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgdGlsaW5nIG9uIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZVdyYXBSZXBlYXQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcE1pcnJvclJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5NSVJST1JFRF9SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG59O1xuXG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdC8vVE9ET1xuXHRnbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YX0gdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHByZW11bHRpcGx5QWxwaGEge0Jvb2xlYW59IElmIHdlIHdhbnQgdG8gdXNlIHByZS1tdWx0aXBsaWVkIGFscGhhXG4gKi9cblRleHR1cmUuZnJvbVNvdXJjZSA9IGZ1bmN0aW9uKGdsLCBzb3VyY2UsIHByZW11bHRpcGx5QWxwaGEpXG57XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhIHx8IGZhbHNlO1xuXHR0ZXh0dXJlLnVwbG9hZChzb3VyY2UpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5mcm9tRGF0YSA9IGZ1bmN0aW9uKGdsLCBkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHQvL2NvbnNvbGUubG9nKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXHR2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGdsKTtcblx0dGV4dHVyZS51cGxvYWREYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHR1cmU7XG4iLCJcbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG52YXIgY29tcGlsZVByb2dyYW0gPSBmdW5jdGlvbihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG5cbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZihhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IodmFyIGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG52YXIgY29tcGlsZVNoYWRlciA9IGZ1bmN0aW9uIChnbCwgdHlwZSwgc3JjKVxue1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGlsZVByb2dyYW07XG4iLCJcbnZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgbWFwU2l6ZSA9IHJlcXVpcmUoJy4vbWFwU2l6ZScpO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBhdHRyaWJ1dGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gVGhlIHNoYWRlciBwcm9ncmFtIHRvIGdldCB0aGUgYXR0cmlidXRlcyBmcm9tXG4gKiBAcmV0dXJuIGF0dHJpYnV0ZXMge09iamVjdH1cbiAqL1xudmFyIGV4dHJhY3RBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZ2wsIHByb2dyYW0pXG57XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6dHlwZSxcbiAgICAgICAgICAgIHNpemU6bWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgIGxvY2F0aW9uOmdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkRhdGEubmFtZSksXG4gICAgICAgICAgICAvL1RPRE8gLSBtYWtlIGFuIGF0dHJpYnV0ZSBvYmplY3RcbiAgICAgICAgICAgIHBvaW50ZXI6IHBvaW50ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbnZhciBwb2ludGVyID0gZnVuY3Rpb24odHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBzdGFydCl7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5sb2NhdGlvbilcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMubG9jYXRpb24sdGhpcy5zaXplLCB0eXBlIHx8IGdsLkZMT0FULCBub3JtYWxpemVkIHx8IGZhbHNlLCBzdHJpZGUgfHwgMCwgc3RhcnQgfHwgMCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RBdHRyaWJ1dGVzO1xuIiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbnZhciBtYXBTaXplID0gZnVuY3Rpb24odHlwZSkgXG57IFxuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59O1xuXG5cbnZhciBHTFNMX1RPX1NJWkUgPSB7XG4gICAgJ2Zsb2F0JzogICAgMSxcbiAgICAndmVjMic6ICAgICAyLFxuICAgICd2ZWMzJzogICAgIDMsXG4gICAgJ3ZlYzQnOiAgICAgNCxcblxuICAgICdpbnQnOiAgICAgIDEsXG4gICAgJ2l2ZWMyJzogICAgMixcbiAgICAnaXZlYzMnOiAgICAzLFxuICAgICdpdmVjNCc6ICAgIDQsXG5cbiAgICAnYm9vbCc6ICAgICAxLFxuICAgICdidmVjMic6ICAgIDIsXG4gICAgJ2J2ZWMzJzogICAgMyxcbiAgICAnYnZlYzQnOiAgICA0LFxuXG4gICAgJ21hdDInOiAgICAgNCxcbiAgICAnbWF0Myc6ICAgICA5LFxuICAgICdtYXQ0JzogICAgIDE2LFxuXG4gICAgJ3NhbXBsZXIyRCc6ICAxXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFNpemU7XG4iLCJ2YXIgbWFwVHlwZSA9IHJlcXVpcmUoJy4vbWFwVHlwZScpO1xudmFyIGRlZmF1bHRWYWx1ZSA9IHJlcXVpcmUoJy4vZGVmYXVsdFZhbHVlJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIHVuaWZvcm1zXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gVGhlIHNoYWRlciBwcm9ncmFtIHRvIGdldCB0aGUgdW5pZm9ybXMgZnJvbVxuICogQHJldHVybiB1bmlmb3JtcyB7T2JqZWN0fVxuICovXG52YXIgZXh0cmFjdFVuaWZvcm1zID0gZnVuY3Rpb24oZ2wsIHByb2dyYW0pXG57XG5cdHZhciB1bmlmb3JtcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICB7XG4gICAgXHR2YXIgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgIFx0dmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXS8sIFwiXCIpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUgKTtcblxuICAgIFx0dW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgXHRcdHR5cGU6dHlwZSxcbiAgICBcdFx0c2l6ZTp1bmlmb3JtRGF0YS5zaXplLFxuICAgIFx0XHRsb2NhdGlvbjpnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSksXG4gICAgXHRcdHZhbHVlOmRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKVxuICAgIFx0fTtcbiAgICB9XG5cblx0cmV0dXJuIHVuaWZvcm1zO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHRyYWN0VW5pZm9ybXM7XG4iLCIvKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqL1xudmFyIGRlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uKHR5cGUsIHNpemUpIFxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzogICAgIFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6ICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6ICAgICBcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoIDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxufTtcblxudmFyIGJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uKHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdFZhbHVlO1xuIiwiLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlci4gSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQgdGhpcyBmdW5jdGlvbiB3aWxsIGRvIG5vdGhpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgICAgICAgdGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVjaXNpb24gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG52YXIgc2V0UHJlY2lzaW9uID0gZnVuY3Rpb24oc3JjLCBwcmVjaXNpb24pXG57XG4gICAgaWYoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpXG4gICAge1xuICAgICAgICByZXR1cm4gJ3ByZWNpc2lvbiAnICsgcHJlY2lzaW9uICsgJyBmbG9hdDtcXG4nICsgc3JjO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFByZWNpc2lvbjtcbiIsIi8qKlxuICogRXh0cmFjdHMgdGhlIGF0dHJpYnV0ZXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gdW5pZm9ybXMge0FycmF5fSBAbWF0ID9cbiAqIEByZXR1cm4gYXR0cmlidXRlcyB7T2JqZWN0fVxuICovXG52YXIgZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0ID0gZnVuY3Rpb24oZ2wsIHVuaWZvcm1EYXRhKVxue1xuICAgIC8vIHRoaXMgaXMgdGhlIG9iamVjdCB3ZSB3aWxsIGJlIHNlbmRpbmcgYmFjay5cbiAgICAvLyBhbiBvYmplY3QgaGllcmFjaHkgd2lsbCBiZSBjcmVhdGVkIGZvciBzdHJ1Y3RzXG4gICAgdmFyIHVuaWZvcm1zID0ge2RhdGE6e319O1xuXG4gICAgdW5pZm9ybXMuZ2wgPSBnbDtcblxuICAgIHZhciB1bmlmb3JtS2V5cz0gT2JqZWN0LmtleXModW5pZm9ybURhdGEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmlmb3JtS2V5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBmdWxsTmFtZSA9IHVuaWZvcm1LZXlzW2ldO1xuXG4gICAgICAgIHZhciBuYW1lVG9rZW5zID0gZnVsbE5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG5hbWUgPSBuYW1lVG9rZW5zW25hbWVUb2tlbnMubGVuZ3RoIC0gMV07XG5cblxuICAgICAgICB2YXIgdW5pZm9ybUdyb3VwID0gZ2V0VW5pZm9ybUdyb3VwKG5hbWVUb2tlbnMsIHVuaWZvcm1zKTtcblxuICAgICAgICB2YXIgdW5pZm9ybSA9ICB1bmlmb3JtRGF0YVtmdWxsTmFtZV07XG4gICAgICAgIHVuaWZvcm1Hcm91cC5kYXRhW25hbWVdID0gdW5pZm9ybTtcblxuICAgICAgICB1bmlmb3JtR3JvdXAuZ2wgPSBnbDtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodW5pZm9ybUdyb3VwLCBuYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IGdlbmVyYXRlR2V0dGVyKG5hbWUpLFxuICAgICAgICAgICAgc2V0OiBnZW5lcmF0ZVNldHRlcihuYW1lLCB1bmlmb3JtKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pZm9ybXM7XG59O1xuXG52YXIgZ2VuZXJhdGVHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKVxue1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtuYW1lXS52YWx1ZTtcbiAgICB9O1xufTtcblxudmFyIEdMU0xfU0lOR0xFX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IGZ1bmN0aW9uIHNldFNpbmdsZUZsb2F0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlVmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICB2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVWZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICB2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVWZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBpbnQ6IGZ1bmN0aW9uIHNldFNpbmdsZUludChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICBpdmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIGl2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgYm9vbDogZnVuY3Rpb24gc2V0U2luZ2xlQm9vbChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICBidmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIGJ2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgbWF0MjogZnVuY3Rpb24gc2V0U2luZ2xlTWF0MihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG4gICAgbWF0MzogZnVuY3Rpb24gc2V0U2luZ2xlTWF0MyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG4gICAgbWF0NDogZnVuY3Rpb24gc2V0U2luZ2xlTWF0NChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG5cbiAgICBzYW1wbGVyMkQ6IGZ1bmN0aW9uIHNldFNpbmdsZVNhbXBsZXIyRChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxufTtcblxudmFyIEdMU0xfQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogZnVuY3Rpb24gc2V0RmxvYXRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMyOiBmdW5jdGlvbiBzZXRWZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMzogZnVuY3Rpb24gc2V0VmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzQ6IGZ1bmN0aW9uIHNldFZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpbnQ6IGZ1bmN0aW9uIHNldEludEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMyOiBmdW5jdGlvbiBzZXRJdmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMzOiBmdW5jdGlvbiBzZXRJdmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWM0OiBmdW5jdGlvbiBzZXRJdmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJvb2w6IGZ1bmN0aW9uIHNldEJvb2xBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMjogZnVuY3Rpb24gc2V0QnZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMzogZnVuY3Rpb24gc2V0QnZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjNDogZnVuY3Rpb24gc2V0QnZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBzYW1wbGVyMkQ6IGZ1bmN0aW9uIHNldFNhbXBsZXIyREFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVTZXR0ZXIobmFtZSwgdW5pZm9ybSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5kYXRhW25hbWVdLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMuZGF0YVtuYW1lXS5sb2NhdGlvbjtcbiAgICAgICAgaWYgKHVuaWZvcm0uc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgR0xTTF9TSU5HTEVfU0VUVEVSU1t1bmlmb3JtLnR5cGVdKHRoaXMuZ2wsIGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnbHNsU2V0QXJyYXkoZ2wsIGxvY2F0aW9uLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICAgICAgR0xTTF9BUlJBWV9TRVRURVJTW3VuaWZvcm0udHlwZV0odGhpcy5nbCwgbG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFVuaWZvcm1Hcm91cChuYW1lVG9rZW5zLCB1bmlmb3JtKVxue1xuICAgIHZhciBjdXIgPSB1bmlmb3JtO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lVG9rZW5zLmxlbmd0aCAtIDE7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBvID0gY3VyW25hbWVUb2tlbnNbaV1dIHx8IHtkYXRhOnt9fTtcbiAgICAgICAgY3VyW25hbWVUb2tlbnNbaV1dID0gbztcbiAgICAgICAgY3VyID0gbztcbiAgICB9XG5cbiAgICByZXR1cm4gY3VyO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL1RyYW5zZm9ybVN0YXRpYycpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1TdGF0aWMpO1xuXG52YXIgX1RyYW5zZm9ybSA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtJyk7XG5cbnZhciBfVHJhbnNmb3JtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi9Cb3VuZHMnKTtcblxudmFyIF9Cb3VuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93biByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKERpc3BsYXlPYmplY3QsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGxheU9iamVjdCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgVHJhbnNmb3JtQ2xhc3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQuVFJBTlNGT1JNX01PREUgPT09IF9jb25zdC5UUkFOU0ZPUk1fTU9ERS5TVEFUSUMgPyBfVHJhbnNmb3JtU3RhdGljMi5kZWZhdWx0IDogX1RyYW5zZm9ybTIuZGVmYXVsdDtcblxuICAgICAgICBfdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtQmFzZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm1DbGFzcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWlzYXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2ZpbHRlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgX0JvdW5kczIuZGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICBfdGhpcy5fbGFzdEJvdW5kc0lEID0gLTE7XG4gICAgICAgIF90aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBVcGRhdGUgLSBzZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMoc2tpcFVwZGF0ZSwgcmVjdCkge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCkge1xuICAgICAgICB2YXIgc2tpcFVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIHRvTG9jYWwocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG9cbiAgICAgKi9cbiAgICA7XG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiBzZXRQYXJlbnQoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwO1xuICAgICAgICB2YXIgc2tld1ggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG4gICAgICAgIHZhciBza2V3WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogMDtcbiAgICAgICAgdmFyIHBpdm90WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA3ICYmIGFyZ3VtZW50c1s3XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzddIDogMDtcbiAgICAgICAgdmFyIHBpdm90WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA4ICYmIGFyZ3VtZW50c1s4XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzhdIDogMDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxheU9iamVjdCwgW3tcbiAgICAgICAga2V5OiAnX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmxkVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvY2FsVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncG9zaXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjYWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Bpdm90JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl2b3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdza2V3JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmxkVmlzaWJsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQSVhJIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiBQSVhJLkdyYXBoaWNzIG9yIGEgUElYSS5TcHJpdGUgb2JqZWN0LiBUaGlzIGFsbG93cyBmb3IgbXVjaCBmYXN0ZXIgbWFza2luZyBpbiBjYW52YXMgYXMgaXRcbiAgICAgICAgICogdXRpbGlzZXMgc2hhcGUgY2xpcHBpbmcuIFRvIHJlbW92ZSBhIG1hc2ssIHNldCB0aGlzIHByb3BlcnR5IHRvIG51bGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0b2RvIEZvciB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWFzaycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgZmlsdGVycyBmb3IgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqICogSU1QT1JUQU5UOiBUaGlzIGlzIGEgd2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogVG8gcmVtb3ZlIGZpbHRlcnMgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvICdudWxsJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsdGVycycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMgJiYgdGhpcy5fZmlsdGVycy5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlcnMgPSB2YWx1ZSAmJiB2YWx1ZS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4vLyBwZXJmb3JtYW5jZSBpbmNyZWFzZSB0byBhdm9pZCB1c2luZyBjYWxsLi4gKDEweCBmYXN0ZXIpXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gRGlzcGxheU9iamVjdDtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGF5T2JqZWN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UcmFuc2Zvcm1CYXNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtU3RhdGljID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm1CYXNlKSB7XG4gICAgX2luaGVyaXRzKFRyYW5zZm9ybVN0YXRpYywgX1RyYW5zZm9ybUJhc2UpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2Zvcm1TdGF0aWMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm1TdGF0aWMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1RyYW5zZm9ybUJhc2UuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMucG9zaXRpb24gPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAxLCAxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl2b3QgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5za2V3ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy51cGRhdGVTa2V3LCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgX3RoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5fY3ggPSAxOyAvLyBjb3Mgcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgX3RoaXMuX3N4ID0gMDsgLy8gc2luIHJvdGF0aW9uICsgc2tld1k7XG4gICAgICAgIF90aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgICAgICBfdGhpcy5fc3kgPSAxOyAvLyBzaW4gcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcblxuICAgICAgICBfdGhpcy5fbG9jYWxJRCA9IDA7XG4gICAgICAgIF90aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiB1cGRhdGVTa2V3KCkge1xuICAgICAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcblxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb25seSBsb2NhbCBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAodGhpcy5waXZvdC5feCAqIGx0LmEgKyB0aGlzLnBpdm90Ll95ICogbHQuYyk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAodGhpcy5waXZvdC5feCAqIGx0LmIgKyB0aGlzLnBpdm90Ll95ICogbHQuZCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICh0aGlzLnBpdm90Ll94ICogbHQuYSArIHRoaXMucGl2b3QuX3kgKiBsdC5jKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICh0aGlzLnBpdm90Ll94ICogbHQuYiArIHRoaXMucGl2b3QuX3kgKiBsdC5kKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgICAgICAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICAgICAgICAgIHd0LmMgPSBsdC5jICogcHQuYSArIGx0LmQgKiBwdC5jO1xuICAgICAgICAgICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgICAgICAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSBsdC50eCAqIHB0LmIgKyBsdC50eSAqIHB0LmQgKyBwdC50eTtcblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gc2V0RnJvbU1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtU3RhdGljLCBbe1xuICAgICAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmFuc2Zvcm1TdGF0aWM7XG59KF9UcmFuc2Zvcm1CYXNlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtU3RhdGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtU3RhdGljLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICogbG9jYWwgdHJhbnNmb3JtYXRpb24gaXMgY2FsY3VsYXRlZCBmcm9tIHBvc2l0aW9uLHNjYWxlLHNrZXcgYW5kIHJvdGF0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgX2luaGVyaXRzKFRyYW5zZm9ybSwgX1RyYW5zZm9ybUJhc2UpO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm0pO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICpcbiAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgKi9cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLnBvc2l0aW9uID0gbmV3IF9tYXRoLlBvaW50KDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5Qb2ludCgxLCAxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5waXZvdCA9IG5ldyBfbWF0aC5Qb2ludCgwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiB2YWx1ZSBvZiB0aGUgb2JqZWN0LCBpbiByYWRpYW5zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgX3RoaXMuX2N4ID0gMTsgLy8gY29zIHJvdGF0aW9uICsgc2tld1k7XG4gICAgX3RoaXMuX3N4ID0gMDsgLy8gc2luIHJvdGF0aW9uICsgc2tld1k7XG4gICAgX3RoaXMuX2N5ID0gMDsgLy8gY29zIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgX3RoaXMuX3N5ID0gMTsgLy8gc2luIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNrZXcgdmFsdWVzIHdoZW4gdGhlIHNrZXcgb3Igcm90YXRpb24gY2hhbmdlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiB1cGRhdGVTa2V3KCkge1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIG9ubHkgbG9jYWwgbWF0cml4XG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG5cbiAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAodGhpcy5waXZvdC54ICogbHQuYiArIHRoaXMucGl2b3QueSAqIGx0LmQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAodGhpcy5waXZvdC54ICogbHQuYSArIHRoaXMucGl2b3QueSAqIGx0LmMpO1xuICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcblxuICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgIHd0LmEgPSBsdC5hICogcHQuYSArIGx0LmIgKiBwdC5jO1xuICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgIHd0LmMgPSBsdC5jICogcHQuYSArIGx0LmQgKiBwdC5jO1xuICAgIHd0LmQgPSBsdC5jICogcHQuYiArIGx0LmQgKiBwdC5kO1xuICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgd3QudHkgPSBsdC50eCAqIHB0LmIgKyBsdC50eSAqIHB0LmQgKyBwdC50eTtcblxuICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgfTtcblxuICAvKipcbiAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm0sIFt7XG4gICAga2V5OiAncm90YXRpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJhbnNmb3JtO1xufShfVHJhbnNmb3JtQmFzZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXRlcm1pbmVDcm9zc09yaWdpbjtcblxudmFyIF91cmwyID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBfdXJsMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VybDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdGVtcEFuY2hvciA9IHZvaWQgMDtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpIHtcbiAgICB2YXIgbG9jID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB3aW5kb3cubG9jYXRpb247XG5cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuXG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gX3VybDMuZGVmYXVsdC5wYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuXG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG5cbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlcm1pbmVDcm9zc09yaWdpbi5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi4vdGlja2VyJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luID0gcmVxdWlyZSgnLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4nKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXRlcm1pbmVDcm9zc09yaWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgb2YgYSBbcGxheWluZ10gVmlkZW8uXG4gKlxuICogVmlkZW8gYmFzZSB0ZXh0dXJlcyBtaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kIGluIHRoZWlyIGNyZWF0aW9uIHByb2Nlc3MuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCBpbiBzZXZlcmFsIHdheXMsIHN1Y2ggYXM6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0Jyk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCh7IHNyYzogJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfSk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMoWycvdmlkZW8ud2VibScsICcvdmlkZW8ubXA0J10pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFtcbiAqICAgICB7IHNyYzogJy92aWRlby53ZWJtJywgbWltZTogJ3ZpZGVvL3dlYm0nIH0sXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfVxuICogXSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgdGhlIFtcImRldXNcIiBkZW1vXShodHRwOi8vd3d3Lmdvb2Rib3lkaWdpdGFsLmNvbS9waXhpanMvZXhhbXBsZXMvZGV1cy8pLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZGVvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoX0Jhc2VUZXh0dXJlKSB7XG4gICAgX2luaGVyaXRzKFZpZGVvQmFzZVRleHR1cmUsIF9CYXNlVGV4dHVyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFZpZGVvIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWRlb0Jhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb0Jhc2VUZXh0dXJlKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWRlbyBzb3VyY2UgZWxlbWVudCBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBob29rIGluIGhlcmUgdG8gY2hlY2sgaWYgdmlkZW8gaXMgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgICAgIC8vIEJhc2VUZXh0dXJlIGxvb2tzIGZvciBhIHNvdXJjZS5jb21wbGV0ZSBib29sZWFuLCBwbHVzIHdpZHRoICYgaGVpZ2h0LlxuXG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBzb3VyY2UsIHNjYWxlTW9kZSkpO1xuXG4gICAgICAgIF90aGlzLndpZHRoID0gc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodDtcblxuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZSA9IF90aGlzLnVwZGF0ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBfdGhpcy5fb25QbGF5U3RhcnQuYmluZChfdGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBfdGhpcy5fb25QbGF5U3RvcC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIF90aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0KCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiBfb25DYW5QbGF5KCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgICAgIGlmICghdGhpcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSAmJiB0aGlzLnNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuc291cmNlLl9waXhpSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlLl9waXhpSWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gdmlkZW8gLSBWaWRlbyB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgaWYgKCF2aWRlby5fcGl4aUlkKSB7XG4gICAgICAgICAgICB2aWRlby5fcGl4aUlkID0gJ3ZpZGVvXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW3ZpZGVvLl9waXhpSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IFZpZGVvQmFzZVRleHR1cmUodmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgdmlkZW8uX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgQmFzZVRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gICAgICogVGhpcyBCYXNlVGV4dHVyZSBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R8c3RyaW5nW118b2JqZWN0W119IHZpZGVvU3JjIC0gVGhlIFVSTChzKSBmb3IgdGhlIHZpZGVvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMuc3JjXSAtIE9uZSBvZiB0aGUgc291cmNlIHVybHMgZm9yIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMubWltZV0gLSBUaGUgbWltZXR5cGUgb2YgdGhlIHZpZGVvIChlLmcuICd2aWRlby9tcDQnKS4gSWYgbm90IHNwZWNpZmllZFxuICAgICAqICB0aGUgdXJsJ3MgZXh0ZW5zaW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgc2Vjb25kIHBhcnQgb2YgdGhlIG1pbWUgdHlwZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlZpZGVvQmFzZVRleHR1cmV9IE5ld2x5IGNyZWF0ZWQgVmlkZW9CYXNlVGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwgPSBmdW5jdGlvbiBmcm9tVXJsKHZpZGVvU3JjLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgdmFyIHVybCA9IEFycmF5LmlzQXJyYXkodmlkZW9TcmMpID8gdmlkZW9TcmNbMF0uc3JjIHx8IHZpZGVvU3JjWzBdIDogdmlkZW9TcmMuc3JjIHx8IHZpZGVvU3JjO1xuXG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmlkZW9TcmMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZGVvU3JjLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlKHZpZGVvU3JjW2ldLnNyYyB8fCB2aWRlb1NyY1tpXSwgdmlkZW9TcmNbaV0ubWltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmdsZSBvYmplY3Qgb3Igc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh1cmwsIHZpZGVvU3JjLm1pbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2aWRlby5sb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhWaWRlb0Jhc2VUZXh0dXJlLCBbe1xuICAgICAgICBrZXk6ICdhdXRvVXBkYXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBWaWRlb0Jhc2VUZXh0dXJlO1xufShfQmFzZVRleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb0Jhc2VUZXh0dXJlO1xuXG5cblZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMgPSBWaWRlb0Jhc2VUZXh0dXJlLmZyb21Vcmw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShwYXRoLCB0eXBlKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0eXBlID0gJ3ZpZGVvLycgKyBwYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICBzb3VyY2Uuc3JjID0gcGF0aDtcbiAgICBzb3VyY2UudHlwZSA9IHR5cGU7XG5cbiAgICByZXR1cm4gc291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlkZW9CYXNlVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfR3JvdXBEID0gcmVxdWlyZSgnLi4vbWF0aC9Hcm91cEQ4Jyk7XG5cbnZhciBfR3JvdXBEMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwRCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBzdGFuZGFyZCBvYmplY3QgdG8gc3RvcmUgdGhlIFV2cyBvZiBhIHRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlVXZzKTtcblxuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgdGhpcy55MCA9IDA7XG5cbiAgICAgICAgdGhpcy54MSA9IDE7XG4gICAgICAgIHRoaXMueTEgPSAwO1xuXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICB0aGlzLnkyID0gMTtcblxuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgdGhpcy55MyA9IDE7XG5cbiAgICAgICAgdGhpcy51dnNVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgICAgICB2YXIgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIHZhciBjWCA9IGZyYW1lLnggLyB0dyArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gZnJhbWUueSAvIHRoICsgaDI7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgX0dyb3VwRDIuZGVmYXVsdC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgICAgICB0aGlzLngxID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXZzVWludDMyWzBdID0gKHRoaXMueTAgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngwICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzFdID0gKHRoaXMueTEgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngxICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzJdID0gKHRoaXMueTIgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngyICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzNdID0gKHRoaXMueTMgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngzICogNjU1MzUgJiAweEZGRkY7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlVXZzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZVV2cy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX1JlbmRlclRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBTeXN0ZW1SZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5XZWJHTFJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFN5c3RlbVJlbmRlcmVyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFN5c3RlbVJlbmRlcmVyLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gU3lzdGVtUmVuZGVyZXIoc3lzdGVtLCBvcHRpb25zLCBhcmcyLCBhcmczKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN5c3RlbVJlbmRlcmVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAoMCwgX3V0aWxzLnNheUhlbGxvKShzeXN0ZW0pO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Ioc3lzdGVtLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0LCBvcHRpb25zKVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgIGhlaWdodDogYXJnMiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVOREVSX09QVElPTlMuaGVpZ2h0XG4gICAgICB9LCBhcmczKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUkVOREVSRVJfVFlQRS5VTktOT1dOXG4gICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgKi9cbiAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVtZW50cyBvZiB0aGUgc2NyZWVuLiAoMCwgMCwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICAgKlxuICAgICAqIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHdob2xlIHN0YWdlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBfdGhpcy5zY3JlZW4gPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnRyYW5zcGFyZW50ID0gb3B0aW9ucy50cmFuc3BhcmVudDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgY3NzIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5hdXRvUmVzaXplID0gb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIHRoZSBibGVuZCBtb2RlcyB1c2VmdWwgZm9yIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBtaXhlZD59XG4gICAgICovXG4gICAgX3RoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSBpZlxuICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF90aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogSGFuZHkgZm9yIGNyaXNwIHBpeGVsIGFydCBhbmQgc3BlZWQgb24gbGVnYWN5IGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gb3B0aW9ucy5yb3VuZFBpeGVscztcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcblxuICAgIF90aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IF90aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcblxuICAgIC8qKlxuICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBfQ29udGFpbmVyMi5kZWZhdWx0KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHZpZXcud2lkdGgsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgaG9yaXpvbnRhbFxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKiBAZGVmYXVsdCA4MDBcbiAgICovXG5cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAqL1xuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcblxuICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICBpZiAodGhpcy5hdXRvUmVzaXplKSB7XG4gICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBzY3JlZW5XaWR0aCArICdweCc7XG4gICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgJ3B4JztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2hvdWxkIGJlIG9uZSBvZiB0aGUgc2NhbGVNb2RlIGNvbnN0c1xuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IGEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAqL1xuXG5cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IF9SZW5kZXJUZXh0dXJlMi5kZWZhdWx0LmNyZWF0ZShyZWdpb24ud2lkdGggfCAwLCByZWdpb24uaGVpZ2h0IHwgMCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgdGVtcE1hdHJpeC50eSA9IC1yZWdpb24ueTtcblxuICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCAhIWRpc3BsYXlPYmplY3QucGFyZW50KTtcblxuICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICovXG5cblxuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICB0aGlzLnZpZXcgPSBudWxsO1xuXG4gICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMDtcblxuICAgIHRoaXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGZhbHNlO1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBmYWxzZTtcblxuICAgIHRoaXMucm91bmRQaXhlbHMgPSBmYWxzZTtcblxuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gbnVsbDtcblxuICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFN5c3RlbVJlbmRlcmVyLCBbe1xuICAgIGtleTogJ3dpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYmFja2dyb3VuZENvbG9yJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAoMCwgX3V0aWxzLmhleDJzdHJpbmcpKHZhbHVlKTtcbiAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTeXN0ZW1SZW5kZXJlcjtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN5c3RlbVJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3lzdGVtUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZTIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigxMDI0LCAxMDI0LCB7IHZpZXc6IGNhbnZhcywgcmF0aW86IDEgfSk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZShyZW5kZXJlciwgODAwLCA2MDApO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIGJhc2VSZW5kZXJUZXh0dXJlLnJlbmRlcihzcHJpdGUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKDEwMCwgMTAwKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChfQmFzZVRleHR1cmUpIHtcbiAgX2luaGVyaXRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKCkge1xuICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VSZW5kZXJUZXh0dXJlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlVGV4dHVyZS5jYWxsKHRoaXMsIG51bGwsIHNjYWxlTW9kZSkpO1xuXG4gICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICBfdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBfdGhpcy5yZWFsV2lkdGggPSBfdGhpcy53aWR0aCAqIF90aGlzLnJlc29sdXRpb247XG4gICAgX3RoaXMucmVhbEhlaWdodCA9IF90aGlzLmhlaWdodCAqIF90aGlzLnJlc29sdXRpb247XG5cbiAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuICAgIF90aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyVGFyZ2V0c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAqL1xuICAgIF90aGlzLl9nbFJlbmRlclRhcmdldHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBfdGhpcy5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgKi9cblxuXG4gIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5yZWFsV2lkdGggPSB0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMucmVhbEhlaWdodCA9IHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAqXG4gICAqL1xuXG5cbiAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVJlbmRlclRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAqL1xuICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJUYXJnZXQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICpcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc1JlbmRlclRhcmdldCwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlclRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlclRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzO1xuLyoqXG4gKiBDcmVhdGVzIGEgbGl0dGxlIGNvbG9yZWQgY2FudmFzXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gVGhlIGNvbG9yIHRvIG1ha2UgdGhlIGNhbnZhc1xuICogQHJldHVybiB7Y2FudmFzfSBhIHNtYWxsIGNhbnZhcyBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yZWRDYW52YXMoY29sb3IpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCA2LCAxKTtcblxuICAgIHJldHVybiBjYW52YXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgYnJvd3NlclxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhleSBhcmUgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBtYWdlbnRhID0gY3JlYXRlQ29sb3JlZENhbnZhcygnI2ZmMDBmZicpO1xuICAgIHZhciB5ZWxsb3cgPSBjcmVhdGVDb2xvcmVkQ2FudmFzKCcjZmZmZjAwJyk7XG5cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICBjb250ZXh0LmRyYXdJbWFnZShtYWdlbnRhLCAwLCAwKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh5ZWxsb3csIDIsIDApO1xuXG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDIsIDAsIDEsIDEpO1xuXG4gICAgaWYgKCFpbWFnZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICByZXR1cm4gZGF0YVswXSA9PT0gMjU1ICYmIGRhdGFbMV0gPT09IDAgJiYgZGF0YVsyXSA9PT0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ZpbHRlcjIgPSByZXF1aXJlKCcuLi9GaWx0ZXInKTtcblxudmFyIF9GaWx0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyMik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgX1RleHR1cmVNYXRyaXggPSByZXF1aXJlKCcuLi8uLi8uLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBTcHJpdGVNYXNrRmlsdGVyIGNsYXNzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSBmdW5jdGlvbiAoX0ZpbHRlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVNYXNrRmlsdGVyLCBfRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9GaWx0ZXIuY2FsbCh0aGlzLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKG1hc2t5LnIgKiBtYXNreS5hICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcbicpKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBfVGV4dHVyZU1hdHJpeDIuZGVmYXVsdCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oX0ZpbHRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZU1hc2tGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVNYXNrRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjID0gcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXNGcm9tU3JjJyk7XG5cbnZhciBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG4vLyBsZXQgbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xuXG52YXIgRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgKi9cbiAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICB0aGlzLl9ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1zIHx8ICgwLCBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIuZGVmYXVsdCkodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMsICdwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCB2YWx1ZXMgb2YgY3VzdG9tIHVuaWZvcm1zLlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlVwZGF0aW5nIHRoZSB2YWx1ZSBvZiBhIGN1c3RvbSB1bmlmb3JtPC9jYXB0aW9uPlxuICAgICAqIGZpbHRlci51bmlmb3Jtcy50aW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLnVuaWZvcm1EYXRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zW2ldID0gdGhpcy51bmlmb3JtRGF0YVtpXS52YWx1ZTtcbiAgICAgIGlmICh0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlID0gdGhpcy51bmlmb3JtRGF0YVtpXS50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgLy8gVE9ETyB3ZSBjb3VsZCBjYWNoZSB0aGlzIVxuICAgIHRoaXMuZ2xTaGFkZXJzID0ge307XG5cbiAgICAvLyB1c2VkIGZvciBjYWNoaW5nLi4gc3VyZSB0aGVyZSBpcyBhIGJldHRlciB3YXkhXG4gICAgaWYgKCFTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdKSB7XG4gICAgICBTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdID0gKDAsIF91dGlscy51aWQpKCk7XG4gICAgfVxuXG4gICAgdGhpcy5nbFNoYWRlcktleSA9IFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nID0gNDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgKi9cblxuXG4gIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0ZW1wTWF0cml4LCB3aW5kb3cucGFuZGEgKTtcblxuICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG5cbiAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcblxuICAgIC8vIG9yIGp1c3QgZG8gYSByZWd1bGFyIHJlbmRlci4uXG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRmlsdGVyLCBbe1xuICAgIGtleTogJ2JsZW5kTW9kZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiAnZGVmYXVsdFZlcnRleFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4OycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5OycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZCA7JywgJ30nXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RlZmF1bHRGcmFnbWVudFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIGZpbHRlclNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChmaWx0ZXJTYW1wbGVyLCB2RmlsdGVyQ29vcmQpOycsICcgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7JywgJyAgIHZlYzQgY29sb3I7JywgJyAgIGlmKG1vZCh2RmlsdGVyQ29vcmQueCwgMS4wKSA+IDAuNSknLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApOycsICcgICB9JywgJyAgIGVsc2UnLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgwLjAsIDEuMCwgMC4wLCAxLjApOycsICcgICB9JyxcbiAgICAgIC8vICcgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1vZCh2RmlsdGVyQ29vcmQueCwgMS41KSwgdkZpbHRlckNvb3JkLnksMC4wLDEuMCk7JyxcbiAgICAgICcgICBnbF9GcmFnQ29sb3IgPSBtaXgoc2FtcGxlLCBtYXNreSwgMC41KTsnLCAnICAgZ2xfRnJhZ0NvbG9yICo9IHNhbXBsZS5hOycsICd9J10uam9pbignXFxuJyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbHRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuLi9tYXRoL01hdHJpeCcpO1xuXG52YXIgX01hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgdGVtcE1hdCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgdHJhbnNmb3JtIGFuZCBmcmFtZSBjbGFtcCBmb3IgdGV4dHVyZVxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBcInRyYW5zZm9ybVwiIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogQHNlZSBQSVhJLlRleHR1cmVcbiAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSBvYnNlcnZlZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGFtcE1hcmdpbl0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZU1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSB0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnID8gMC41IDogY2xhbXBNYXJnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGV4dHVyZSBwcm9wZXJ0eVxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyBtZXNoIHV2c1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gb3V0cHV0XG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdXZzW2kgKyAxXTtcblxuICAgICAgICAgICAgb3V0W2ldID0geCAqIG1hdC5hICsgeSAqIG1hdC5jICsgbWF0LnR4O1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHggKiBtYXQuYiArIHkgKiBtYXQuZCArIG1hdC50eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUgaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShmb3JjZVVwZGF0ZSkge1xuICAgICAgICB2YXIgdGV4ID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlICYmIHRoaXMuX2xhc3RUZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuXG4gICAgICAgIHZhciB1dnMgPSB0ZXguX3V2cztcblxuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgICAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICB2YXIgdHJpbSA9IHRleC50cmltO1xuXG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnNldChvcmlnLndpZHRoIC8gdHJpbS53aWR0aCwgMCwgMCwgb3JpZy5oZWlnaHQgLyB0cmltLmhlaWdodCwgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1hcENvb3JkLmFwcGVuZCh0ZW1wTWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0dXJlTWF0cml4LCBbe1xuICAgICAgICBrZXk6ICd0ZXh0dXJlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gLTE7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dHVyZU1hdHJpeDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZU1hdHJpeDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYXRyaXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBnbCBjb250ZXh0IGZvciB0aGlzIHF1YWQgdG8gdXNlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUT0RPOiBEZXNjcmlwdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gUXVhZChnbCwgc3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVhZCk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgdGhpcy5pbnRlcmxlYXZlZCA9IG5ldyBGbG9hdDMyQXJyYXkoOCAqIDIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDRdID0gdGhpcy52ZXJ0aWNlc1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMV0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMl0gPSB0aGlzLnV2c1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgM10gPSB0aGlzLnV2c1tpICogMiArIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCB0aGlzLmludGVybGVhdmVkLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuVmVydGV4QXJyYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlcyB0aGUgdmFvcyBhbmQgdXNlcyB0aGUgc2hhZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRvIHVzZVxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmluaXRWYW8gPSBmdW5jdGlvbiBpbml0VmFvKHNoYWRlcikge1xuICAgIHRoaXMudmFvLmNsZWFyKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCA0ICogNCwgMCkuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDIgKiA0KTtcbiAgfTtcblxuICAvKipcbiAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgdGhpcy51dnNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICB0aGlzLnV2c1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudXZzWzZdID0geDtcbiAgICB0aGlzLnV2c1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVyIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGlzIHF1YWQgZnJvbSBXZWJHTFxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgfTtcblxuICByZXR1cm4gUXVhZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUXVhZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxuLyogZXNsaW50LWRpc2FibGUgKi9cblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IF9jb25zdC5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDBcbn07XG5cbnZhciBnZW5lcmljRm9udEZhbWlsaWVzID0gWydzZXJpZicsICdzYW5zLXNlcmlmJywgJ21vbm9zcGFjZScsICdjdXJzaXZlJywgJ2ZhbnRhc3knLCAnc3lzdGVtLXVpJ107XG5cbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGRlY29yYXRlcyBhIFRleHQgT2JqZWN0LiBJdCBjYW4gYmUgc2hhcmVkIGJldHdlZW5cbiAqIG11bHRpcGxlIFRleHQgb2JqZWN0cy4gQ2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKiBJdCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dFN0eWxlKTtcblxuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZygpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5mb250U2l6ZSArICdweCcgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBpcyBhbHJlYWR5IGVzY2FwZWQgaW4gcXVvdGVzIGV4Y2VwdCBmb3IgQ1NTIGdlbmVyaWMgZm9udHNcbiAgICAgICAgICAgIGlmICghLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMCkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSAnXCInICsgZm9udEZhbWlseSArICdcIic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgJyAnICsgdGhpcy5mb250VmFyaWFudCArICcgJyArIHRoaXMuZm9udFdlaWdodCArICcgJyArIGZvbnRTaXplU3RyaW5nICsgJyAnICsgZm9udEZhbWlsaWVzLmpvaW4oJywnKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHRTdHlsZSwgW3tcbiAgICAgICAga2V5OiAnYWxpZ24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYWxpZ24pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYnJlYWtXb3JkcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvdycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3cpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dBbHBoYScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0FscGhhKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93QW5nbGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QW5nbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dBbmdsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0JsdXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0NvbG9yJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93Q29sb3IpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dDb2xvciAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Q29sb3IgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0Rpc3RhbmNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93RGlzdGFuY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICAgICAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbGwnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbGxHcmFkaWVudFR5cGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsR3JhZGllbnRUeXBlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgIT09IGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAgICAgICAgICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbGxHcmFkaWVudFN0b3BzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbGxHcmFkaWVudFN0b3BzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcywgZmlsbEdyYWRpZW50U3RvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBmYW1pbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udEZhbWlseScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRGYW1pbHkpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc2l6ZVxuICAgICAgICAgKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcnxzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250U2l6ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gZm9udFNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHN0eWxlXG4gICAgICAgICAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250U3R5bGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRTdHlsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRWYXJpYW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRWYXJpYW50KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgd2VpZ2h0XG4gICAgICAgICAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFdlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFdlaWdodCAhPT0gZm9udFdlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGV0dGVyU3BhY2luZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSBsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsaW5lSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGluZUhlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGVhZGluZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGVhZGluZyAhPT0gbGVhZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xpbmVKb2luJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxpbmVKb2luKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAgICAgICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWl0ZXJMaW1pdCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21pdGVyTGltaXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KG1pdGVyTGltaXQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICAgICAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGFkZGluZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHBhZGRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgICAgICogZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdHJva2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0cm9rZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdHJva2VUaGlja25lc3MnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0cm9rZVRoaWNrbmVzcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dEJhc2VsaW5lJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0ZXh0QmFzZWxpbmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0cmltJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqICB2YWx1ZSAgICAgICB8IE5ldyBsaW5lcyAgICAgfCAgIFNwYWNlc1xuICAgICAgICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICAgICAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICogJ3ByZScgICAgICAgIHwgUHJlc2VydmUgICAgICB8ICAgUHJlc2VydmVcbiAgICAgICAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd2hpdGVTcGFjZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdoaXRlU3BhY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmRXcmFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHRTdHlsZTtcbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuaGV4MnN0cmluZykoY29sb3IpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BvcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyT2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0TWV0cmljcyk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQodGV4dCwgc3R5bGUsIHdvcmRXcmFwKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgd29yZFdyYXAgPSB3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwKHRleHQsIHN0eWxlKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICB2YXIgbGluZXMgPSAnJztcblxuICAgICAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nLFxuICAgICAgICAgICAgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG5cbiAgICAgICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIHZhciBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuXG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgICAgIHZhciBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gdG9rZW4uc3BsaXQoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJhY3RlcnNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBzcGxpdCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcnVuIHdvcmQgb3V0IG9mIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3aWR0aCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiBhZGRMaW5lKGxpbmUpIHtcbiAgICAgICAgdmFyIG5ld0xpbmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgICAgICBsaW5lID0gbmV3TGluZSA/IGxpbmUgKyAnXFxuJyA6IGxpbmU7XG5cbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSBrZXkubGVuZ3RoICogbGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uIGNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZSc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIHdoaXRlIHNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSAnbm9ybWFsJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiB0cmltUmlnaHQodGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gaXNOZXdsaW5lKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlID0gZnVuY3Rpb24gaXNCcmVha2luZ1NwYWNlKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICAgICAgVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gdG9rZW5pemUodGV4dCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0b2tlbiA9ICcnO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIGNhbkJyZWFrV29yZHModG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggICAgIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMgPSBmdW5jdGlvbiBjYW5CcmVha0NoYXJzKGNoYXIsIG5leHRDaGFyLCB0b2tlbiwgaW5kZXgsIGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcblxuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuXG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgbGluZTsgX2ogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgX2pdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiBjbGVhck1ldHJpY3MoKSB7XG4gICAgICAgIHZhciBmb250ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcblxuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0TWV0cmljcztcbn0oKTtcblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqIEBjbGFzcyBGb250TWV0cmljc1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3N+XG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0TWV0cmljcztcbnZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuLyoqXG4gKiBDYWNoZSBvZiBQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzIG9iamVjdHMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJcVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG5cbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gWzB4MDAwQSwgLy8gbGluZSBmZWVkXG4weDAwMERdO1xuXG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbMHgwMDA5LCAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuMHgwMDIwLCAvLyBzcGFjZVxuMHgyMDAwLCAvLyBlbiBxdWFkXG4weDIwMDEsIC8vIGVtIHF1YWRcbjB4MjAwMiwgLy8gZW4gc3BhY2VcbjB4MjAwMywgLy8gZW0gc3BhY2VcbjB4MjAwNCwgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4weDIwMDUsIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4weDIwMDYsIC8vIHNpeC1wZXItZW0gc3BhY2VcbjB4MjAwOCwgLy8gcHVuY3R1YXRpb24gc3BhY2VcbjB4MjAwOSwgLy8gdGhpbiBzcGFjZVxuMHgyMDBBLCAvLyBoYWlyIHNwYWNlXG4weDIwNUYsIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbjB4MzAwMF07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0TWV0cmljcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIEdyYXBoaWNzRGF0YSBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVXaWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQ29sb3IgLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGxDb2xvciAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsbEFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbCAtIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSBpcyBmaWxsZWQgd2l0aCBhIGNvbG91clxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5hdGl2ZUxpbmVzIC0gdGhlIG1ldGhvZCBmb3IgZHJhd2luZyBsaW5lc1xuICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuUmVjdGFuZ2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb259IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUFsaWdubWVudCAtIHRoZSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUuXG4gICAqL1xuICBmdW5jdGlvbiBHcmFwaGljc0RhdGEobGluZVdpZHRoLCBsaW5lQ29sb3IsIGxpbmVBbHBoYSwgZmlsbENvbG9yLCBmaWxsQWxwaGEsIGZpbGwsIG5hdGl2ZUxpbmVzLCBzaGFwZSwgbGluZUFsaWdubWVudCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljc0RhdGEpO1xuXG4gICAgLyoqXG4gICAgICogdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLmxpbmVBbGlnbm1lbnQgPSBsaW5lQWxpZ25tZW50O1xuXG4gICAgLyoqXG4gICAgICogaWYgdHJ1ZSB0aGUgbGllbnMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUNvbG9yID0gbGluZUNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQWxwaGEgPSBsaW5lQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGluZVRpbnQgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQ29sb3IgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQWxwaGEgPSBmaWxsQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbGxUaW50ID0gZmlsbENvbG9yO1xuXG4gICAgLyoqXG4gICAgICogd2hldGhlciBvciBub3QgdGhlIHNoYXBlIGlzIGZpbGxlZCB3aXRoIGEgY29sb3VyXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGwgPSBmaWxsO1xuXG4gICAgdGhpcy5ob2xlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YSh0aGlzLmxpbmVXaWR0aCwgdGhpcy5saW5lQ29sb3IsIHRoaXMubGluZUFscGhhLCB0aGlzLmZpbGxDb2xvciwgdGhpcy5maWxsQWxwaGEsIHRoaXMuZmlsbCwgdGhpcy5uYXRpdmVMaW5lcywgdGhpcy5zaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBob2xlIHRvIHRoZSBzaGFwZS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2YgdGhlIGhvbGUuXG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZShzaGFwZSkge1xuICAgIHRoaXMuaG9sZXMucHVzaChzaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9hdXRvRGV0ZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL2F1dG9EZXRlY3RSZW5kZXJlcicpO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKTtcblxudmFyIF90aWNrZXIgPSByZXF1aXJlKCcuL3RpY2tlcicpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyXG4gKiBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbUltYWdlKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1N0YXJ0PXRydWVdIC0gYXV0b21hdGljYWxseSBzdGFydHMgdGhlIHJlbmRlcmluZyBhZnRlciB0aGUgY29uc3RydWN0aW9uLlxuICAgICAqICAgICBOb3RlIHRoYXQgc2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byBmYWxzZSBkb2VzIE5PVCBzdG9wIHRoZSBzaGFyZWQgdGlja2VyIGV2ZW4gaWYgeW91IHNldFxuICAgICAqICAgICBvcHRpb25zLnNoYXJlZFRpY2tlciB0byB0cnVlIGluIGNhc2UgdGhhdCBpdCBpcyBhbHJlYWR5IHN0YXJ0ZWQuIFN0b3AgaXQgYnkgeW91ciBvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICAgICAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIGB0cnVlYCB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLlxuICAgICAqICBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHRyeSBzZXR0aW5nIHRoaXMgdG8gdHJ1ZS4gKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLnRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLmxvYWRlcnMuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgTG9hZGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcGxpY2F0aW9uKTtcblxuICAgICAgICAvLyBTdXBwb3J0IGZvciBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zLCBub1dlYkdMLCB1c2VTaGFyZWRUaWNrZXIpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodCxcbiAgICAgICAgICAgICAgICBmb3JjZUNhbnZhczogISFhcmc0LFxuICAgICAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogISFhcmc1XG4gICAgICAgICAgICB9LCBhcmczKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBvcHRpb25zLCBzbyB3ZSBtaXhpbiBmdW5jdGlvbmFsaXR5IGxhdGVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlLFxuICAgICAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgICAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gKDAsIF9hdXRvRGV0ZWN0UmVuZGVyZXIuYXV0b0RldGVjdFJlbmRlcmVyKShvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgX0NvbnRhaW5lcjIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnRpY2tlci5UaWNrZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnRpY2tlci5UaWNrZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IF90aWNrZXIuc2hhcmVkIDogbmV3IF90aWNrZXIuVGlja2VyKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3MgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIGNhbnZhcyBmcm9tIERPTS5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbc3RhZ2VPcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ3N0YWdlT3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG5cbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KHJlbW92ZVZpZXcpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEFwcGxpY2F0aW9uLCBbe1xuICAgICAgICBrZXk6ICd0aWNrZXInLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0aWNrZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd2aWV3JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBzY3JlZW4gcmVjdGFuZ2xlLiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB3aG9sZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2NyZWVuJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5zY3JlZW47XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFwcGxpY2F0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXBwbGljYXRpb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hdXRvRGV0ZWN0UmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXI7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciB1dGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2Ncbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIHdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdCAqKndlYmdsIG9ubHkqKlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gYHRydWVgIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuXG4gKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgLy8gQmFja3dhcmQtY29tcGF0aWJsZSBzdXBwb3J0IGZvciBub1dlYkdMIG9wdGlvblxuICAgIHZhciBmb3JjZUNhbnZhcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JjZUNhbnZhcztcblxuICAgIGlmIChhcmczICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yY2VDYW52YXMgPSBhcmczO1xuICAgIH1cblxuICAgIGlmICghZm9yY2VDYW52YXMgJiYgdXRpbHMuaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQob3B0aW9ucywgYXJnMSwgYXJnMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQob3B0aW9ucywgYXJnMSwgYXJnMik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvRGV0ZWN0UmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgLyoqXG4gICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICpcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICovXG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqL1xuICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIHRhYkluZGV4OiAwLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVEaXY6IGZhbHNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJsZVRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkJpdG1hcFRleHQgPSBleHBvcnRzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5UaWxpbmdTcHJpdGUgPSBleHBvcnRzLkFuaW1hdGVkU3ByaXRlID0gdW5kZWZpbmVkO1xuXG52YXIgX0FuaW1hdGVkU3ByaXRlID0gcmVxdWlyZSgnLi9BbmltYXRlZFNwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FuaW1hdGVkU3ByaXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQW5pbWF0ZWRTcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbGluZ1Nwcml0ZSA9IHJlcXVpcmUoJy4vVGlsaW5nU3ByaXRlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlsaW5nU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUaWxpbmdTcHJpdGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CaXRtYXBUZXh0ID0gcmVxdWlyZSgnLi9CaXRtYXBUZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQml0bWFwVGV4dCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JpdG1hcFRleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5yZXF1aXJlKCcuL2NhY2hlQXNCaXRtYXAnKTtcblxucmVxdWlyZSgnLi9nZXRDaGlsZEJ5TmFtZScpO1xuXG5yZXF1aXJlKCcuL2dldEdsb2JhbFBvc2l0aW9uJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGltcG9ydGVkIGZvciBzaWRlIGVmZmVjdCBvZiBleHRlbmRpbmcgdGhlIHByb3RvdHlwZSBvbmx5LCBjb250YWlucyBubyBleHBvcnRzXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUgPSByZXF1aXJlKCcuL2dldE1heEJsdXJLZXJuZWxTaXplJyk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TWF4Qmx1cktlcm5lbFNpemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJYRmlsdGVyIGFwcGxpZXMgYSBob3Jpem9udGFsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJYRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyWEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJYRmlsdGVyKTtcblxuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBmcmFnU3JjKSk7XG5cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIF90aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICBfdGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgX3RoaXMuZmlyc3RSdW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZz9cbiAgICAgKi9cblxuXG4gICAgQmx1clhGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RSdW4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICB2YXIga2VybmVsU2l6ZSA9ICgwLCBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyLmRlZmF1bHQpKGdsKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAxIC8gb3V0cHV0LnNpemUud2lkdGggKiAob3V0cHV0LnNpemUud2lkdGggLyBpbnB1dC5zaXplLndpZHRoKTtcblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlczsgLy8gLyB0aGlzLnBhc3Nlcy8vTWF0aC5wb3coMSwgdGhpcy5wYXNzZXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1clhGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1clhGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1clhGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyWEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZVZlcnRCbHVyU291cmNlO1xudmFyIHZlcnRUZW1wbGF0ZSA9IFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICd1bmlmb3JtIGZsb2F0IHN0cmVuZ3RoOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JywgJ3ZvaWQgbWFpbih2b2lkKScsICd7JywgJ2dsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoKGFWZXJ0ZXhQb3NpdGlvbiksIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyVibHVyJScsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVmVydEJsdXJTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gdm9pZCAwO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApOyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSBhVGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICAvLyB2YWx1ZSA9IGk7XG5cbiAgICAgICAgLy8gaWYoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArICcuMCcpO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiB2ZXJ0U291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZUZyYWdCbHVyU291cmNlO1xudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdXG59O1xuXG52YXIgZnJhZ1RlbXBsYXRlID0gWyd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKScsICd7JywgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JywgJyAgICAlYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZyYWdCbHVyU291cmNlKGtlcm5lbFNpemUpIHtcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICB2YWx1ZSA9IGk7XG5cbiAgICAgICAgaWYgKGkgPj0gaGFsZkxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIGZyYWdTb3VyY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0TWF4S2VybmVsU2l6ZTtcbmZ1bmN0aW9uIGdldE1heEtlcm5lbFNpemUoZ2wpIHtcbiAgICB2YXIgbWF4VmFyeWluZ3MgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyk7XG4gICAgdmFyIGtlcm5lbFNpemUgPSAxNTtcblxuICAgIHdoaWxlIChrZXJuZWxTaXplID4gbWF4VmFyeWluZ3MpIHtcbiAgICAgICAga2VybmVsU2l6ZSAtPSAyO1xuICAgIH1cblxuICAgIHJldHVybiBrZXJuZWxTaXplO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TWF4Qmx1cktlcm5lbFNpemUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWUZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1cllGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWUZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIGZhbHNlKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgdmVydFNyYyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIGZyYWdTcmMpKTtcblxuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgX3RoaXMuX3F1YWxpdHkgPSAwO1xuXG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIF90aGlzLnN0cmVuZ3RoID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICBfdGhpcy5maXJzdFJ1biA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nP1xuICAgICAqL1xuXG5cbiAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICBpZiAodGhpcy5maXJzdFJ1bikge1xuICAgICAgICAgICAgdmFyIGdsID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5nbDtcbiAgICAgICAgICAgIHZhciBrZXJuZWxTaXplID0gKDAsIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAxIC8gb3V0cHV0LnNpemUuaGVpZ2h0ICogKG91dHB1dC5zaXplLmhlaWdodCAvIGlucHV0LnNpemUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBvdXRwdXQsIGNsZWFyKTtcblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJZRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJZRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJZRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1cllGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25EYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbCA9IG5ldyBjb3JlLlBvaW50KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IERpc3BsYXlPYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9ucyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3dpZHRoXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnByZXNzdXJlID0gMDtcblxuICAgIC8qKlxuICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHdpc3QgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAgICovXG5cblxuICAvKipcbiAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gICAqICBjb29yZHMgb2ZmXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICovXG4gIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldExvY2FsUG9zaXRpb24oZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIGNvcHlFdmVudChldmVudCkge1xuICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgIC8vIGFjY3VyYXRlXG4gICAgaWYgKGV2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgdGhpcy5idXR0b25zID0gTnVtYmVyLmlzSW50ZWdlcihldmVudC5idXR0b25zKSA/IGV2ZW50LmJ1dHRvbnMgOiBldmVudC53aGljaDtcbiAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG4gICAgdGhpcy50aWx0WCA9IGV2ZW50LnRpbHRYO1xuICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgdGhpcy5wcmVzc3VyZSA9IGV2ZW50LnByZXNzdXJlO1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgdGhpcy50d2lzdCA9IGV2ZW50LnR3aXN0IHx8IDA7XG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgfHwgMDtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhJbnRlcmFjdGlvbkRhdGEsIFt7XG4gICAga2V5OiAncG9pbnRlcklkJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25EYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25EYXRhLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgKiBGb3IgbGlzdGVuZXIgY2FsbGJhY2sgc2VlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnQuY3VycmVudFRhcmdldH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uRGF0YSByZWxhdGVkIHRvIHRoaXMgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICpcbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkV2ZW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbkV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25FdmVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0cyB3aXRoIHRoZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldH0gbWl4aW4gdXNlIHRoaXMgY2xhc3MgdG8gdHJhY2sgaW50ZXJhY3Rpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKTtcblxuICAgICAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgaW50ZXJhY3Rpb24gZmxhZyB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gU2hvdWxkIHRoZSBmbGFnIGJlIHNldCBvciB1bnNldFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gX2RvU2V0KGZsYWcsIHluKSB7XG4gICAgICAgIGlmICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgW3tcbiAgICAgICAga2V5OiBcInBvaW50ZXJJZFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJmbGFnc1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGZsYWdzIGZvciB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZ3MgLSBGbGFncyB0byBzZXRcbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmxhZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm5vbmVcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJvdmVyXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBvdmVyIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSBldmVudCBvdmVyP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSLCB5bik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSByaWdodCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJyaWdodERvd25cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHJpZ2h0IGRvd24gZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImxlZnREb3duXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGxlZnQgZG93biBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93bj9cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xuXG5cbkludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTk9ORTogMCxcbiAgICBPVkVSOiAxIDw8IDAsXG4gICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgUklHSFRfRE9XTjogMSA8PCAyXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uVHJhY2tpbmdEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgLyoqXG4gICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcblxuICAvKipcbiAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGdldCBidXR0b25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICB9LFxuICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGN1cnNvcjogbnVsbCxcblxuICAvKipcbiAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICpcbiAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgfSxcblxuICAvKipcbiAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICovXG4gIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aXZlVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBiaXRtYXBGb250UGFyc2VyKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSBvciBub3QgeG1sIGRhdGFcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLlhNTCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBza2lwIGlmIG5vdCBiaXRtYXAgZm9udCBkYXRhLCB1c2luZyBzb21lIHNpbGx5IGR1Y2stdHlwaW5nXG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKS5sZW5ndGggPT09IDAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpID09PSBudWxsKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4bWxVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gcGF0aC5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcblxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBpZiAoeG1sVXJsID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICB4bWxVcmwgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVVybCAmJiB4bWxVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byB4bWxVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICB4bWxVcmwgKz0gJy8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20geG1sVXJsXG4gICAgICAgIHhtbFVybCA9IHhtbFVybC5yZXBsYWNlKHRoaXMuYmFzZVVybCwgJycpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIHhtbFVybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICAgICAgaWYgKHhtbFVybCAmJiB4bWxVcmwuY2hhckF0KHhtbFVybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICB4bWxVcmwgKz0gJy8nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIGNvbXBsZXRlZChwYWdlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IHBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwYWdlRmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICAgICAgdmFyIHVybCA9IHhtbFVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpdG1hcFJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oeyBwYWdlRmlsZTogcGFnZUZpbGUgfSwgcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgcGF0aCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXRoKTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX2V4dHJhcyA9IHJlcXVpcmUoJy4uL2V4dHJhcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgQml0bWFwVGV4dCBmb250IGZyb20gbG9hZGVyIHJlc291cmNlLlxuICpcbiAqIEBmdW5jdGlvbiBwYXJzZUJpdG1hcEZvbnREYXRhXG4gKiBAbWVtYmVyb2YgUElYSS5sb2FkZXJzXG4gKiBAcGFyYW0ge1BJWEkubG9hZGVycy5SZXNvdXJjZX0gcmVzb3VyY2UgLSBMb2FkZXIgcmVzb3VyY2UuXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLlRleHR1cmVbXX0gdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlcykge1xuICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBfZXh0cmFzLkJpdG1hcFRleHQucmVnaXN0ZXJGb250KHJlc291cmNlLmRhdGEsIHRleHR1cmVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1hcEZvbnRQYXJzZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5lYWNoU2VyaWVzID0gZWFjaFNlcmllcztcbmV4cG9ydHMucXVldWUgPSBxdWV1ZTtcbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuZnVuY3Rpb24gZWFjaFNlcmllcyhhcnJheSwgaXRlcmF0b3IsIGNhbGxiYWNrLCBkZWZlck5leHQpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAgIChmdW5jdGlvbiBuZXh0KGVycikge1xuICAgICAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICB9XG4gICAgfSkoKTtcbn1cblxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FsbEZuID0gZm47XG5cbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICBjYWxsRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHdvcmtlciAtIFRoZSB3b3JrZXIgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB0YXNrLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvbmN1cnJlbmN5IC0gSG93IG1hbnkgd29ya2VycyB0byBydW4gaW4gcGFycmFsbGVsLlxuICogQHJldHVybiB7Kn0gVGhlIGFzeW5jIHF1ZXVlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgY29uY3VycmVuY3kgPSAxO1xuICAgIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gICAgfVxuXG4gICAgdmFyIHdvcmtlcnMgPSAwO1xuICAgIHZhciBxID0ge1xuICAgICAgICBfdGFza3M6IFtdLFxuICAgICAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgICAgIHNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgICAgIGVtcHR5OiBfbm9vcCxcbiAgICAgICAgZHJhaW46IF9ub29wLFxuICAgICAgICBlcnJvcjogX25vb3AsXG4gICAgICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICAgICAgICB3b3JrZXJzID0gMDtcbiAgICAgICAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaGlmdDogZnVuY3Rpb24gdW5zaGlmdChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChxLl90YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX25leHQodGFzaykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGlkbGU6IGZ1bmN0aW9uIGlkbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAgICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuICAgICAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gcS5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICAgICAgICB9LCAxKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25leHQodGFzaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgLT0gMTtcblxuICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHEudW5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7XG5cbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcbiAgICAgICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWI2NC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ByaXRlc2hlZXRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArICdfaW1hZ2UnO1xuXG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLkpTT04gfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IF9jb3JlLlNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGg7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF91cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VybDIuZGVmYXVsdC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0dXJlUGFyc2VyKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YSAmJiByZXNvdXJjZS50eXBlID09PSBfcmVzb3VyY2VMb2FkZXIuUmVzb3VyY2UuVFlQRS5JTUFHRSkge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21Mb2FkZXIocmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsLCByZXNvdXJjZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbn07XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmVQYXJzZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgUGxhbmUgPSBuZXcgUElYSS5QbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBQbGFuZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhQbGFuZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdmVydGljZXNYPTEwXSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdmVydGljZXNZPTEwXSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGFuZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrZXIgZm9yIGlmIHRoZSBQbGFuZSBpcyByZWFkeSB0byBiZSBkcmF3bi4gTmVlZGVkIGJlY2F1c2UgTWVzaCBjdG9yIGNhblxuICAgICAgICAgKiBjYWxsIF9vblRleHR1cmVVcGRhdGVkIHdoaWNoIGNvdWxkIGNhbGwgcmVmcmVzaCB0b28gZWFybHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfTWVzaC5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy5fcmVhZHkgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnZlcnRpY2VzWCA9IHZlcnRpY2VzWCB8fCAxMDtcbiAgICAgICAgX3RoaXMudmVydGljZXNZID0gdmVydGljZXNZIHx8IDEwO1xuXG4gICAgICAgIF90aGlzLmRyYXdNb2RlID0gX01lc2gzLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIF90aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBwbGFuZSBjb29yZGluYXRlc1xuICAgICAqXG4gICAgICovXG5cblxuICAgIFBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMudmVydGljZXNYICogdGhpcy52ZXJ0aWNlc1k7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgY29sb3JzID0gW107XG4gICAgICAgIHZhciB1dnMgPSBbXTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgICB2YXIgc2VnbWVudHNYID0gdGhpcy52ZXJ0aWNlc1ggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy52ZXJ0aWNlc1kgLSAxO1xuXG4gICAgICAgIHZhciBzaXplWCA9IHRleHR1cmUud2lkdGggLyBzZWdtZW50c1g7XG4gICAgICAgIHZhciBzaXplWSA9IHRleHR1cmUuaGVpZ2h0IC8gc2VnbWVudHNZO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBpICUgdGhpcy52ZXJ0aWNlc1g7XG4gICAgICAgICAgICB2YXIgeSA9IGkgLyB0aGlzLnZlcnRpY2VzWCB8IDA7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuXG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICBjb25zXG5cbiAgICAgICAgdmFyIHRvdGFsU3ViID0gc2VnbWVudHNYICogc2VnbWVudHNZO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0b3RhbFN1YjsgX2krKykge1xuICAgICAgICAgICAgdmFyIHhwb3MgPSBfaSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gX2kgLyBzZWdtZW50c1ggfCAwO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB5cG9zICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuICAgICAgICAgICAgdmFyIHZhbHVlMyA9ICh5cG9zICsgMSkgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlMiwgdmFsdWU0LCB2YWx1ZTMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5kaWNlcylcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KGNvbG9ycyk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuaW5kZXhEaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGV4dHVyZSBVVnMgd2hlbiBuZXcgdGV4dHVyZSBpcyBzZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBsYW5lLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgX01lc2gzLmRlZmF1bHQucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyB3YWl0IGZvciB0aGUgUGxhbmUgY3RvciB0byBmaW5pc2ggYmVmb3JlIGNhbGxpbmcgcmVmcmVzaFxuICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBQbGFuZTtcbn0oX01lc2gzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQbGFuZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYW5lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvdW50TGltaXRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4SXRlbXNQZXJGcmFtZSA9IG1heEl0ZW1zUGVyRnJhbWU7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBpbiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICovXG5cblxuICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICB9O1xuXG4gIHJldHVybiBDb3VudExpbWl0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvdW50TGltaXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvdW50TGltaXRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG5yZXF1aXJlKCcuL01hdGguc2lnbicpO1xuXG5yZXF1aXJlKCcuL051bWJlci5pc0ludGVnZXInKTtcblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IF9vYmplY3RBc3NpZ24yLmRlZmF1bHQ7XG59IC8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdC5hc3NpZ24uanMubWFwIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgZ2xvYmFsW3AgKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG59XG5cbmlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICdpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3RBbmltYXRpb25GcmFtZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcblxuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGguc2lnbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5cbmlmICghTnVtYmVyLmlzSW50ZWdlcikge1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TnVtYmVyLmlzSW50ZWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9SZWN0YW5nbGUnKTtcblxudmFyIF9SZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICovXG4gIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5DSVJDO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9IHRoaXMueCAtIHg7XG4gICAgdmFyIGR5ID0gdGhpcy55IC0geTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIGR4ICsgZHkgPD0gcjI7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgKlxuICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfTtcblxuICByZXR1cm4gQ2lyY2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICovXG4gIGZ1bmN0aW9uIEVsbGlwc2UoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxsaXBzZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLkVMSVA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgIHZhciBub3JteCA9ICh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGg7XG4gICAgdmFyIG5vcm15ID0gKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQ7XG5cbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcblxuICAgIHJldHVybiBub3JteCArIG5vcm15IDw9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIHJldHVybiBFbGxpcHNlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbGxpcHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RWxsaXBzZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBvaW50cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgcG9pbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvbHlnb24pO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBfUG9pbnQyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlBPTFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHBvbHlnb24sIGFkZGluZyBwb2ludHMgaWYgbmVjZXNzYXJ5LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBjbG9zZSB0aGUgcG9seSBpZiB0aGUgdmFsdWUgaXMgdHJ1ZSFcbiAgICAgICAgaWYgKHBvaW50c1swXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSB8fCBwb2ludHNbMV0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzW2ogKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkgKyB4aTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUG9seWdvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUm91bmRlZCBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgdGhhdCBoYXMgbmljZSByb3VuZGVkIGNvcm5lcnMsIGFzIGluZGljYXRlZCBieSBpdHNcbiAqIHRvcC1sZWZ0IGNvcm5lciBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodCBhbmQgaXRzIHJhZGl1cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3VuZGVkUmVjdGFuZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuICAgICAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAyMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm91bmRlZFJlY3RhbmdsZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJSRUM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuXG5cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdW5kZWRSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzIHx8IHggPj0gdGhpcy54ICsgdGhpcy5yYWRpdXMgJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcblxuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvdW5kZWRSZWN0YW5nbGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvdW5kZWRSZWN0YW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3VuZGVkUmVjdGFuZ2xlLmpzLm1hcCIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgQ29udGV4dFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0IGZvciB0aGUgb3B0aW9ucyBhdmFpbGFibGVcbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbihjYW52YXMsIG9wdGlvbnMpXG57XG4gICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXG4gICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWdsKVxuICAgIHtcbiAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBnbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQ29udGV4dDtcbiIsInZhciBFTVBUWV9BUlJBWV9CVUZGRVIgPSBuZXcgQXJyYXlCdWZmZXIoMCk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIGJ1ZmZlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB0eXBlIHtnbC5BUlJBWV9CVUZGRVIgfCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUn0gQG1hdFxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGFcbiAqIEBwYXJhbSBkcmF3VHlwZSB7Z2wuU1RBVElDX0RSQVd8Z2wuRFlOQU1JQ19EUkFXfGdsLlNUUkVBTV9EUkFXfVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24oZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKVxue1xuXG5cdC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXHQvKipcbiAgICAgKiBUaGUgV2ViR0wgYnVmZmVyLCBjcmVhdGVkIHVwb24gaW5zdGFudGlhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG5cdHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cblx0LyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2wuQVJSQVlfQlVGRkVSfGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSfVxuICAgICAqL1xuXHR0aGlzLnR5cGUgPSB0eXBlIHx8IGdsLkFSUkFZX0JVRkZFUjtcblxuXHQvKipcbiAgICAgKiBUaGUgZHJhdyB0eXBlIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsLlNUQVRJQ19EUkFXfGdsLkRZTkFNSUNfRFJBV3xnbC5TVFJFQU1fRFJBV31cbiAgICAgKi9cblx0dGhpcy5kcmF3VHlwZSA9IGRyYXdUeXBlIHx8IGdsLlNUQVRJQ19EUkFXO1xuXG5cdC8qKlxuICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9XG4gICAgICovXG5cdHRoaXMuZGF0YSA9IEVNUFRZX0FSUkFZX0JVRkZFUjtcblxuXHRpZihkYXRhKVxuXHR7XG5cdFx0dGhpcy51cGxvYWQoZGF0YSk7XG5cdH1cblxuXHR0aGlzLl91cGRhdGVJRCA9IDA7XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIGJ1ZmZlciB0byB0aGUgR1BVXG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YSB0byB1cGxvYWRcbiAqIEBwYXJhbSBvZmZzZXQge051bWJlcn0gaWYgb25seSBhIHN1YnNldCBvZiB0aGUgZGF0YSBzaG91bGQgYmUgdXBsb2FkZWQsIHRoaXMgaXMgdGhlIGFtb3VudCBvZiBkYXRhIHRvIHN1YnRyYWN0XG4gKiBAcGFyYW0gZG9udEJpbmQge0Jvb2xlYW59IHdoZXRoZXIgdG8gYmluZCB0aGUgYnVmZmVyIGJlZm9yZSB1cGxvYWRpbmcgaXRcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbihkYXRhLCBvZmZzZXQsIGRvbnRCaW5kKVxue1xuXHQvLyB0b2RvIC0gbmVlZGVkP1xuXHRpZighZG9udEJpbmQpIHRoaXMuYmluZCgpO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0ZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuXHRvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuXHRpZih0aGlzLmRhdGEuYnl0ZUxlbmd0aCA+PSBkYXRhLmJ5dGVMZW5ndGgpXG5cdHtcblx0XHRnbC5idWZmZXJTdWJEYXRhKHRoaXMudHlwZSwgb2Zmc2V0LCBkYXRhKTtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHRnbC5idWZmZXJEYXRhKHRoaXMudHlwZSwgZGF0YSwgdGhpcy5kcmF3VHlwZSk7XG5cdH1cblxuXHR0aGlzLmRhdGEgPSBkYXRhO1xufTtcbi8qKlxuICogQmluZHMgdGhlIGJ1ZmZlclxuICpcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHRnbC5iaW5kQnVmZmVyKHRoaXMudHlwZSwgdGhpcy5idWZmZXIpO1xufTtcblxuQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyID0gZnVuY3Rpb24oZ2wsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGUgPSBmdW5jdGlvbihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBidWZmZXJcbiAqXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG5cdHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyO1xuIiwiXG52YXIgVGV4dHVyZSA9IHJlcXVpcmUoJy4vR0xUZXh0dXJlJyk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIEZyYW1lYnVmZmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgMTAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgMTAwO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gdGV4dHVyZSB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlVGV4dHVyZSA9IGZ1bmN0aW9uKHRleHR1cmUpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgbmV3IFRleHR1cmUoZ2wpO1xuXG4gICAgdGhpcy50ZXh0dXJlLmJpbmQoKTtcblxuICAgIC8vZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuXG4gICAgdGhpcy5iaW5kKCk7XG5cbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZS50ZXh0dXJlLCAwKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGlzZXMgdGhlIHN0ZW5jaWwgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMuc3RlbmNpbClyZXR1cm47XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5zdGVuY2lsKTtcblxuICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5zdGVuY2lsKTtcbiAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgIHRoaXMud2lkdGggICwgdGhpcy5oZWlnaHQgKTtcblxuXG59O1xuXG4vKipcbiAqIEVyYXNlcyB0aGUgZHJhd2luZyBhcmVhIGFuZCBmaWxscyBpdCB3aXRoIGEgY29sb3VyXG4gKiBAcGFyYW0gIHIge051bWJlcn0gdGhlIHJlZCB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKiBAcGFyYW0gIGcge051bWJlcn0gdGhlIGdyZWVuIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgYiB7TnVtYmVyfSB0aGUgYmx1ZSB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKiBAcGFyYW0gIGEge051bWJlcn0gdGhlIGFscGhhIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oIHIsIGcsIGIsIGEgKVxue1xuICAgIHRoaXMuYmluZCgpO1xuXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgZnJhbWUgYnVmZmVyIHRvIHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLmZyYW1lYnVmZmVyICk7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIGZyYW1lIGJ1ZmZlciB0byB0aGUgV2ViR0wgY29udGV4dFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsICk7XG59O1xuLyoqXG4gKiBSZXNpemVzIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlciB0byB0aGUgZ2l2ZW4gd2lkdGggYW5kIGhlaWdodFxuICogQHBhcmFtICB3aWR0aCAge051bWJlcn0gdGhlIG5ldyB3aWR0aFxuICogQHBhcmFtICBoZWlnaHQge051bWJlcn0gdGhlIG5ldyBoZWlnaHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIGlmICggdGhpcy50ZXh0dXJlIClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZS51cGxvYWREYXRhKG51bGwsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIGlmICggdGhpcy5zdGVuY2lsIClcbiAgICB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RlbmNpbCBidWZmZXIgd2lkdGggYW5kIGhlaWdodFxuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5zdGVuY2lsKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vVE9ET1xuICAgIGlmKHRoaXMudGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlcik7XG5cbiAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lIGJ1ZmZlciB3aXRoIGEgdGV4dHVyZSBjb250YWluaW5nIHRoZSBnaXZlbiBkYXRhXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICovXG5GcmFtZWJ1ZmZlci5jcmVhdGVSR0JBID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGRhdGEpXG57XG4gICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb21EYXRhKGdsLCBudWxsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB0ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgdGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcblxuICAgIC8vbm93IGNyZWF0ZSB0aGUgZnJhbWVidWZmZXIgb2JqZWN0IGFuZCBhdHRhY2ggdGhlIHRleHR1cmUgdG8gaXQuXG4gICAgdmFyIGZibyA9IG5ldyBGcmFtZWJ1ZmZlcihnbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgZmJvLmVuYWJsZVRleHR1cmUodGV4dHVyZSk7XG4gICAgLy9mYm8uZW5hYmxlU3RlbmNpbCgpOyAvLyBnZXQgdGhpcyBiYWNrIG9uIHNvb24hXG5cbiAgICAvL2Ziby5lbmFibGVTdGVuY2lsKCk7IC8vIGdldCB0aGlzIGJhY2sgb24gc29vbiFcblxuICAgIGZiby51bmJpbmQoKTtcblxuICAgIHJldHVybiBmYm87XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmFtZSBidWZmZXIgd2l0aCBhIHRleHR1cmUgY29udGFpbmluZyB0aGUgZ2l2ZW4gZGF0YVxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGFcbiAqL1xuRnJhbWVidWZmZXIuY3JlYXRlRmxvYXQzMiA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCBkYXRhKVxue1xuICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlLi5cbiAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlLmZyb21EYXRhKGdsLCBkYXRhLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB0ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgdGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcblxuICAgIC8vbm93IGNyZWF0ZSB0aGUgZnJhbWVidWZmZXIgb2JqZWN0IGFuZCBhdHRhY2ggdGhlIHRleHR1cmUgdG8gaXQuXG4gICAgdmFyIGZibyA9IG5ldyBGcmFtZWJ1ZmZlcihnbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgZmJvLmVuYWJsZVRleHR1cmUodGV4dHVyZSk7XG5cbiAgICBmYm8udW5iaW5kKCk7XG5cbiAgICByZXR1cm4gZmJvO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGcmFtZWJ1ZmZlcjtcbiIsIlxudmFyIGNvbXBpbGVQcm9ncmFtID0gcmVxdWlyZSgnLi9zaGFkZXIvY29tcGlsZVByb2dyYW0nKSxcblx0ZXh0cmFjdEF0dHJpYnV0ZXMgPSByZXF1aXJlKCcuL3NoYWRlci9leHRyYWN0QXR0cmlidXRlcycpLFxuXHRleHRyYWN0VW5pZm9ybXMgPSByZXF1aXJlKCcuL3NoYWRlci9leHRyYWN0VW5pZm9ybXMnKSxcblx0c2V0UHJlY2lzaW9uID0gcmVxdWlyZSgnLi9zaGFkZXIvc2V0UHJlY2lzaW9uJyksXG5cdGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCA9IHJlcXVpcmUoJy4vc2hhZGVyL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCcpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBTaGFkZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gcHJlY2lzaW9uIHtzdHJpbmd9IFRoZSBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge29iamVjdH0gQSBrZXkgdmFsdWUgcGFpciBzaG93aW5nIHdoaWNoIGxvY2F0aW9uIGVhY3QgYXR0cmlidXRlIHNob3VsZCBzaXQgZWcge3Bvc2l0aW9uOjAsIHV2czoxfVxuICovXG52YXIgU2hhZGVyID0gZnVuY3Rpb24oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHByZWNpc2lvbiwgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuXHQvKipcblx0ICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuXHQgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cdGlmKHByZWNpc2lvbilcblx0e1xuXHRcdHZlcnRleFNyYyA9IHNldFByZWNpc2lvbih2ZXJ0ZXhTcmMsIHByZWNpc2lvbik7XG5cdFx0ZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24oZnJhZ21lbnRTcmMsIHByZWNpc2lvbik7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHNoYWRlciBwcm9ncmFtXG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cblx0ICovXG5cdC8vIEZpcnN0IGNvbXBpbGUgdGhlIHByb2dyYW0uLlxuXHR0aGlzLnByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKTtcblxuXHQvKipcblx0ICogVGhlIGF0dHJpYnV0ZXMgb2YgdGhlIHNoYWRlciBhcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXNcblx0ICoge1xuXHQgKiBcdHR5cGUsXG5cdCAqIFx0c2l6ZSxcblx0ICogXHRsb2NhdGlvbixcblx0ICogXHRwb2ludGVyXG5cdCAqIH1cblx0ICogQG1lbWJlciB7T2JqZWN0fVxuXHQgKi9cblx0Ly8gbmV4dCBleHRyYWN0IHRoZSBhdHRyaWJ1dGVzXG5cdHRoaXMuYXR0cmlidXRlcyA9IGV4dHJhY3RBdHRyaWJ1dGVzKGdsLCB0aGlzLnByb2dyYW0pO1xuXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IGV4dHJhY3RVbmlmb3JtcyhnbCwgdGhpcy5wcm9ncmFtKTtcblxuXHQvKipcblx0ICogVGhlIHVuaWZvcm1zIG9mIHRoZSBzaGFkZXIgYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzXG5cdCAqIHtcblx0ICogXHRnbCxcblx0ICogXHRkYXRhXG5cdCAqIH1cblx0ICogQG1lbWJlciB7T2JqZWN0fVxuXHQgKi9cblx0dGhpcy51bmlmb3JtcyA9IGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCggZ2wsIHRoaXMudW5pZm9ybURhdGEgKTtcblxufTtcbi8qKlxuICogVXNlcyB0aGlzIHNoYWRlclxuICogXG4gKiBAcmV0dXJuIHtQSVhJLmdsQ29yZS5HTFNoYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblNoYWRlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIHNoYWRlclxuICogVE9ET1xuICovXG5TaGFkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG5cdHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuXHR0aGlzLnVuaWZvcm1zID0gbnVsbDtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHRnbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gU2hhZGVyO1xuIiwiXG4vLyBzdGF0ZSBvYmplY3QvL1xudmFyIHNldFZlcnRleEF0dHJpYkFycmF5cyA9IHJlcXVpcmUoICcuL3NldFZlcnRleEF0dHJpYkFycmF5cycgKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gd29yayB3aXRoIFdlYkdMIFZlcnRleEFycmF5T2JqZWN0cyAodmFvcylcbiAqIE9ubHkgd29ya3MgaWYgV2ViR0wgZXh0ZW5zaW9ucyBhcmUgZW5hYmxlZCAodGhleSB1c3VhbGx5IGFyZSlcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIFZlcnRleEFycmF5T2JqZWN0KGdsLCBzdGF0ZSlcbntcbiAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG5cbiAgICBpZighVmVydGV4QXJyYXlPYmplY3QuRk9SQ0VfTkFUSVZFKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hdGl2ZVN0YXRlID0gc3RhdGU7XG5cbiAgICBpZih0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvID0gdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcblxuICAgICAgICB2YXIgbWF4QXR0cmlicyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkVSVEVYX0FUVFJJQlMpO1xuXG4gICAgICAgIC8vIFZBTyAtIG92ZXJ3cml0ZSB0aGUgc3RhdGUuLlxuICAgICAgICB0aGlzLm5hdGl2ZVN0YXRlID0ge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlOiBuZXcgQXJyYXkobWF4QXR0cmlicyksXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZTogbmV3IEFycmF5KG1heEF0dHJpYnMpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBhdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBib29sZWFuIGZsYWdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufVxuXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZXJ0ZXhBcnJheU9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gVmVydGV4QXJyYXlPYmplY3Q7XG5cbi8qKlxuKiBTb21lIGRldmljZXMgYmVoYXZlIGEgYml0IGZ1bm55IHdoZW4gdXNpbmcgdGhlIG5ld2VyIGV4dGVuc2lvbnMgKGltIGxvb2tpbmcgYXQgeW91IGlwYWQgMiEpXG4qIElmIHlvdSBmaW5kIG9uIG9sZGVyIGRldmljZXMgdGhhdCB0aGluZ3MgaGF2ZSBnb25lIGEgYml0IHdlaXJkIHRoZW4gc2V0IHRoaXMgdG8gdHJ1ZS5cbiovXG4vKipcbiAqIExldHMgdGhlIFZBTyBrbm93IGlmIHlvdSBzaG91bGQgdXNlIHRoZSBXZWJHTCBleHRlbnNpb24gb3IgdGhlIG5hdGl2ZSBtZXRob2RzLlxuICogU29tZSBkZXZpY2VzIGJlaGF2ZSBhIGJpdCBmdW5ueSB3aGVuIHVzaW5nIHRoZSBuZXdlciBleHRlbnNpb25zIChpbSBsb29raW5nIGF0IHlvdSBpcGFkIDIhKVxuICogSWYgeW91IGZpbmQgb24gb2xkZXIgZGV2aWNlcyB0aGF0IHRoaW5ncyBoYXZlIGdvbmUgYSBiaXQgd2VpcmQgdGhlbiBzZXQgdGhpcyB0byB0cnVlLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtCb29sZWFufSBGT1JDRV9OQVRJVkVcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QuRk9SQ0VfTkFUSVZFID0gZmFsc2U7XG5cbi8qKlxuICogQmluZHMgdGhlIGJ1ZmZlclxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyk7XG5cbiAgICAgICAgaWYodGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGUgYnVmZmVyXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVzZXMgdGhpcyB2YW9cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oKVxue1xuXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgaWYobGFzdEJ1ZmZlciAhPT0gYXR0cmliLmJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliLmJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICBsYXN0QnVmZmVyID0gYXR0cmliLmJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0cmliLmF0dHJpYnV0ZS5sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuYXR0cmlidXRlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLnR5cGUgfHwgZ2wuRkxPQVQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLm5vcm1hbGl6ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLnN0cmlkZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5zdGFydCB8fCAwKTtcbiAgICB9XG5cbiAgICBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMoZ2wsIHRoaXMuYXR0cmlidXRlcywgdGhpcy5uYXRpdmVTdGF0ZSk7XG5cbiAgICBpZih0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyICAgICB7UElYSS5nbC5HTEJ1ZmZlcn1cbiAqIEBwYXJhbSBhdHRyaWJ1dGUgIHsqfVxuICogQHBhcmFtIHR5cGUgICAgICAge1N0cmluZ31cbiAqIEBwYXJhbSBub3JtYWxpemVkIHtCb29sZWFufVxuICogQHBhcmFtIHN0cmlkZSAgICAge051bWJlcn1cbiAqIEBwYXJhbSBzdGFydCAgICAgIHtOdW1iZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbihidWZmZXIsIGF0dHJpYnV0ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBzdGFydClcbntcbiAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaCh7XG4gICAgICAgIGJ1ZmZlcjogICAgIGJ1ZmZlcixcbiAgICAgICAgYXR0cmlidXRlOiAgYXR0cmlidXRlLFxuXG4gICAgICAgIGxvY2F0aW9uOiAgIGF0dHJpYnV0ZS5sb2NhdGlvbixcbiAgICAgICAgdHlwZTogICAgICAgdHlwZSB8fCB0aGlzLmdsLkZMT0FULFxuICAgICAgICBub3JtYWxpemVkOiBub3JtYWxpemVkIHx8IGZhbHNlLFxuICAgICAgICBzdHJpZGU6ICAgICBzdHJpZGUgfHwgMCxcbiAgICAgICAgc3RhcnQ6ICAgICAgc3RhcnQgfHwgMFxuICAgIH0pO1xuXG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidWZmZXIgICB7UElYSS5nbC5HTEJ1ZmZlcn1cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmFkZEluZGV4ID0gZnVuY3Rpb24oYnVmZmVyLyosIG9wdGlvbnMqLylcbntcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuXG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGlzIHZhbyBhbmQgZGlzYWJsZXMgaXRcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKVxue1xuICAgIC8vIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvLyBUT0RPIC0gc2hvdWxkIHRoaXMgZnVuY3Rpb24gdW5iaW5kIGFmdGVyIGNsZWFyP1xuICAgIC8vIGZvciBub3csIG5vIGJ1dCBsZXRzIHNlZSB3aGF0IGhhcHBlbnMgaW4gdGhlIHJlYWwgd29ybGQhXG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuICAgIH1cblxuICAgIHRoaXMuYXR0cmlidXRlcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB0eXBlICB7TnVtYmVyfVxuICogQHBhcmFtIHNpemUgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc3RhcnQge051bWJlcn1cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbih0eXBlLCBzaXplLCBzdGFydClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgaWYodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplIHx8IHRoaXMuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAoc3RhcnQgfHwgMCkgKiAyICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IHRoaXMuZ2V0U2l6ZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVzdHJveSB0aGlzIHZhb1xuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcbiAgICAvLyBsb3NlIHJlZmVyZW5jZXNcbiAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIHRoaXMubmF0aXZlU3RhdGUgPSBudWxsO1xuXG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuICAgIHRoaXMubmF0aXZlVmFvID0gbnVsbDtcbn07XG5cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbMF07XG4gICAgcmV0dXJuIGF0dHJpYi5idWZmZXIuZGF0YS5sZW5ndGggLyAoKCBhdHRyaWIuc3RyaWRlLzQgKSB8fCBhdHRyaWIuYXR0cmlidXRlLnNpemUpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNvbXBpbGVQcm9ncmFtOiByZXF1aXJlKCcuL2NvbXBpbGVQcm9ncmFtJyksXG4gICAgZGVmYXVsdFZhbHVlOiByZXF1aXJlKCcuL2RlZmF1bHRWYWx1ZScpLFxuICAgIGV4dHJhY3RBdHRyaWJ1dGVzOiByZXF1aXJlKCcuL2V4dHJhY3RBdHRyaWJ1dGVzJyksXG4gICAgZXh0cmFjdFVuaWZvcm1zOiByZXF1aXJlKCcuL2V4dHJhY3RVbmlmb3JtcycpLFxuICAgIGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdDogcmVxdWlyZSgnLi9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QnKSxcbiAgICBzZXRQcmVjaXNpb246IHJlcXVpcmUoJy4vc2V0UHJlY2lzaW9uJyksXG4gICAgbWFwU2l6ZTogcmVxdWlyZSgnLi9tYXBTaXplJyksXG4gICAgbWFwVHlwZTogcmVxdWlyZSgnLi9tYXBUeXBlJylcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWF4UmVjb21tZW5kZWRUZXh0dXJlcztcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgaWYgKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgcmVzIGlzIGlwaG9uZSA2IG9yIGhpZ2hlci4uXG4gICAgICAgIHJldHVybiA0O1xuICAgIH1cblxuICAgIC8vIGRlc2t0b3Agc2hvdWxkIGJlIG9rXG4gICAgcmV0dXJuIG1heDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1heFJlY29tbWVuZGVkVGV4dHVyZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5VcGxvYWRTYW1lQnVmZmVyO1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcblx0Ly8gVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZiBpc3N1ZXMuXG5cdC8vIEFwcGFyZW50IG9uIElPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcblx0Ly8gdGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuXHR2YXIgaW9zID0gISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuXHRyZXR1cm4gIWlvcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVwbG9hZFNhbWVCdWZmZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIE1peGlucyBmdW5jdGlvbmFsaXR5IHRvIG1ha2UgYW4gb2JqZWN0IGhhdmUgXCJwbHVnaW5zXCIuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgcGx1Z2luVGFyZ2V0Lm1peGluKE15T2JqZWN0KTtcbiAqXG4gKiBAbWl4aW5cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iamVjdCB0byBtaXggaW50by5cbiAqL1xuZnVuY3Rpb24gcGx1Z2luVGFyZ2V0KG9iaikge1xuICAgIG9iai5fX3BsdWdpbnMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbHVnaW4gdG8gYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBldmVudHMgdGhhdCBzaG91bGQgYmUgbGlzdGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgb2JqLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4ocGx1Z2luTmFtZSwgY3Rvcikge1xuICAgICAgICBvYmouX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGVzIGFsbCB0aGUgcGx1Z2lucyBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICovXG4gICAgb2JqLnByb3RvdHlwZS5pbml0UGx1Z2lucyA9IGZ1bmN0aW9uIGluaXRQbHVnaW5zKCkge1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB0aGlzLnBsdWdpbnMgfHwge307XG5cbiAgICAgICAgZm9yICh2YXIgbyBpbiBvYmouX19wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgb2JqLl9fcGx1Z2luc1tvXSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgcGx1Z2lucyBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICovXG4gICAgb2JqLnByb3RvdHlwZS5kZXN0cm95UGx1Z2lucyA9IGZ1bmN0aW9uIGRlc3Ryb3lQbHVnaW5zKCkge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBudWxsO1xuICAgIH07XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICAvKipcbiAgICAgKiBNaXhlcyBpbiB0aGUgcHJvcGVydGllcyBvZiB0aGUgcGx1Z2luVGFyZ2V0IGludG8gYW5vdGhlciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqIHRvIG1peCBpbnRvXG4gICAgICovXG4gICAgbWl4aW46IGZ1bmN0aW9uIG1peGluKG9iaikge1xuICAgICAgICBwbHVnaW5UYXJnZXQob2JqKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1Z2luVGFyZ2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5taXhpbiA9IG1peGluO1xuZXhwb3J0cy5kZWxheU1peGluID0gZGVsYXlNaXhpbjtcbmV4cG9ydHMucGVyZm9ybU1peGlucyA9IHBlcmZvcm1NaXhpbnM7XG4vKipcbiAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIG1peGluXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gbWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAoIXRhcmdldCB8fCAhc291cmNlKSByZXR1cm47XG4gICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgfVxufVxuXG52YXIgbWl4aW5zID0gW107XG5cbi8qKlxuICogUXVldWVzIGEgbWl4aW4gdG8gYmUgaGFuZGxlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGluaXRpYWxpemF0aW9uIG9mIFBJWEksIHNvIHRoYXQgZGVwcmVjYXRpb25cbiAqIGNhbiB0YWtlIGVmZmVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCBUaGUgcHJvdG90eXBlIG9yIGluc3RhbmNlIHRoYXQgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaG91bGQgYmUgYWRkZWQgdG8uXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gKi9cbmZ1bmN0aW9uIGRlbGF5TWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBtaXhpbnMucHVzaCh0YXJnZXQsIHNvdXJjZSk7XG59XG5cbi8qKlxuICogSGFuZGxlcyBhbGwgbWl4aW5zIHF1ZXVlZCB2aWEgZGVsYXlNaXhpbigpLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBlcmZvcm1NaXhpbnMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbWl4aW4obWl4aW5zW2ldLCBtaXhpbnNbaSArIDFdKTtcbiAgICB9XG4gICAgbWl4aW5zLmxlbmd0aCA9IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi5qcy5tYXAiLCIvKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpXG57XG4gIHZhciBpLCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG5cbiAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICB9XG5cbiAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVtb3ZlSXRlbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcztcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMubWFwIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX1RpY2tlckxpc3RlbmVyID0gcmVxdWlyZSgnLi9UaWNrZXJMaXN0ZW5lcicpO1xuXG52YXIgX1RpY2tlckxpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlckxpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVyc1xuICogbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksXG4gKiBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudGlja2VyXG4gKi9cbnZhciBUaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpY2tlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjdXJyZW50IGZyYW1lIHJlcXVlc3QgSURcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3RhcnR9IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvU3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgICAgICogaXMgYmFzZWQsIHRoaXMgdmFsdWUgaXMgbmVpdGhlciBjYXBwZWQgbm9yIHNjYWxlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBfc2V0dGluZ3MyLmRlZmF1bHQuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICAgICAqIC8vIHRoZSBlcXVpdmFsZW50IG9mIGFwcHJveGltYXRlbHkgMTIwIEZQU1xuICAgICAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAgICAgKiBgdHJ1ZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2F1dG9TdGFydH0gYmVpbmcgYHRydWVgXG4gICAgICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCAmJiBfdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIF90aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiBfcmVxdWVzdElmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiBfY2FuY2VsSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fc3RhcnRJZlBvc3NpYmxlID0gZnVuY3Rpb24gX3N0YXJ0SWZQb3NzaWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGRPbmNlID0gZnVuY3Rpb24gYWRkT25jZShmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gX2FkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5faGVhZDtcblxuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIGxpc3RlbmVyc1xuICAgICAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgdGlja2VyIGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy4gQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZS4gQW4gdXBkYXRlIGVudGFpbHMgc2V0dGluZyB0aGVcbiAgICAgKiBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2xhc3RUaW1lfVxuICAgICAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgYW5pbWF0aW9uXG4gICAgICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICB2YXIgZWxhcHNlZE1TID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSBlbGFwc2VkTVMgKiBfc2V0dGluZ3MyLmRlZmF1bHQuVEFSR0VUX0ZQTVMgKiB0aGlzLnNwZWVkO1xuXG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICogdG8gc2NhbGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWNrZXIsIFt7XG4gICAgICAgIGtleTogJ0ZQUycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIFdoZW4gc2V0dGluZyB0aGlzIHByb3BlcnR5IGl0IGlzIGNsYW1wZWQgdG8gYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWluRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnBzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2xhbXA6IDAgdG8gVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZnBzKSAvIDEwMDAsIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRpY2tlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBoYW5kbGluZyB0aGUgcHJpb3JpdHkgc29ydGluZyBvZiB0aWNrZXIgaGFuZGxlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudGlja2VyXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dD1udWxsXSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0wXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIElmIHRoZSBoYW5kbGVyIHNob3VsZCBmaXJlIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWNrZXJMaXN0ZW5lcihmbikge1xuICAgICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgb25jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpY2tlckxpc3RlbmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZuID0gZm47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsaW5nIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIG1hdGNoKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IE5leHQgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChkZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgaWYgKHRoaXMub25jZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIGxpc3QuXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIGNvbm5lY3QocHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBoYXJkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgICAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpY2tlckxpc3RlbmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyTGlzdGVuZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uL21hdGgnKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzU3ByaXRlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIENhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtVGhlIHJlbmRlcmVyIHNwcml0ZSB0aGlzIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB3dCA9IHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmUub3JpZy53aWR0aCA8PSAwIHx8IHRleHR1cmUub3JpZy5oZWlnaHQgPD0gMCB8fCAhdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShzcHJpdGUuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyAgSWdub3JlIG51bGwgc291cmNlc1xuICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IHNwcml0ZS53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBJZiBzbW9vdGhpbmdFbmFibGVkIGlzIHN1cHBvcnRlZCBhbmQgd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHNtb290aGluZyBwcm9wZXJ0eSBmb3Igc3ByaXRlIHRleHR1cmVcbiAgICAgICAgICAgIHZhciBzbW9vdGhpbmdFbmFibGVkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eSAmJiByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSAhPT0gc21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldID0gc21vb3RoaW5nRW5hYmxlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudHJpbSkge1xuICAgICAgICAgICAgICAgIGR4ID0gdGV4dHVyZS50cmltLndpZHRoIC8gMiArIHRleHR1cmUudHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gdGV4dHVyZS50cmltLmhlaWdodCAvIDIgKyB0ZXh0dXJlLnRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueCkgKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSAoMC41IC0gc3ByaXRlLmFuY2hvci55KSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHd0LmNvcHkoY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHd0ID0gY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgX21hdGguR3JvdXBEOC5tYXRyaXhBcHBlbmRSb3RhdGlvbkludih3dCwgdGV4dHVyZS5yb3RhdGUsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgYWJvdmUsIHNvIGxldHMgc2V0IGl0IHRvIHplcm9cbiAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBkeSAtPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgcGl4ZWwgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuXG4gICAgICAgICAgICAgICAgZHggPSBkeCB8IDA7XG4gICAgICAgICAgICAgICAgZHkgPSBkeSB8IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChzcHJpdGUudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmNhY2hlZFRpbnQgIT09IHNwcml0ZS50aW50IHx8IHNwcml0ZS50aW50ZWRUZXh0dXJlLnRpbnRJZCAhPT0gc3ByaXRlLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY2FjaGVkVGludCA9IHNwcml0ZS50aW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgY2FjaGluZyAtIGhvdyB0byBjbGVhbiB1cCB0aGUgY2FjaGVzP1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIHNwcml0ZS50aW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUudGludGVkVGV4dHVyZSwgMCwgMCwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIHRleHR1cmUuX2ZyYW1lLnggKiByZXNvbHV0aW9uLCB0ZXh0dXJlLl9mcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc2V0IG9mIGZ1bmN0aW9ucyB1c2VkIHRvIGhhbmRsZSBtYXNraW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc01hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc01hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWFza0RhdGEgLSB0aGUgbWFza0RhdGEgdGhhdCB3aWxsIGJlIHB1c2hlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIHZhciBjYWNoZUFscGhhID0gbWFza0RhdGEuYWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtYXNrRGF0YS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIFRPRE8gc3Vwb3J0IHNwcml0ZSBhbHBoYSBtYXNrcz8/XG4gICAgICAgIC8vIGxvdHMgb2YgZWZmb3J0IHJlcXVpcmVkLiBJZiBkZW1hbmQgaXMgZ3JlYXQgZW5vdWdoLi5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHcmFwaGljc1NoYXBlKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuY2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEud29ybGRBbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBQSVhJLkdyYXBoaWNzIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucmVuZGVyR3JhcGhpY3NTaGFwZSA9IGZ1bmN0aW9uIHJlbmRlckdyYXBoaWNzU2hhcGUoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBsZW4gPSBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgYXJlIHRoZSBzYW1lIGNsb3NlIHRoZSBwYXRoIC0gbXVjaCBuZWF0ZXIgOilcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzWzBdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICYmIHBvaW50c1sxXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgY29udGV4dCB0byB0aGUgc3RhdGUgaXQgd2FzIGJlZm9yZSB0aGUgbWFzayB3YXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgY29udGV4dCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcyBtYXNrIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzTWFza01hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4vY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogTWFwcyBibGVuZCBjb21iaW5hdGlvbnMgdG8gQ2FudmFzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpKCkge1xuICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cbiAgICBpZiAoKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpKSB7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSAnbGlnaHRlcic7IC8vIElTIFRISVMgT0s/Pz9cbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9ICdtdWx0aXBseSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gJ3NjcmVlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5PVkVSTEFZXSA9ICdvdmVybGF5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSAnZGFya2VuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxJR0hURU5dID0gJ2xpZ2h0ZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gJ2NvbG9yLWRvZGdlJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gJ2NvbG9yLWJ1cm4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnaGFyZC1saWdodCc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9ICdzb2Z0LWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gJ2RpZmZlcmVuY2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdleGNsdXNpb24nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9ICdodWUnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSAnc2F0dXJhdGUnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JdID0gJ2NvbG9yJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxVTUlOT1NJVFldID0gJ2x1bWlub3NpdHknO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjb29sIG5ldyBibGVuZCBtb2RlcyBpbiBjYW52YXMgJ2NvdWdoJyBpZSAnY291Z2gnXG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSAnbGlnaHRlcic7IC8vIElTIFRISVMgT0s/Pz9cbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhBUkRfTElHSFRdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnc291cmNlLW92ZXInO1xuICAgIH1cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCwgb25seSBmb3Igd2ViZ2xcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyMik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxudmFyIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlciA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXInKTtcblxudmFyIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcik7XG5cbnZhciBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcicpO1xuXG52YXIgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIpO1xuXG52YXIgX0JhdGNoQnVmZmVyID0gcmVxdWlyZSgnLi9CYXRjaEJ1ZmZlcicpO1xuXG52YXIgX0JhdGNoQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoQnVmZmVyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUSUNLID0gMDtcbnZhciBURVhUVVJFX1RJQ0sgPSAwO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFNwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9PYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVSZW5kZXJlciwgX09iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHZhbHVlcyBzZW50IGluIHRoZSB2ZXJ0ZXggYnVmZmVyLlxuICAgICAgICAgKiBhVmVydGV4UG9zaXRpb24oMiksIGFUZXh0dXJlQ29vcmQoMSksIGFDb2xvcigxKSwgYVRleHR1cmVJZCgxKSA9IDVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX09iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy52ZXJ0U2l6ZSA9IDU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaXplIG9mIHRoZSB2ZXJ0ZXggaW5mb3JtYXRpb24gaW4gYnl0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRCeXRlU2l6ZSA9IF90aGlzLnZlcnRTaXplICogNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgaW4gdGhlIFNwcml0ZVJlbmRlcmVyIGJlZm9yZSBpdCBmbHVzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gX3NldHRpbmdzMi5kZWZhdWx0LlNQUklURV9CQVRDSF9TSVpFOyAvLyAyMDAwIGlzIGEgbmljZSBiYWxhbmNlIGJldHdlZW4gbW9iaWxlIC8gZGVza3RvcFxuXG4gICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgaW4gb3VyIGJhdGNoXG4gICAgICAgIC8vIGxldCBudW1WZXJ0cyA9IHRoaXMuc2l6ZSAqIDQgKiB0aGlzLnZlcnRCeXRlU2l6ZTtcblxuICAgICAgICBfdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKF90aGlzLnNpemUpOyBpICo9IDIpIHtcbiAgICAgICAgICAgIF90aGlzLmJ1ZmZlcnMucHVzaChuZXcgX0JhdGNoQnVmZmVyMi5kZWZhdWx0KGkgKiA0ICogX3RoaXMudmVydEJ5dGVTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoX3RoaXMuc2l6ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlcnMgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKiB0aGVyZSBpcyBhIHNoYWRlciBmb3IgZWFjaCBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgcmVuZGVyZXJkLlxuICAgICAgICAgKiBUaGVzZSBzaGFkZXJzIHdpbGwgYWxzbyBiZSBnZW5lcmF0ZWQgb24gdGhlIGZseSBhcyByZXF1aXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuZ3JvdXBzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBfdGhpcy5zaXplOyBrKyspIHtcbiAgICAgICAgICAgIF90aGlzLmdyb3Vwc1trXSA9IHsgdGV4dHVyZXM6IFtdLCB0ZXh0dXJlQ291bnQ6IDAsIGlkczogW10sIHNpemU6IDAsIHN0YXJ0OiAwLCBibGVuZDogMCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3ByaXRlcyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnZlcnRleEJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMudmFvcyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnZhb01heCA9IDI7XG4gICAgICAgIF90aGlzLnZlcnRleENvdW50ID0gMDtcblxuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5sZWdhY3kpIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSwgX3NldHRpbmdzMi5kZWZhdWx0LlNQUklURV9NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gKDAsIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyLmRlZmF1bHQpKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlciA9ICgwLCBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyLmRlZmF1bHQpKGdsLCB0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgY291cGxlIG9mIGJ1ZmZlcnNcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyIG1heSBvbWl0IGFUZXh0dXJlSWRcbiAgICAgICAgLy8gYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YW9NYXg7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMudmVydGV4QnVmZmVyc1tpXSA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbnVsbCwgZ2wuU1RSRUFNX0RSQVcpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgdmFyIHZhbyA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmFvKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCAwKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUNvb3JkLCBnbC5VTlNJR05FRF9TSE9SVCwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDIgKiA0KS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hQ29sb3IsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAzICogNCk7XG5cbiAgICAgICAgICAgIGlmIChhdHRycy5hVGV4dHVyZUlkKSB7XG4gICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52YW9zW2ldID0gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YW8gPSB0aGlzLnZhb3NbMF07XG4gICAgICAgIHRoaXMuY3VycmVudEJsZW5kTW9kZSA9IDk5OTk5O1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheSh0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBiZWZvcmUgdGhlIHJlbmRlcmVyIHN0YXJ0cyByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIC8vIFRPRE8gc2V0IGJsZW5kIG1vZGVzLi5cbiAgICAgICAgLy8gY2hlY2sgdGV4dHVyZS4uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgdXZzIGZvciB0aGUgdGV4dHVyZVxuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgaWYgKCFzcHJpdGUuX3RleHR1cmUuX3V2cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVzaCBhIHRleHR1cmUuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmF0Y2hzaXplXG4gICAgICAgIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbmRleCsrXSA9IHNwcml0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gdGhpcy5NQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgdmFyIG5wMiA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKHRoaXMuY3VycmVudEluZGV4KTtcbiAgICAgICAgdmFyIGxvZzIgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5sb2cyKG5wMik7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbbG9nMl07XG5cbiAgICAgICAgdmFyIHNwcml0ZXMgPSB0aGlzLnNwcml0ZXM7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcblxuICAgICAgICB2YXIgZmxvYXQzMlZpZXcgPSBidWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYnVmZmVyLnVpbnQzMlZpZXc7XG5cbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciByZW5kZXJlckJvdW5kVGV4dHVyZXMgPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ3JvdXBDb3VudCA9IDE7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudEdyb3VwID0gZ3JvdXBzWzBdO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHV2cyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IF91dGlscy5wcmVtdWx0aXBseUJsZW5kTW9kZVtzcHJpdGVzWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSA/IDEgOiAwXVtzcHJpdGVzWzBdLmJsZW5kTW9kZV07XG5cbiAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcblxuICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gY29weSB0ZXh0dXJlcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGJ0ID0gcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYnQuX2VuYWJsZWQgPT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gdGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gYnQ7XG4gICAgICAgICAgICBidC5fdmlydGFsQm91bmRJZCA9IGk7XG4gICAgICAgICAgICBidC5fZW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgIH1cbiAgICAgICAgVElDSysrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRJbmRleDsgKytpKSB7XG4gICAgICAgICAgICAvLyB1cGxvYWQgdGhlIHNwcml0ZSBlbGVtZXRucy4uLlxuICAgICAgICAgICAgLy8gdGhleSBoYXZlIGFsbCByZWFkeSBiZWVuIGNhbGN1bGF0ZWQgc28gd2UganVzdCBuZWVkIHRvIHB1c2ggdGhlbSBpbnRvIHRoZSBidWZmZXIuXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gc3ByaXRlc1tpXTtcblxuICAgICAgICAgICAgc3ByaXRlc1tpXSA9IG51bGw7XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIGEgZ3JvdXAuLlxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZ3JvdXBzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBNQVhfVEVYVFVSRVM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kZXggPSAoaiArIFRFWFRVUkVfVElDSykgJSBNQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGJvdW5kVGV4dHVyZXNbdEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Ll9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFWFRVUkVfVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IHRJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW3RJbmRleF0gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmlkc1t0ZXh0dXJlQ291bnRdID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1t0ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleERhdGEgPSBzcHJpdGUudmVydGV4RGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHN1bSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNldCBlYWNoIGZyYW1lLi5cbiAgICAgICAgICAgIHV2cyA9IHNwcml0ZS5fdGV4dHVyZS5fdXZzLnV2c1VpbnQzMjtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKHZlcnRleERhdGFbMF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSAodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSAodmVydGV4RGF0YVsyXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICh2ZXJ0ZXhEYXRhWzNdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSAodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSAodmVydGV4RGF0YVs1XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKHZlcnRleERhdGFbNl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyA5XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxOV0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIV9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvTWF4Kys7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSB2YW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBfaisrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBncm91cC50ZXh0dXJlc1tfal07XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB2aXJ0dWFsIGlkcy4uXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBkbyBhIHF1aWNrIGNoZWNrLi5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXJCb3VuZFRleHR1cmVzW2dyb3VwLmlkc1tfal1dICE9PSBjdXJyZW50VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKGN1cnJlbnRUZXh0dXJlLCBncm91cC5pZHNbX2pdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgdmlydHVhbElkLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKF9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0uYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgX09iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbX2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZVJlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIgPSByZXF1aXJlKCcuLi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcicpO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlTWFza0ZpbHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza01hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhNYXNrTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza01hbmFnZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gLSB3ZSBkb24ndCBuZWVkIGJvdGghXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNjaXNzb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICBfdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgICAgIF90aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hNYXNrID0gZnVuY3Rpb24gcHVzaE1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICAvLyBUT0RPIHRoZSByb290IGNoZWNrIG1lYW5zIHNjaXNzb3IgcmVjdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSB1c2VkIG9uIHJlbmRlciB0ZXh0dXJlcyBtb3JlIGluZm8gaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzU0NVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5zY2lzc29yICYmIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290ICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoICYmIG1hc2tEYXRhLmlzRmFzdFJlY3QoKSkge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB2YXIgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wTWFzayA9IGZ1bmN0aW9uIHBvcE1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICBpZiAobWFza0RhdGEudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wb3BTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3RlbmNpbE1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTcHJpdGVNYXNrID0gZnVuY3Rpb24gcHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuXG4gICAgICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKSB7XG4gICAgICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF0gPSBbbmV3IF9TcHJpdGVNYXNrRmlsdGVyMi5kZWZhdWx0KG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICAvLyBUT0RPIC0gbWF5IGNhdXNlIGlzc3VlcyFcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrRGF0YS5nZXRCb3VuZHModHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHBvcFNwcml0ZU1hc2soKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFN0ZW5jaWxNYXNrID0gZnVuY3Rpb24gcHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wdXNoU3RlbmNpbChtYXNrRGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFN0ZW5jaWxNYXNrID0gZnVuY3Rpb24gcG9wU3RlbmNpbE1hc2soKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wb3BTdGVuY2lsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tEYXRhLmdldEJvdW5kcygpO1xuXG4gICAgICAgIGJvdW5kcy5maXQocmVuZGVyVGFyZ2V0LnNpemUpO1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcihib3VuZHMueCAqIHJlc29sdXRpb24sIChyZW5kZXJUYXJnZXQucm9vdCA/IHJlbmRlclRhcmdldC5zaXplLmhlaWdodCAtIGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCA6IGJvdW5kcy55KSAqIHJlc29sdXRpb24sIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sIGJvdW5kcy5oZWlnaHQgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBtYXNrRGF0YTtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwb3BTY2lzc29yTWFzaygpIHtcbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG11c3QgYmUgc2Npc3NvciFcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfTtcblxuICAgIHJldHVybiBNYXNrTWFuYWdlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYztcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRlZmF1bHRWYWx1ZSA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LnNoYWRlci5kZWZhdWx0VmFsdWU7XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TcmModmVydGV4U3JjLCBmcmFnbWVudFNyYywgbWFzaykge1xuICAgIHZhciB2ZXJ0VW5pZm9ybXMgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nKHZlcnRleFNyYywgbWFzayk7XG4gICAgdmFyIGZyYWdVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoZnJhZ21lbnRTcmMsIG1hc2spO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odmVydFVuaWZvcm1zLCBmcmFnVW5pZm9ybXMpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nKHN0cmluZykge1xuICAgIHZhciBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8ZmlsdGVyQXJlYXxmaWx0ZXJDbGFtcCkkJyk7XG5cbiAgICB2YXIgdW5pZm9ybXMgPSB7fTtcbiAgICB2YXIgbmFtZVNwbGl0ID0gdm9pZCAwO1xuXG4gICAgLy8gY2xlYW4gdGhlIGxpbmVzIGEgbGl0dGxlIC0gcmVtb3ZlIGV4dHJhIHNwYWNlcyAvIHRhYnMgZXRjXG4gICAgLy8gdGhlbiBzcGxpdCBhbG9uZyAnOydcbiAgICB2YXIgbGluZXMgPSBzdHJpbmcucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KC9cXHMqO1xccyovKTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaC4uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcblxuICAgICAgICBpZiAobGluZS5pbmRleE9mKCd1bmlmb3JtJykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHNwbGl0TGluZSA9IGxpbmUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gc3BsaXRMaW5lWzFdO1xuXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHNwbGl0TGluZVsyXTtcbiAgICAgICAgICAgIHZhciBzaXplID0gMTtcblxuICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignWycpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnJheSFcbiAgICAgICAgICAgICAgICBuYW1lU3BsaXQgPSBuYW1lLnNwbGl0KC9cXFt8XS8pO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lU3BsaXRbMF07XG4gICAgICAgICAgICAgICAgc2l6ZSAqPSBOdW1iZXIobmFtZVNwbGl0WzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuYW1lLm1hdGNoKG1hc2tSZWdleCkpIHtcbiAgICAgICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5pZm9ybXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0VW5pZm9ybXNGcm9tU3JjLmpzLm1hcCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN0ZW5jaWxNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoU3RlbmNpbE1hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RlbmNpbE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0ZW5jaWxNYW5hZ2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc1tdfSBzdGVuY2lsTWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIHNldE1hc2tTdGFjayhzdGVuY2lsTWFza1N0YWNrKSB7XG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IHN0ZW5jaWxNYXNrU3RhY2s7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG1hc2tcbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnB1c2hTdGVuY2lsID0gZnVuY3Rpb24gcHVzaFN0ZW5jaWwoZ3JhcGhpY3MpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5hdHRhY2hTdGVuY2lsQnVmZmVyKCk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wdXNoKGdyYXBoaWNzKTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucG9wU3RlbmNpbCA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWwoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiBfdXNlQ3VycmVudCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2soKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX1dlYkdMTWFuYWdlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5zdGVuY2lsU3RhY2sgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RlbmNpbE1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTdGVuY2lsTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0ZW5jaWxNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfUXVhZCA9IHJlcXVpcmUoJy4uL3V0aWxzL1F1YWQnKTtcblxudmFyIF9RdWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcik7XG5cbnZhciBfZmlsdGVyVHJhbnNmb3JtcyA9IHJlcXVpcmUoJy4uL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3JtcycpO1xuXG52YXIgZmlsdGVyVHJhbnNmb3JtcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJUcmFuc2Zvcm1zKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyU3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIC8vIHRob3NlIHRocmVlIG9iamVjdHMgYXJlIHVzZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2xlYXJzIHRoZSBzdGF0ZVxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJTdGF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJTdGF0ZTtcbn0oKTtcblxudmFyIHNjcmVlbktleSA9ICdzY3JlZW4nO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKi9cblxudmFyIEZpbHRlck1hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhGaWx0ZXJNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlck1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlck1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIC8vIGtub3cgYWJvdXQgc3ByaXRlcyFcbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBfUXVhZDIuZGVmYXVsdChfdGhpcy5nbCwgcmVuZGVyZXIuc3RhdGUuYXR0cmliU3RhdGUpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlckNhY2hlID0ge307XG4gICAgICAgIC8vIHRvZG8gYWRkIGRlZmF1bHQhXG4gICAgICAgIF90aGlzLnBvb2wgPSB7fTtcblxuICAgICAgICBfdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5tYW5hZ2VkRmlsdGVycyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLl9zY3JlZW5XaWR0aCA9IHJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIF90aGlzLl9zY3JlZW5IZWlnaHQgPSByZW5kZXJlci52aWV3LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnB1c2hGaWx0ZXIgPSBmdW5jdGlvbiBwdXNoRmlsdGVyKHRhcmdldCwgZmlsdGVycykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciBmaWx0ZXJEYXRhID0gdGhpcy5maWx0ZXJEYXRhO1xuXG4gICAgICAgIGlmICghZmlsdGVyRGF0YSkge1xuICAgICAgICAgICAgZmlsdGVyRGF0YSA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJTdGFjaztcblxuICAgICAgICAgICAgLy8gYWRkIG5ldyBzdGFja1xuICAgICAgICAgICAgdmFyIGZpbHRlclN0YXRlID0gbmV3IEZpbHRlclN0YXRlKCk7XG5cbiAgICAgICAgICAgIGZpbHRlclN0YXRlLnNvdXJjZUZyYW1lID0gZmlsdGVyU3RhdGUuZGVzdGluYXRpb25GcmFtZSA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5zaXplO1xuICAgICAgICAgICAgZmlsdGVyU3RhdGUucmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgIHN0YWNrOiBbZmlsdGVyU3RhdGVdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IGZpbHRlciBzdGF0ZS4uXG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrWysrZmlsdGVyRGF0YS5pbmRleF07XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXRGcmFtZSA9IGZpbHRlckRhdGEuc3RhY2tbMF0uZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0YXJnZXQuZmlsdGVyQXJlYSAmJiB0YXJnZXQuZmlsdGVyQXJlYS54ID09PSAwICYmIHRhcmdldC5maWx0ZXJBcmVhLnkgPT09IDAgJiYgdGFyZ2V0LmZpbHRlckFyZWEud2lkdGggPT09IHJlbmRlcmVyLnNjcmVlbi53aWR0aCAmJiB0YXJnZXQuZmlsdGVyQXJlYS5oZWlnaHQgPT09IHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQ7XG5cbiAgICAgICAgLy8gZm9yIG5vdyB3ZSBnbyBvZmYgdGhlIGZpbHRlciBvZiB0aGUgZmlyc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZyB8IDA7XG4gICAgICAgIHZhciB0YXJnZXRCb3VuZHMgPSBmdWxsU2NyZWVuID8gcmVuZGVyZXIuc2NyZWVuIDogdGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgICAgIHNvdXJjZUZyYW1lLnggPSAodGFyZ2V0Qm91bmRzLnggKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS55ID0gKHRhcmdldEJvdW5kcy55ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUud2lkdGggPSAodGFyZ2V0Qm91bmRzLndpZHRoICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUuaGVpZ2h0ID0gKHRhcmdldEJvdW5kcy5oZWlnaHQgKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICghZnVsbFNjcmVlbikge1xuICAgICAgICAgICAgaWYgKGZpbHRlckRhdGEuc3RhY2tbMF0ucmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSkgey8vXG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHdlIHNob3VsZCBmaXQgdGhlIHJlY3QgYXJvdW5kIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzWzBdLmF1dG9GaXQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZS5maXQocmVuZGVyVGFyZ2V0RnJhbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsZXRzIGFwcGx5IHRoZSBwYWRkaW5nIEFmdGVyIHdlIGZpdCB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcbiAgICAgICAgICAgIHNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gbGV0cyBwbGF5IHRoZSBwYWRkaW5nIGFmdGVyIHdlIGZpdCB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuLlxuICAgICAgICAvLyB0aGlzIHNob3VsZCBzdG9wIHRoZSBzdHJhbmdlIHNpZGUgZWZmZWN0cyB0aGF0IGNhbiBvY2N1ciB3aGVuIGNyb3BwaW5nIHRvIHRoZSBlZGdlc1xuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldChyZW5kZXJlci5nbCwgc291cmNlRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY3VycmVudFN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgY3VycmVudFN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldCB0byBkcmF3IHRoZSBzaGFwZSBpbiB0aGUgdG9wIGNvcm5lci4uXG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucG9wRmlsdGVyID0gZnVuY3Rpb24gcG9wRmlsdGVyKCkge1xuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4IC0gMV07XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHRoaXMucXVhZC5tYXAoY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpLnVwbG9hZCgpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gY3VycmVudFN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQsIGxhc3RTdGF0ZS5yZW5kZXJUYXJnZXQsIGZhbHNlLCBjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIGN1cnJlbnRTdGF0ZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgZmxvcC5zZXRGcmFtZShjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKTtcblxuICAgICAgICAgICAgLy8gZmluYWxseSBsZXRzIGNsZWFyIHRoZSByZW5kZXIgdGFyZ2V0IGJlZm9yZSBkcmF3aW5nIHRvIGl0Li5cbiAgICAgICAgICAgIGZsb3AuY2xlYXIoKTtcblxuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsaXApO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudFN0YXRlLmNsZWFyKCk7XG4gICAgICAgIGZpbHRlckRhdGEuaW5kZXgtLTtcblxuICAgICAgICBpZiAoZmlsdGVyRGF0YS5pbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBzaGFkZXIgPSBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBjYWNoaW5nLi5cbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2xTaGFkZXJLZXkpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIgPSB0aGlzLnNoYWRlckNhY2hlW2ZpbHRlci5nbFNoYWRlcktleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIgPSBuZXcgX1NoYWRlcjIuZGVmYXVsdCh0aGlzLmdsLCBmaWx0ZXIudmVydGV4U3JjLCBmaWx0ZXIuZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5zaGFkZXJDYWNoZVtmaWx0ZXIuZ2xTaGFkZXJLZXldID0gc2hhZGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlciA9IGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQodGhpcy5nbCwgZmlsdGVyLnZlcnRleFNyYywgZmlsdGVyLmZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVE9ETyAtIHRoaXMgb25seSBuZWVkcyB0byBiZSBkb25lIG9uY2U/XG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgICAgICB0aGlzLnF1YWQuaW5pdFZhbyhzaGFkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh0aGlzLnF1YWQudmFvKTtcblxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KG91dHB1dCk7XG5cbiAgICAgICAgaWYgKGNsZWFyKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICByZW5kZXJlci5jbGVhcigpOyAvLyBbMSwgMSwgMSwgMV0pO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbiBjYXNlIHRoZSByZW5kZXIgdGFyZ2V0IGlzIGJlaW5nIG1hc2tlZCB1c2luZyBhIHNjaXNzb3IgcmVjdFxuICAgICAgICBpZiAob3V0cHV0ID09PSByZW5kZXJlci5tYXNrTWFuYWdlci5zY2lzc29yUmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoU2Npc3Nvck1hc2sobnVsbCwgcmVuZGVyZXIubWFza01hbmFnZXIuc2Npc3NvckRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIC8vIGZyZWUgdW5pdCAwIGZvciB1cywgZG9lc24ndCBtYXR0ZXIgd2hhdCB3YXMgdGhlcmVcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIHJlc3RvcmUgaXQsIGJlY2F1c2Ugc3luY1VuaWZvcm1zIGNhbiB1cGxvYWQgaXQgdG8gYW5vdGhlciBzbG90XG4gICAgICAgIC8vIGFuZCBpdCdsbCBiZSBhIHByb2JsZW1cbiAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1swXTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF0gPSB0ZXg7XG4gICAgICAgIC8vIHRoaXMgc3luY3MgdGhlIFBpeGlKUyBmaWx0ZXJzICB1bmlmb3JtcyB3aXRoIGdsc2wgdW5pZm9ybXNcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShmaWx0ZXIuYmxlbmRNb2RlKTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXQudGV4dHVyZS50ZXh0dXJlKTtcblxuICAgICAgICB0aGlzLnF1YWQudmFvLmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgb2YgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R0xTaGFkZXJ9IHNoYWRlciAtIFRoZSB1bmRlcmx5aW5nIGdsIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHdlIGFyZSBzeW5jaHJvbml6aW5nLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZmlsdGVyLnVuaWZvcm1EYXRhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBmaWx0ZXIudW5pZm9ybXM7XG5cbiAgICAgICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgdGhlIFBpeGlKUyB0ZXh0dXJlIHNvIHdlIHN0YXJ0IGF0IDEhXG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAxO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGZpbHRlckFyZWEgYW5kIGZpbHRlckNsYW1wIHRoYXQgYXJlIGhhbmRsZWQgYnkgRmlsdGVyTWFuYWdlciBkaXJlY3RseVxuICAgICAgICAvLyB0aGV5IG11c3Qgbm90IGFwcGVhciBpbiB1bmlmb3JtRGF0YVxuXG4gICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWEgPSBmaWx0ZXJBcmVhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHRoaXMgdG8gY2xhbXAgZGlzcGxhY2VkIHRleHR1cmUgY29vcmRzIHNvIHRoZXkgYmVsb25nIHRvIGZpbHRlckFyZWFcbiAgICAgICAgLy8gc2VlIGRpc3BsYWNlbWVudEZpbHRlciBmcmFnbWVudCBzaGFkZXIgZm9yIGFuIGV4YW1wbGVcbiAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcCkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlIHx8IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQ2xhbXAgPSBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXA7XG5cbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzBdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzFdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzJdID0gKGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbM10gPSAoY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wID0gZmlsdGVyQ2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIENhY2hpbmcgbGF5ZXIuLlxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHVuaWZvcm1EYXRhW2ldLnR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc2FtcGxlcjJkJyAmJiB1bmlmb3Jtc1tpXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKHVuaWZvcm1zW2ldLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ291bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaGVscGZ1bCBhcyByZW5kZXJUYXJnZXRzIGNhbiBhbHNvIGJlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx0aG91Z2ggdGhpbmtpbmcgYWJvdXQgaXQsIHdlIGNvdWxkIHByb2JhYmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhlIGZpbHRlciB0ZXh0dXJlIGNhY2hlIHJldHVybiBhIFJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYSByZW5kZXJUYXJnZXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbdGV4dHVyZUNvdW50XSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4dHVyZUNvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtc1tpXS50ZXh0dXJlLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hdDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIFBpeGlKUyBtYXRyaXguLlxuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZWMyJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHBvaW50Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBzaGFkZXIudW5pZm9ybXNbaV0gfHwgbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YWxbMF0gPSB1bmlmb3Jtc1tpXS54O1xuICAgICAgICAgICAgICAgICAgICB2YWxbMV0gPSB1bmlmb3Jtc1tpXS55O1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmxvYXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5kYXRhW2ldLnZhbHVlICE9PSB1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHBvb2wsIG9yIGNyZWF0ZXMgYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB3ZSBjbGVhciB0aGUgcmVuZGVyIHRleHR1cmUgd2hlbiB3ZSBnZXQgaXQ/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZ2V0UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyZXIuZ2wsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiB8fCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQgdG8gcmV0dXJuLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5yZXR1cm5SZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqXG4gICAgICogVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbiAgICAgKiB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdlRleHR1cmVDb29yZCB0byB0aGlzIG1hdHJpeCB0byBhY2hpZXZlICgwLDAsMSwxKSBmb3IgZmlsdGVyQXJlYVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBzcHJpdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBNYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIGNvbnRleHQgd2FzIGxvc3QsIGRvIG5vdCBmcmVlIHNoYWRlcnNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGNvbnRleHRMb3N0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMubWFuYWdlZEZpbHRlcnM7XG5cbiAgICAgICAgcmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBUT0RPIG1vdmUgdG8gYSBzZXBhcmF0ZSBjbGFzcyBjb3VsZCBiZSBvbiByZW5kZXJlcj9cbiAgICAgKiBhbHNvIC0gY291bGQgY2F1c2UgaXNzdWUgd2l0aCBtdWx0aXBsZSBjb250ZXh0cz9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFBvdFJlbmRlclRhcmdldChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fc2NyZWVuV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9zY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8geW91IGNvdWxkIHJldHVybiBhIGJpZ2dlciB0ZXh0dXJlIGlmIHRoZXJlIGlzIG5vdCBvbmUgaW4gdGhlIHBvb2w/XG4gICAgICAgICAgICBtaW5XaWR0aCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAobWluV2lkdGggJiAweEZGRkYpIDw8IDE2IHwgbWluSGVpZ2h0ICYgMHhGRkZGO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICAvLyBjcmVhdGluZyByZW5kZXIgdGFyZ2V0IHdpbGwgY2F1c2UgdGV4dHVyZSB0byBiZSBib3VuZCFcbiAgICAgICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTtcblxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCBudWxsLCAxKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IG9uZSBiYWNrXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYW51YWxseSB0d2VhayB0aGUgcmVzb2x1dGlvbi4uLlxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IG1vZGlmeSB0aGUgc2l6ZSBvZiB0aGUgZnJhbWUgYnVmZmVyLCBqdXN0IGl0cyByZXNvbHV0aW9uLlxuICAgICAgICByZW5kZXJUYXJnZXQucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUud2lkdGggPSByZW5kZXJUYXJnZXQuc2l6ZS53aWR0aCA9IG1pbldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlZmF1bHRGcmFtZS5oZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgPSBtaW5IZWlnaHQgLyByZXNvbHV0aW9uO1xuICAgICAgICByZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleSA9IGtleTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRhcmdldCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZnJlZVBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMucG9vbFtyZW5kZXJUYXJnZXQuZmlsdGVyUG9vbEtleV0ucHVzaChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zY3JlZW5XaWR0aCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LndpZHRoIHx8IHRoaXMuX3NjcmVlbkhlaWdodCAhPT0gdGhpcy5yZW5kZXJlci52aWV3LmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fc2NyZWVuV2lkdGggPSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5IZWlnaHQgPSB0aGlzLnJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnBvb2xbc2NyZWVuS2V5XTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9vbFtzY3JlZW5LZXldID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlck1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGaWx0ZXJNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg7XG5leHBvcnRzLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCA9IGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeDtcbmV4cG9ydHMuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gY2FsY3VsYXRlU3ByaXRlTWF0cml4O1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWFwcGVkIG1hdHJpeFxuICogQHBhcmFtIGZpbHRlckFyZWEge1JlY3RhbmdsZX0gVGhlIGZpbHRlciBhcmVhXG4gKiBAcGFyYW0gc3ByaXRlIHtTcHJpdGV9IHRoZSB0YXJnZXQgc3ByaXRlXG4gKiBAcGFyYW0gb3V0cHV0TWF0cml4IHtNYXRyaXh9IEBhbHZpblxuICogQHByaXZhdGVcbiAqL1xuLy8gVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbi8vIHRoaXMgcmV0dXJucyBhIG1hdHJpeCB0aGF0IHdpbGwgbm9ybWFsaXNlIG1hcCBmaWx0ZXIgY29yZHMgaW4gdGhlIGZpbHRlciB0byBzY3JlZW4gc3BhY2VcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUpIHtcbiAgICAvLyBsZXQgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weShNYXRyaXguVEVNUF9NQVRSSVgpLFxuICAgIC8vIGxldCB0ZXh0dXJlID0ge3dpZHRoOjExMzYsIGhlaWdodDo3MDB9Oy8vc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgLy8gVE9ETyB1bndyYXA/XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuXG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShmaWx0ZXJBcmVhLnggLyB0ZXh0dXJlU2l6ZS53aWR0aCwgZmlsdGVyQXJlYS55IC8gdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0ZXh0dXJlU2l6ZS53aWR0aCwgdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplKSB7XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuXG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShmaWx0ZXJBcmVhLnggLyB0ZXh0dXJlU2l6ZS53aWR0aCwgZmlsdGVyQXJlYS55IC8gdGV4dHVyZVNpemUuaGVpZ2h0KTtcblxuICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSB0ZXh0dXJlU2l6ZS53aWR0aCAvIGZpbHRlckFyZWEud2lkdGg7XG4gICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IHRleHR1cmVTaXplLmhlaWdodCAvIGZpbHRlckFyZWEuaGVpZ2h0O1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRyYW5zbGF0ZVNjYWxlWCwgdHJhbnNsYXRlU2NhbGVZKTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG5cbi8vIHRoaXMgd2lsbCBtYXAgdGhlIGZpbHRlciBjb29yZCBzbyB0aGF0IGEgdGV4dHVyZSBjYW4gYmUgdXNlZCBiYXNlZCBvbiB0aGUgdHJhbnNmb3JtIG9mIGEgc3ByaXRlXG5mdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSwgc3ByaXRlKSB7XG4gICAgdmFyIG9yaWcgPSBzcHJpdGUuX3RleHR1cmUub3JpZztcbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldCh0ZXh0dXJlU2l6ZS53aWR0aCwgMCwgMCwgdGV4dHVyZVNpemUuaGVpZ2h0LCBmaWx0ZXJBcmVhLngsIGZpbHRlckFyZWEueSk7XG4gICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHkoX21hdGguTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlclRyYW5zZm9ybXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB0ZXh0dXJlcyBpbiB0aGUgcmVuZGVyZXIgc28gd2UgY2FuIG5vIGxvbmdlciBsaXN0ZW4gdG8gdGhlbSBvbiBkZXN0cnVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmdldFRleHR1cmUgPSBmdW5jdGlvbiBnZXRUZXh0dXJlKCkge31cbiAgICAvLyBlbXB0eVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFuZC9vciBDcmVhdGVzIGEgV2ViR0wgdGV4dHVyZSBmb3IgdGhlIHJlbmRlcmVyJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgbG9jYXRpb24gdGhlIHRleHR1cmUgd2lsbCBiZSBib3VuZCB0by5cbiAgICAgKiBAcmV0dXJuIHtHTFRleHR1cmV9IFRoZSBnbCB0ZXh0dXJlLlxuICAgICAqL1xuICAgIDtcblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICAvLyBhc3N1bWUgaXQgZ29vZCFcbiAgICAgICAgLy8gdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBpc1JlbmRlclRleHR1cmUgPSAhIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiBpcyB1bmRlZmluZWQgdGhlbiB0aGlzIG1heSBoYXZlIGJlZW4gY2FsbGVkIGJ5IG4gZXZlbnQuXG4gICAgICAgIC8vIHRoaXMgYmVpbmcgdGhlIGNhc2UgdGhlIHRleHR1cmUgbWF5IGFscmVhZHkgYmUgYm91bmQgdG8gYSBzbG90LiBBcyBhIHRleHR1cmUgY2FuIG9ubHkgYmUgYm91bmQgb25jZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgaXRzIGN1cnJlbnQgbG9jYXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHdlIGNhbiB1c2UgdGV4dHVyZSBib3VuZCBpZHMgbGF0ZXIgb24uLi5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRleHR1cmUgaXMgYWxyZWFkeSBib3VuZC4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHRoaXMuZ2wsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB0ZXh0dXJlLnNjYWxlTW9kZSwgdGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSByZW5kZXJUYXJnZXQudGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlLkdMVGV4dHVyZSh0aGlzLmdsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuYmluZChsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS51cGxvYWQodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVNaXBtYXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwUmVwZWF0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIHNvIHdlIG9ubHkgbmVlZCB0byB1cGRhdGUgaXQuLlxuICAgICAgICBlbHNlIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0ucmVzaXplKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVpZCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBnbFRleHR1cmVzID0gdGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgdmFyIGdsUmVuZGVyVGFyZ2V0cyA9IHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlc1t1aWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsVGV4dHVyZXNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBnbFRleHR1cmVzW3VpZF07XG5cbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5fbWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2xSZW5kZXJUYXJnZXRzICYmIGdsUmVuZGVyVGFyZ2V0c1t1aWRdKSB7XG4gICAgICAgICAgICBnbFJlbmRlclRhcmdldHNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgZ2xSZW5kZXJUYXJnZXRzW3VpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhbGwgdGhlIHRleHR1cmVzIGZyb20gV2ViR0xcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgbWFuYWdlciBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLy8gZGVzdHJveSBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX21hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZFRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci4gVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSBHUFUgYW5kIGVuc3VyZXMgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZFxuICogdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhJZGxlID0gX3NldHRpbmdzMi5kZWZhdWx0LkdDX01BWF9JRExFO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICB0aGlzLm1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX2NvbnN0LkdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0uX21hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbX2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIHVubG9hZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuX3RleHR1cmUgJiYgZGlzcGxheU9iamVjdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZShkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBCTEVORCA9IDA7XG52YXIgREVQVEhfVEVTVCA9IDE7XG52YXIgRlJPTlRfRkFDRSA9IDI7XG52YXIgQ1VMTF9GQUNFID0gMztcbnZhciBCTEVORF9GVU5DID0gNDtcblxuLyoqXG4gKiBBIFdlYkdMIHN0YXRlIG1hY2hpbmVzXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICovXG5cbnZhciBXZWJHTFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gV2ViR0xTdGF0ZShnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xTdGF0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IG5ldyBVaW50OEFycmF5KDE2KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc3RhdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgICAgIC8vIGRlZmF1bHQgYmxlbmQgbW9kZS4uXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlWzBdID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgc3RhdGUgaW5kZXggaW4gdGhlIHN0YWNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFjayBob2xkaW5nIGFsbCB0aGUgZGlmZmVyZW50IHN0YXRlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMubWF4QXR0cmlicyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkVSVEVYX0FUVFJJQlMpO1xuXG4gICAgICAgIHRoaXMuYXR0cmliU3RhdGUgPSB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGU6IG5ldyBBcnJheSh0aGlzLm1heEF0dHJpYnMpLFxuICAgICAgICAgICAgYXR0cmliU3RhdGU6IG5ldyBBcnJheSh0aGlzLm1heEF0dHJpYnMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gKDAsIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyLmRlZmF1bHQpKGdsKTtcblxuICAgICAgICAvLyBjaGVjayB3ZSBoYXZlIHZhby4uXG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBuZXcgYWN0aXZlIHN0YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKCkge1xuICAgICAgICAvLyBuZXh0IHN0YXRlLi5cbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrSW5kZXhdO1xuXG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrSW5kZXhdID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICB9XG5cbiAgICAgICAgKyt0aGlzLnN0YWNrSW5kZXg7XG5cbiAgICAgICAgLy8gY29weSBzdGF0ZS4uXG4gICAgICAgIC8vIHNldCBhY3RpdmUgc3RhdGUgc28gd2UgY2FuIGZvcmNlIG92ZXJyaWRlcyBvZiBnbCBzdGF0ZVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aXZlU3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXRlW2ldID0gdGhpcy5hY3RpdmVTdGF0ZVtpXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIGEgc3RhdGUgb3V0XG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGFja1stLXRoaXMuc3RhY2tJbmRleF07XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc2V0QmxlbmQoc3RhdGVbQkxFTkRdKTtcbiAgICAgICAgdGhpcy5zZXREZXB0aFRlc3Qoc3RhdGVbREVQVEhfVEVTVF0pO1xuICAgICAgICB0aGlzLnNldEZyb250RmFjZShzdGF0ZVtGUk9OVF9GQUNFXSk7XG4gICAgICAgIHRoaXMuc2V0Q3VsbEZhY2Uoc3RhdGVbQ1VMTF9GQUNFXSk7XG4gICAgICAgIHRoaXMuc2V0QmxlbmRNb2RlKHN0YXRlW0JMRU5EX0ZVTkNdKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiBzZXRCbGVuZCh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtCTEVORF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5hY3RpdmVTdGF0ZVtCTEVORF9GVU5DXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtCTEVORF9GVU5DXSA9IHZhbHVlO1xuXG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcblxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgZGVwdGggdGVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBkZXB0aCB0ZXN0aW5nLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXREZXB0aFRlc3QgPSBmdW5jdGlvbiBzZXREZXB0aFRlc3QodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0RFUFRIX1RFU1RdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtERVBUSF9URVNUXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRDdWxsRmFjZSA9IGZ1bmN0aW9uIHNldEN1bGxGYWNlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtDVUxMX0ZBQ0VdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtDVUxMX0ZBQ0VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5DVUxMX0ZBQ0UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRGcm9udEZhY2UgPSBmdW5jdGlvbiBzZXRGcm9udEZhY2UodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0ZST05UX0ZBQ0VdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtGUk9OVF9GQUNFXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGFsbCB0aGUgdmFvcyBpbiB1c2VcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5yZXNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiByZXNldEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmliU3RhdGUudGVtcEF0dHJpYlN0YXRlW2ldID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZVtfaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW0gZ29pbmcgdG8gYXNzdW1lIG9uZSBpcyBhbHdheXMgYWN0aXZlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICBmb3IgKHZhciBfaTIgPSAxOyBfaTIgPCB0aGlzLm1heEF0dHJpYnM7IF9pMisrKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShfaTIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucmVzZXRUb0RlZmF1bHQgPSBmdW5jdGlvbiByZXNldFRvRGVmYXVsdCgpIHtcbiAgICAgICAgLy8gdW5iaW5kIGFueSBWQU8gaWYgdGhleSBleGlzdC4uXG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbikge1xuICAgICAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgYWxsIGF0dHJpYnV0ZXMuLlxuICAgICAgICB0aGlzLnJlc2V0QXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIHNldCBhY3RpdmUgc3RhdGUgc28gd2UgY2FuIGZvcmNlIG92ZXJyaWRlcyBvZiBnbCBzdGF0ZVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aXZlU3RhdGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbaV0gPSAzMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWJHTFN0YXRlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFN0YXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xTdGF0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCkge1xuICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtvYmplY3Q9e31dIC0gVGhlIG9iamVjdCB0byBtYXAgaW50b1xuICogQHJldHVybiB7b2JqZWN0fSBUaGUgbWFwcGVkIGRyYXcgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpKGdsKSB7XG4gIHZhciBvYmplY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5QT0lOVFNdID0gZ2wuUE9JTlRTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORVNdID0gZ2wuTElORVM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX0xPT1BdID0gZ2wuTElORV9MT09QO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORV9TVFJJUF0gPSBnbC5MSU5FX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVTXSA9IGdsLlRSSUFOR0xFUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlRSSUFOR0xFX1NUUklQXSA9IGdsLlRSSUFOR0xFX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXSA9IGdsLlRSSUFOR0xFX0ZBTjtcblxuICByZXR1cm4gb2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdmFsaWRhdGVDb250ZXh0O1xuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0KGdsKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVDb250ZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTsnLCAndm9pZCBtYWluKHZvaWQpeycsICd2ZWM0IGNvbG9yOycsICdmbG9hdCB0ZXh0dXJlSWQgPSBmbG9vcih2VGV4dHVyZUlkKzAuNSk7JywgJyVmb3Jsb29wJScsICdnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcihnbCwgbWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgdmVydGV4U3JjID0gJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3I7XFxufVxcbic7XG4gICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBtYXhUZXh0dXJlcyk7XG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG5cbiAgICB2YXIgc2hhZGVyID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQoZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgfVxuXG4gICAgc2hhZGVyLmJpbmQoKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXJzID0gc2FtcGxlVmFsdWVzO1xuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9ICdpZih0ZXh0dXJlSWQgPT0gJyArIGkgKyAnLjApJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgIHNyYyArPSAnXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWycgKyBpICsgJ10sIHZUZXh0dXJlQ29vcmQpOyc7XG4gICAgICAgIHNyYyArPSAnXFxufSc7XG4gICAgfVxuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIHJldHVybiBzcmM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXI7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsICd2b2lkIG1haW4odm9pZCl7JywgJ2Zsb2F0IHRlc3QgPSAwLjE7JywgJyVmb3Jsb29wJScsICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyKG1heElmcywgZ2wpIHtcbiAgICB2YXIgY3JlYXRlVGVtcENvbnRleHQgPSAhZ2w7XG5cbiAgICAvLyBAaWYgREVCVUdcbiAgICBpZiAobWF4SWZzID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYCcpO1xuICAgIH1cbiAgICAvLyBAZW5kaWZcblxuICAgIGlmIChjcmVhdGVUZW1wQ29udGV4dCkge1xuICAgICAgICB2YXIgdGlueUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIHRpbnlDYW52YXMud2lkdGggPSAxO1xuICAgICAgICB0aW55Q2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICAgICAgZ2wgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5jcmVhdGVDb250ZXh0KHRpbnlDYW52YXMpO1xuICAgIH1cblxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcblxuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIHtcbiAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG5cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIG1heElmcyA9IG1heElmcyAvIDIgfCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjcmVhdGVUZW1wQ29udGV4dCkge1xuICAgICAgICAvLyBnZXQgcmlkIG9mIGNvbnRleHRcbiAgICAgICAgaWYgKGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICAgIHZhciBzcmMgPSAnJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9ICdpZih0ZXN0ID09ICcgKyBpICsgJy4wKXt9JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gQnVmZmVyKHNpemUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyKTtcblxuICAgIHRoaXMudmVydGljZXMgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIEZsb2F0MzJBcnJheSBmb3IgcG9zaXRpb25zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIFVpbnQzMkFycmF5IGZvciB1dnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgIHRoaXMucG9zaXRpb25zID0gbnVsbDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9TcHJpdGUyID0gcmVxdWlyZSgnLi4vc3ByaXRlcy9TcHJpdGUnKTtcblxudmFyIF9TcHJpdGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlMik7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX1RleHRTdHlsZSA9IHJlcXVpcmUoJy4vVGV4dFN0eWxlJyk7XG5cbnZhciBfVGV4dFN0eWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRTdHlsZSk7XG5cbnZhciBfVGV4dE1ldHJpY3MgPSByZXF1aXJlKCcuL1RleHRNZXRyaWNzJyk7XG5cbnZhciBfVGV4dE1ldHJpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dE1ldHJpY3MpO1xuXG52YXIgX3RyaW1DYW52YXMgPSByZXF1aXJlKCcuLi91dGlscy90cmltQ2FudmFzJyk7XG5cbnZhciBfdHJpbUNhbnZhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmltQ2FudmFzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBlc2xpbnQgbWF4LWRlcHRoOiBbMiwgOF0gKi9cblxuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLFxuICogb3IgYWRkIGEgd29yZFdyYXAgcHJvcGVydHkgc2V0IHRvIHRydWUgYW5kIGFuZCB3b3JkV3JhcFdpZHRoIHByb3BlcnR5IHdpdGggYSB2YWx1ZSBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gKF9TcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGV4dCwgX1Nwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHQpO1xuXG4gICAgICAgIGNhbnZhcyA9IGNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzLCBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSwgJ3RleHQnKTtcblxuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcblxuICAgICAgICAvLyBiYXNlIHRleHR1cmUgaXMgYWxyZWFkeSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIHRoZSBjYWNoZSwgbm93IGFkZGluZyB0aGUgYWN0dWFsIHRleHR1cmVcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Nwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKF90aGlzLl90ZXh0dXJlLCBfdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbMF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLiBUaGlzIGlzIHNldCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuXG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0KHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IF9UZXh0TWV0cmljczIuZGVmYXVsdC5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0LCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblggPSB2b2lkIDA7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzdHlsZS5kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3dCbHVyID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4U2hhZG93T2Zmc2V0ID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIHZhciB5U2hhZG93T2Zmc2V0ID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNoYWRvdyBibHVyIGFuZCBhbHBoYSB0aGF0IHdhcyBzZXQgYnkgdGhlIGRyb3Agc2hhZG93LCBmb3IgdGhlIHJlZ3VsYXIgdGV4dFxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcblxuICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGluZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgX2kgKiBsaW5lSGVpZ2h0ICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5KSB7XG4gICAgICAgIHZhciBpc1N0cm9rZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFyYWN0ZXJzID0gU3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHRleHQsICcnKTtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gJyc7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjaGFyYWN0ZXJzW2luZGV4KytdO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnQsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGN1cnJlbnQpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSAoMCwgX3RyaW1DYW52YXMyLmRlZmF1bHQpKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnJlYWxXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgYmFzZVRleHR1cmUucmVhbEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGJhc2VUZXh0dXJlLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIHBhZGRpbmcgKiAyO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gcGFkZGluZyAqIDI7XG5cbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5lbWl0KCd1cGRhdGUnLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUucmVuZGVyV2ViR0wuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gX1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29jb29uIG9uIGNhbnZhcysgY2Fubm90IGdlbmVyYXRlIHRleHR1cmVzLCBzbyB1c2UgdGhlIGZpcnN0IGNvbG91ciBpbnN0ZWFkXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGxbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmZpbGwuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gKGZpbGwubGVuZ3RoICsgMSkgKiBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxpbmVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGggKyBfaTIgLyBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGZpbGwubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbX2kzXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW19pM107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW19pM10pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0LCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgX1RleHRTdHlsZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IF9UZXh0U3R5bGUyLmRlZmF1bHQoc3R5bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09ICcnIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJyAnIDogdGV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0O1xufShfU3ByaXRlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHJpbUNhbnZhcztcbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcykge1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG5cbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG5cbiAgICB2YXIgYm91bmQgPSB7XG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIGJvdHRvbTogbnVsbFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpID0gdm9pZCAwO1xuICAgIHZhciB4ID0gdm9pZCAwO1xuICAgIHZhciB5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gaSAvIDQgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+fihpIC8gNCAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJpbUNhbnZhcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbnZhciBfUmVuZGVyVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9HcmFwaGljc0RhdGEnKTtcblxudmFyIF9HcmFwaGljc0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NEYXRhKTtcblxudmFyIF9TcHJpdGUgPSByZXF1aXJlKCcuLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG52YXIgX1Nwcml0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0JvdW5kcycpO1xuXG52YXIgX0JvdW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpO1xuXG52YXIgX2JlemllckN1cnZlVG8yID0gcmVxdWlyZSgnLi91dGlscy9iZXppZXJDdXJ2ZVRvJyk7XG5cbnZhciBfYmV6aWVyQ3VydmVUbzMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iZXppZXJDdXJ2ZVRvMik7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBjYW52YXNSZW5kZXJlciA9IHZvaWQgMDtcbnZhciB0ZW1wTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xudmFyIHRlbXBQb2ludCA9IG5ldyBfbWF0aC5Qb2ludCgpO1xudmFyIHRlbXBDb2xvcjEgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xudmFyIHRlbXBDb2xvcjIgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBHcmFwaGljcyA9IGZ1bmN0aW9uIChfQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKEdyYXBoaWNzLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlTGluZXM9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljcygpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUxpbmVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3MpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxwaGEgdmFsdWUgdXNlZCB3aGVuIGZpbGxpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGluZVdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xvciBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGluZUNvbG9yID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lQWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmFwaGljcyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQXBwbHkgYSB2YWx1ZSBvZiAweEZGRkZGRiB0b1xuICAgICAgICAgKiByZXNldCB0aGUgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBVc2VkIHRvIGNvbXBhcmUgdG8gdGhlIGN1cnJlbnQgdGludCBhbmRcbiAgICAgICAgICogY2hlY2sgaWYgdGhlcmVzIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ByZXZUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGF9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFycmF5IGNvbnRhaW5pbmcgc29tZSBXZWJHTC1yZWxhdGVkIHByb3BlcnRpZXMgdXNlZCBieSB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIG9iamVjdD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICAvLyBUT0RPIC0gX3dlYmdsIHNob3VsZCB1c2UgYSBwcm90b3R5cGUgb2JqZWN0LCBub3QgYSByYW5kb20gdW5kb2N1bWVudGVkIG9iamVjdC4uLlxuICAgICAgICBfdGhpcy5fd2ViR0wgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNoYXBlIGlzIGJlaW5nIHVzZWQgYXMgYSBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMnIHBhZGRpbmcgdXNlZCBmb3IgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYWNoZSBvZiB0aGUgbG9jYWwgYm91bmRzIHRvIHByZXZlbnQgcmVjYWxjdWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXcgX0JvdW5kczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLiBJZiB0aGlzIGlzIHNldCB0byB0cnVlIHRoZW4gdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB3aWxsIGJlIHJlY2FsY3VsYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgbmVlZCB0byBkbyBhIGZhc3QgcmVjdCBjaGVjayB1c2luZyB0aGUgaWQgY29tcGFyZSBtZXRob2RcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZhc3RSZWN0RGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXIgdGhlIGdyYXBoaWNzIHdlYkdMIGRhdGFcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlIGxvY2FsIGJvdW5kc1xuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGNhY2hlZCBzcHJpdGUgb2JqZWN0IG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLl9zcHJpdGVSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2Zhc3RSZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuX3ByZXZSZWN0VGludCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9wcmV2UmVjdEZpbGxDb2xvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmUgPSBuZXcgR3JhcGhpY3MoKTtcblxuICAgICAgICBjbG9uZS5yZW5kZXJhYmxlID0gdGhpcy5yZW5kZXJhYmxlO1xuICAgICAgICBjbG9uZS5maWxsQWxwaGEgPSB0aGlzLmZpbGxBbHBoYTtcbiAgICAgICAgY2xvbmUubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNsb25lLmxpbmVDb2xvciA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICBjbG9uZS5saW5lQWxpZ25tZW50ID0gdGhpcy5saW5lQWxpZ25tZW50O1xuICAgICAgICBjbG9uZS50aW50ID0gdGhpcy50aW50O1xuICAgICAgICBjbG9uZS5ibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgY2xvbmUuaXNNYXNrID0gdGhpcy5pc01hc2s7XG4gICAgICAgIGNsb25lLmJvdW5kc1BhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG4gICAgICAgIGNsb25lLmRpcnR5ID0gMDtcbiAgICAgICAgY2xvbmUuY2FjaGVkU3ByaXRlRGlydHkgPSB0aGlzLmNhY2hlZFNwcml0ZURpcnR5O1xuXG4gICAgICAgIC8vIGNvcHkgZ3JhcGhpY3MgZGF0YVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjbG9uZS5ncmFwaGljc0RhdGEucHVzaCh0aGlzLmdyYXBoaWNzRGF0YVtpXS5jbG9uZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb25lLmN1cnJlbnRQYXRoID0gY2xvbmUuZ3JhcGhpY3NEYXRhW2Nsb25lLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBjbG9uZS51cGRhdGVMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3Lm1hbGN6YWsubGludXhwbC5jb20vYmxvZy9xdWFkcmF0aWMtYmV6aWVyLWN1cnZlLWxlbmd0aC99XG4gICAgICogZm9yIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvZiBtYXRoIGJlaGluZCB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcXVhZHJhdGljQ3VydmVMZW5ndGggPSBmdW5jdGlvbiBfcXVhZHJhdGljQ3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIGF4ID0gZnJvbVggLSAoMi4wICogY3BYICsgdG9YKTtcbiAgICAgICAgdmFyIGF5ID0gZnJvbVkgLSAoMi4wICogY3BZICsgdG9ZKTtcbiAgICAgICAgdmFyIGJ4ID0gMi4wICogKChjcFggLSAyLjApICogZnJvbVgpO1xuICAgICAgICB2YXIgYnkgPSAyLjAgKiAoKGNwWSAtIDIuMCkgKiBmcm9tWSk7XG4gICAgICAgIHZhciBhID0gNC4wICogKGF4ICogYXggKyBheSAqIGF5KTtcbiAgICAgICAgdmFyIGIgPSA0LjAgKiAoYXggKiBieCArIGF5ICogYnkpO1xuICAgICAgICB2YXIgYyA9IGJ4ICogYnggKyBieSAqIGJ5O1xuXG4gICAgICAgIHZhciBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICAgICAgdmFyIGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgdmFyIGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgICAgICB2YXIgYmEgPSBiIC8gYTI7XG5cbiAgICAgICAgcmV0dXJuIChhMzIgKiBzICsgYTIgKiBiICogKHMgLSBjMikgKyAoNC4wICogYyAqIGEgLSBiICogYikgKiBNYXRoLmxvZygoMi4wICogYTIgKyBiYSArIHMpIC8gKGJhICsgYzIpKSkgLyAoNC4wICogYTMyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBiZXppZXIgY3VydmUuXG4gICAgICogQW5hbHl0aWNhbCBzb2x1dGlvbiBpcyBpbXBvc3NpYmxlLCBzaW5jZSBpdCBpbnZvbHZlcyBhbiBpbnRlZ3JhbCB0aGF0IGRvZXMgbm90IGludGVncmF0ZSBpbiBnZW5lcmFsLlxuICAgICAqIFRoZXJlZm9yZSBudW1lcmljYWwgc29sdXRpb24gaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBiZXppZXIgY3VydmVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9iZXppZXJDdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIF9iZXppZXJDdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgbiA9IDEwO1xuICAgICAgICB2YXIgcmVzdWx0ID0gMC4wO1xuICAgICAgICB2YXIgdCA9IDAuMDtcbiAgICAgICAgdmFyIHQyID0gMC4wO1xuICAgICAgICB2YXIgdDMgPSAwLjA7XG4gICAgICAgIHZhciBudCA9IDAuMDtcbiAgICAgICAgdmFyIG50MiA9IDAuMDtcbiAgICAgICAgdmFyIG50MyA9IDAuMDtcbiAgICAgICAgdmFyIHggPSAwLjA7XG4gICAgICAgIHZhciB5ID0gMC4wO1xuICAgICAgICB2YXIgZHggPSAwLjA7XG4gICAgICAgIHZhciBkeSA9IDAuMDtcbiAgICAgICAgdmFyIHByZXZYID0gZnJvbVg7XG4gICAgICAgIHZhciBwcmV2WSA9IGZyb21ZO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICAgICAgbnQgPSAxLjAgLSB0O1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuXG4gICAgICAgICAgICB4ID0gbnQzICogZnJvbVggKyAzLjAgKiBudDIgKiB0ICogY3BYICsgMy4wICogbnQgKiB0MiAqIGNwWDIgKyB0MyAqIHRvWDtcbiAgICAgICAgICAgIHkgPSBudDMgKiBmcm9tWSArIDMuMCAqIG50MiAqIHQgKiBjcFkgKyAzICogbnQgKiB0MiAqIGNwWTIgKyB0MyAqIHRvWTtcbiAgICAgICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICBwcmV2WSA9IHk7XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIG51bWJlciBvZiBzZWdtZW50cyBmb3IgdGhlIGN1cnZlIGJhc2VkIG9uIGl0cyBsZW5ndGggdG8gZW5zdXJlIGl0cyBzbW9vdGhuZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gbGVuZ3RoIG9mIGN1cnZlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2Ygc2VnbWVudHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9zZWdtZW50c0NvdW50ID0gZnVuY3Rpb24gX3NlZ21lbnRzQ291bnQobGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gR3JhcGhpY3MuQ1VSVkVTLm1heExlbmd0aCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA8IEdyYXBoaWNzLkNVUlZFUy5taW5TZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gR3JhcGhpY3MuQ1VSVkVTLm1pblNlZ21lbnRzO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA+IEdyYXBoaWNzLkNVUlZFUy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gR3JhcGhpY3MuQ1VSVkVTLm1heFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGluZVdpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiBsaW5lU3R5bGUoKSB7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgICB2YXIgYWxpZ25tZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwLjU7XG5cbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gYWxwaGE7XG4gICAgICAgIHRoaXMubGluZUFsaWdubWVudCA9IGFsaWdubWVudDtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGhhbGZ3YXkgdGhyb3VnaCBhIGxpbmU/IHN0YXJ0IGEgbmV3IG9uZSFcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5zbGljZSgtMikpO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUuY2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpdHMgZW1wdHkgc28gbGV0cyBqdXN0IHNldCB0aGUgbGluZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvciA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUFscGhhID0gdGhpcy5saW5lQWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQWxpZ25tZW50ID0gdGhpcy5saW5lQWxpZ25tZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihbeCwgeV0pO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvKHgsIHkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuXG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG4gPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmUgPyB0aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX3F1YWRyYXRpY0N1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSkgOiAyMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoY3BYIC0gZnJvbVgpICogajtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoY3BZIC0gZnJvbVkpICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoY3BYICsgKHRvWCAtIGNwWCkgKiBqIC0geGEpICogaiwgeWEgKyAoY3BZICsgKHRvWSAtIGNwWSkgKiBqIC0geWEpICogaik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgdmFyIG4gPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmUgPyB0aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX2JlemllckN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSkgOiAyMDtcblxuICAgICAgICAoMCwgX2JlemllckN1cnZlVG8zLmRlZmF1bHQpKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBuLCBwb2ludHMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uIGFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicyhhMSAqIGIyIC0gYjEgKiBhMik7XG5cbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZCA9IGExICogYTEgKyBiMSAqIGIxO1xuICAgICAgICAgICAgdmFyIGNjID0gYTIgKiBhMiArIGIyICogYjI7XG4gICAgICAgICAgICB2YXIgdHQgPSBhMSAqIGEyICsgYjEgKiBiMjtcbiAgICAgICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgICAgIHZhciBjeCA9IGsxICogYjIgKyBrMiAqIGIxO1xuICAgICAgICAgICAgdmFyIGN5ID0gazEgKiBhMiArIGsyICogYTE7XG4gICAgICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4ICsgeDEsIGN5ICsgeTEsIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGIxICogYTIgPiBiMiAqIGExKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpIHtcbiAgICAgICAgdmFyIGFudGljbG9ja3dpc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gX2NvbnN0LlBJXzI7XG4gICAgICAgIH0gZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgc2VncyA9IEdyYXBoaWNzLkNVUlZFUy5hZGFwdGl2ZSA/IHRoaXMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzKSA6IE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBfY29uc3QuUElfMikgKiA0MDtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXM7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzIDogbnVsbDtcblxuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuXG4gICAgICAgICAgICBpZiAoeERpZmYgPCAwLjAwMSAmJiB5RGlmZiA8IDAuMDAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBvaW50IGlzIHZlcnkgY2xvc2UsIHdlIGRvbid0IGFkZCBpdCwgc2luY2UgdGhpcyB3b3VsZCBsZWFkIHRvIGFydGlmYWN0c1xuICAgICAgICAgICAgICAgIC8vIGR1cmluZyB0ZXNzZWxhdGlvbiBkdWUgdG8gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb24uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRoZXRhID0gc3dlZXAgLyAoc2VncyAqIDIpO1xuICAgICAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuXG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG5cbiAgICAgICAgdmFyIHNlZ01pbnVzID0gc2VncyAtIDE7XG5cbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IHNlZ01pbnVzICUgMSAvIHNlZ01pbnVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWFsID0gaSArIHJlbWFpbmRlciAqIGk7XG5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9IHRoZXRhICsgc3RhcnRBbmdsZSArIHRoZXRhMiAqIHJlYWw7XG5cbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCgoY1RoZXRhICogYyArIHNUaGV0YSAqIHMpICogcmFkaXVzICsgY3gsIChjVGhldGEgKiAtcyArIHNUaGV0YSAqIGMpICogcmFkaXVzICsgY3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIGJlZ2luRmlsbCgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdGhpcy5maWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsID0gdGhpcy5maWxsaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbENvbG9yID0gdGhpcy5maWxsQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsQWxwaGEgPSB0aGlzLmZpbGxBbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uIGVuZEZpbGwoKSB7XG4gICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0ID0gZnVuY3Rpb24gZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gZHJhd1JvdW5kZWRSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkNpcmNsZSh4LCB5LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uIGRyYXdFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24ocGF0aCkge1xuICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBhc3NpZ25tZW50IGRlb3B0XG4gICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMTogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgIHZhciBwb2ludHMgPSBwYXRoO1xuXG4gICAgICAgIHZhciBjbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChwb2ludHMgaW5zdGFuY2VvZiBfbWF0aC5Qb2x5Z29uKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSBwb2ludHMuY2xvc2VkO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBsZWFrIGRlb3B0XG4gICAgICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjI6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgICAgcG9pbnRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50c1tpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBfbWF0aC5Qb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VkID0gY2xvc2VkO1xuXG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gZHJhd1N0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAtMSAqIE1hdGguUEkgLyAyICsgcm90YXRpb247XG4gICAgICAgIHZhciBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICB2YXIgZGVsdGEgPSBfY29uc3QuUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBpICogZGVsdGEgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goeCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHkgKyByICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKHBvbHlnb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZHRoIHx8IHRoaXMuZmlsbGluZyB8fCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmxpbmVBbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc1RpbnREaXJ0eSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gaXNGYXN0UmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QgJiYgIXRoaXMuZ3JhcGhpY3NEYXRhWzBdLmxpbmVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ICE9PSB0aGlzLmZhc3RSZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZmFzdFJlY3REaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLl9mYXN0UmVjdCA9IHRoaXMuaXNGYXN0UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyB0aGlzIGNoZWNrIGNhbiBiZSBtb3ZlZCB0byBkaXJ0eT9cbiAgICAgICAgaWYgKHRoaXMuX2Zhc3RSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJTcHJpdGVSZWN0KHJlbmRlcmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHNwcml0ZSByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlclNwcml0ZVJlY3QgPSBmdW5jdGlvbiBfcmVuZGVyU3ByaXRlUmVjdChyZW5kZXJlcikge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlO1xuXG4gICAgICAgIGlmICghdGhpcy5fc3ByaXRlUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVjdCA9IG5ldyBfU3ByaXRlMi5kZWZhdWx0KG5ldyBfVGV4dHVyZTIuZGVmYXVsdChfVGV4dHVyZTIuZGVmYXVsdC5XSElURSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuX3Nwcml0ZVJlY3Q7XG4gICAgICAgIHZhciBmaWxsQ29sb3IgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3I7XG5cbiAgICAgICAgaWYgKHRoaXMudGludCA9PT0gMHhmZmZmZmYpIHtcbiAgICAgICAgICAgIHNwcml0ZS50aW50ID0gZmlsbENvbG9yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGludCAhPT0gdGhpcy5fcHJldlJlY3RUaW50IHx8IGZpbGxDb2xvciAhPT0gdGhpcy5fcHJldlJlY3RGaWxsQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciB0MSA9IHRlbXBDb2xvcjE7XG4gICAgICAgICAgICB2YXIgdDIgPSB0ZW1wQ29sb3IyO1xuXG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKGZpbGxDb2xvciwgdDEpO1xuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh0aGlzLnRpbnQsIHQyKTtcblxuICAgICAgICAgICAgdDFbMF0gKj0gdDJbMF07XG4gICAgICAgICAgICB0MVsxXSAqPSB0MlsxXTtcbiAgICAgICAgICAgIHQxWzJdICo9IHQyWzJdO1xuXG4gICAgICAgICAgICBzcHJpdGUudGludCA9ICgwLCBfdXRpbHMucmdiMmhleCkodDEpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmV2UmVjdFRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICB0aGlzLl9wcmV2UmVjdEZpbGxDb2xvciA9IGZpbGxDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNwcml0ZS5hbHBoYSA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxBbHBoYTtcbiAgICAgICAgc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBzcHJpdGUuYWxwaGE7XG4gICAgICAgIHNwcml0ZS5ibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICBzcHJpdGUuX3RleHR1cmUuX2ZyYW1lLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSByZWN0LmhlaWdodDtcblxuICAgICAgICBzcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgc3ByaXRlLmFuY2hvci5zZXQoLXJlY3QueCAvIHJlY3Qud2lkdGgsIC1yZWN0LnkgLyByZWN0LmhlaWdodCk7XG4gICAgICAgIHNwcml0ZS5fb25BbmNob3JVcGRhdGUoKTtcblxuICAgICAgICBzcHJpdGUuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNYXNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGIgPSB0aGlzLl9sb2NhbEJvdW5kcztcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIGxiLm1pblgsIGxiLm1pblksIGxiLm1heFgsIGxiLm1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZGF0YS5ob2xlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbX2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnVwZGF0ZUxvY2FsQm91bmRzID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIHZhciBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54IC0gbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnkgLSBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNoYXBlLnBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ3ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN5ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiArIDIgPCBwb2ludHMubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gcG9pbnRzW2ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gcG9pbnRzW2ogKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeDIgLSB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeTIgLSB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ3ID0gKGggLyB3ICogZHkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoaCAvIHcgKiBkeCArIGR5KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9ICh4MiArIHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gKHkyICsgeSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0gY3ggLSBydyA8IG1pblggPyBjeCAtIHJ3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSBjeCArIHJ3ID4gbWF4WCA/IGN4ICsgcncgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0gY3kgLSByaCA8IG1pblkgPyBjeSAtIHJoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSBjeSArIHJoID4gbWF4WSA/IGN5ICsgcmggOiBtYXhZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluWCA9IDA7XG4gICAgICAgICAgICBtYXhYID0gMDtcbiAgICAgICAgICAgIG1pblkgPSAwO1xuICAgICAgICAgICAgbWF4WSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5YID0gbWluWCAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5ZID0gbWluWSAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFkgPSBtYXhZICsgcGFkZGluZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gVGhlIGdlbmVyYXRlZCBHcmFwaGljc0RhdGEgb2JqZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlKHNoYXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBjdXJyZW50IHBhdGghXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IF9HcmFwaGljc0RhdGEyLmRlZmF1bHQodGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUNvbG9yLCB0aGlzLmxpbmVBbHBoYSwgdGhpcy5maWxsQ29sb3IsIHRoaXMuZmlsbEFscGhhLCB0aGlzLmZpbGxpbmcsIHRoaXMubmF0aXZlTGluZXMsIHNoYXBlLCB0aGlzLmxpbmVBbGlnbm1lbnQpO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICBkYXRhLnNoYXBlLmNsb3NlZCA9IGRhdGEuc2hhcGUuY2xvc2VkO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGNhbnZhcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IF9SZW5kZXJUZXh0dXJlMi5kZWZhdWx0LmNyZWF0ZShib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgaWYgKCFjYW52YXNSZW5kZXJlcikge1xuICAgICAgICAgICAgY2FudmFzUmVuZGVyZXIgPSBuZXcgX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5KHRlbXBNYXRyaXgpO1xuXG4gICAgICAgIHRlbXBNYXRyaXguaW52ZXJ0KCk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC50eCAtPSBib3VuZHMueDtcbiAgICAgICAgdGVtcE1hdHJpeC50eSAtPSBib3VuZHMueTtcblxuICAgICAgICBjYW52YXNSZW5kZXJlci5yZW5kZXIodGhpcywgY2FudmFzQnVmZmVyLCB0cnVlLCB0ZW1wTWF0cml4KTtcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzQnVmZmVyLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY2FudmFzLCBzY2FsZU1vZGUsICdncmFwaGljcycpO1xuXG4gICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiBjbG9zZVBhdGgoKSB7XG4gICAgICAgIC8vIG9rIHNvIGNsb3NlIHBhdGggYXNzdW1lcyBuZXh0IG9uZSBpcyBhIGhvbGUhXG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuY3VycmVudFBhdGg7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQYXRoICYmIGN1cnJlbnRQYXRoLnNoYXBlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zaGFwZS5jbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBob2xlIGluIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFkZEhvbGUgPSBmdW5jdGlvbiBhZGRIb2xlKCkge1xuICAgICAgICAvLyB0aGlzIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGhvbGUgPSB0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5hZGRIb2xlKGhvbGUuc2hhcGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvciBlYWNoIHdlYmdsIGRhdGEgZW50cnksIGRlc3Ryb3kgdGhlIFdlYkdMR3JhcGhpY3NEYXRhXG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX3dlYkdMKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX3dlYkdMW2lkXS5kYXRhLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2ViR0xbaWRdLmRhdGFbal0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nwcml0ZVJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl93ZWJHTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShfQ29udGFpbmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3M7XG5cblxuR3JhcGhpY3MuX1NQUklURV9URVhUVVJFID0gbnVsbDtcblxuLyoqXG4gKiBHcmFwaGljcyBjdXJ2ZXMgcmVzb2x1dGlvbiBzZXR0aW5ncy4gSWYgYGFkYXB0aXZlYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAsXG4gKiB0aGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBjdXJ2ZSdzIGxlbmd0aCB0byBlbnN1cmUgYmV0dGVyIHZpc3VhbCBxdWFsaXR5LlxuICogQWRhcHRpdmUgZHJhdyB3b3JrcyB3aXRoIGBiZXppZXJDdXJ2ZVRvYCBhbmQgYHF1YWRyYXRpY0N1cnZlVG9gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NcbiAqIEBuYW1lIENVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRhcHRpdmU9ZmFsc2UgLSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIHJlc29sdXRpb24gc2hvdWxkIGJlIGFkYXB0aXZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4TGVuZ3RoPTEwIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluU2VnbWVudHM9OCAtIG1pbmltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhTZWdtZW50cz0yMDQ4IC0gbWF4aW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICovXG5HcmFwaGljcy5DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IGZhbHNlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6IDIwNDhcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJlemllckN1cnZlVG87XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIE51bWJlciBvZiBzZWdtZW50cyBhcHByb3hpbWF0aW5nIHRoZSBiZXppZXIgY3VydmVcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtwYXRoPVtdXSAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICogQHJldHVybiB7bnVtYmVyW119IEFycmF5IG9mIHBvaW50cyBvZiB0aGUgY3VydmVcbiAqL1xuZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgbikge1xuICAgIHZhciBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDkgJiYgYXJndW1lbnRzWzldICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbOV0gOiBbXTtcblxuICAgIHZhciBkdCA9IDA7XG4gICAgdmFyIGR0MiA9IDA7XG4gICAgdmFyIGR0MyA9IDA7XG4gICAgdmFyIHQyID0gMDtcbiAgICB2YXIgdDMgPSAwO1xuXG4gICAgcGF0aC5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICBkdCA9IDEgLSBqO1xuICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICBkdDMgPSBkdDIgKiBkdDtcblxuICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICBwYXRoLnB1c2goZHQzICogZnJvbVggKyAzICogZHQyICogaiAqIGNwWCArIDMgKiBkdCAqIHQyICogY3BYMiArIHQzICogdG9YLCBkdDMgKiBmcm9tWSArIDMgKiBkdDIgKiBqICogY3BZICsgMyAqIGR0ICogdDIgKiBjcFkyICsgdDMgKiB0b1kpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmV6aWVyQ3VydmVUby5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL1dlYkdMR3JhcGhpY3NEYXRhJyk7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xHcmFwaGljc0RhdGEpO1xuXG52YXIgX1ByaW1pdGl2ZVNoYWRlciA9IHJlcXVpcmUoJy4vc2hhZGVycy9QcmltaXRpdmVTaGFkZXInKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJpbWl0aXZlU2hhZGVyKTtcblxudmFyIF9idWlsZFBvbHkgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUG9seScpO1xuXG52YXIgX2J1aWxkUG9seTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFBvbHkpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJvdW5kZWRSZWN0YW5nbGUpO1xuXG52YXIgX2J1aWxkQ2lyY2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZENpcmNsZScpO1xuXG52YXIgX2J1aWxkQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkQ2lyY2xlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBHcmFwaGljc1JlbmRlcmVyID0gZnVuY3Rpb24gKF9PYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhHcmFwaGljc1JlbmRlcmVyLCBfT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgb2JqZWN0IHJlbmRlcmVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICBfdGhpcy5wcmltaXRpdmVTaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZWFzeSBhY2Nlc3MhXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMucHJpbWl0aXZlU2hhZGVyID0gbmV3IF9QcmltaXRpdmVTaGFkZXIyLmRlZmF1bHQodGhpcy5nbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGFQb29sLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2xbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXdlYkdMIHx8IGdyYXBoaWNzLmRpcnR5ICE9PSB3ZWJHTC5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljcyhncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhpcyAgY291bGQgYmUgc3BlZWRlZCB1cCBmb3Igc3VyZSFcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMucHJpbWl0aXZlU2hhZGVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB3ZWJHTC5kYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gd2ViR0wuZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFkZXJUZW1wID0gd2ViR0xEYXRhLnNoYWRlcjtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXJUZW1wKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBncmFwaGljcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudGludCA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3MudGludCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLmFscGhhID0gZ3JhcGhpY3Mud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh3ZWJHTERhdGEudmFvKTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORVMsIDAsIHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoIC8gNik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS52YW8uZHJhdyhnbC5UUklBTkdMRV9TVFJJUCwgd2ViR0xEYXRhLmluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gdXBkYXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBnZXQgdGhlIGNvbnRleHRzIGdyYXBoaWNzIG9iamVjdFxuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgd2ViR0wgY29udGV4dCB0aW1lIHRvIGNyZWF0ZSBpdCFcbiAgICAgICAgaWYgKCF3ZWJHTCkge1xuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF0gPSB7IGxhc3RJbmRleDogMCwgZGF0YTogW10sIGdsOiBnbCwgY2xlYXJEaXJ0eTogLTEsIGRpcnR5OiAtMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyB0aGUgZ3JhcGhpY3MgYXMgbm90IGRpcnR5IGFzIHdlIGFyZSBhYm91dCB0byB1cGRhdGUgaXQuLi5cbiAgICAgICAgd2ViR0wuZGlydHkgPSBncmFwaGljcy5kaXJ0eTtcblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBjbGVhcmVkIHRoZSBncmFwaGljcyBvYmplY3Qgd2Ugd2lsbCBuZWVkIHRvIGNsZWFyIGV2ZXJ5IG9iamVjdFxuICAgICAgICBpZiAoZ3JhcGhpY3MuY2xlYXJEaXJ0eSAhPT0gd2ViR0wuY2xlYXJEaXJ0eSkge1xuICAgICAgICAgICAgd2ViR0wuY2xlYXJEaXJ0eSA9IGdyYXBoaWNzLmNsZWFyRGlydHk7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbmQgcmV0dXJuIGFsbCB0aGUgd2ViR0xEYXRhcyB0byB0aGUgb2JqZWN0IHBvb2wgc28gdGhhbiBjYW4gYmUgcmV1c2VkIGxhdGVyIG9uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYkdMLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucHVzaCh3ZWJHTC5kYXRhW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIGFycmF5IGFuZCByZXNldCB0aGUgaW5kZXguLlxuICAgICAgICAgICAgd2ViR0wuZGF0YS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTERhdGFOYXRpdmVMaW5lcyA9IHZvaWQgMDtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGdyYXBoaWNzIGRhdGFzIGFuZCBjb25zdHJ1Y3QgZWFjaCBvbmUuLlxuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgY29tcGxleCBmaWxsIHRoZW4gdGhlIG5ldyBzdGVuY2lsIGJ1ZmZlciB0ZWNobmlxdWUgd2lsbCBiZSB1c2VkXG4gICAgICAgIC8vIG90aGVyIHdpc2UgZ3JhcGhpY3Mgb2JqZWN0cyB3aWxsIGJlIHB1c2hlZCBpbnRvIGEgYmF0Y2guLlxuICAgICAgICBmb3IgKHZhciBfaSA9IHdlYkdMLmxhc3RJbmRleDsgX2kgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtfaV07XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm5hdGl2ZUxpbmVzICYmIGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRQb2x5Mi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSZWN0YW5nbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQyB8fCBkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRDaXJjbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGFsbCB0aGUgZGlydHkgZGF0YS4uLlxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbX2kyXTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS51cGxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gdGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgLSBUT0RPIEBBbHZpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuYXRpdmVMaW5lcyAtIGluZGljYXRlIHdoZXRoZXIgdGhlIHdlYkdMRGF0YSB1c2UgZm9yIG5hdGl2ZUxpbmVzLlxuICAgICAqIEByZXR1cm4geyp9IFRPRE9cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZ2V0V2ViR0xEYXRhID0gZnVuY3Rpb24gZ2V0V2ViR0xEYXRhKGdsLCB0eXBlLCBuYXRpdmVMaW5lcykge1xuICAgICAgICB2YXIgd2ViR0xEYXRhID0gZ2wuZGF0YVtnbC5kYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICghd2ViR0xEYXRhIHx8IHdlYkdMRGF0YS5uYXRpdmVMaW5lcyAhPT0gbmF0aXZlTGluZXMgfHwgd2ViR0xEYXRhLnBvaW50cy5sZW5ndGggPiAzMjAwMDApIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKSB8fCBuZXcgX1dlYkdMR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMucmVuZGVyZXIuZ2wsIHRoaXMucHJpbWl0aXZlU2hhZGVyLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYnNTdGF0ZSk7XG4gICAgICAgICAgICB3ZWJHTERhdGEubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcbiAgICAgICAgICAgIHdlYkdMRGF0YS5yZXNldCh0eXBlKTtcbiAgICAgICAgICAgIGdsLmRhdGEucHVzaCh3ZWJHTERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2ViR0xEYXRhLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gd2ViR0xEYXRhO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3NSZW5kZXJlcjtcbn0oX09iamVjdFJlbmRlcmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NSZW5kZXJlcjtcblxuXG5fV2ViR0xSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignZ3JhcGhpY3MnLCBHcmFwaGljc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEFuIG9iamVjdCBjb250YWluaW5nIFdlYkdMIHNwZWNpZmljIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBieSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gVGhlIHNoYWRlclxuICAgKiBAcGFyYW0ge29iamVjdH0gYXR0cmlic1N0YXRlIC0gVGhlIHN0YXRlIGZvciB0aGUgVkFPXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTEdyYXBoaWNzRGF0YShnbCwgc2hhZGVyLCBhdHRyaWJzU3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xHcmFwaGljc0RhdGEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gVE9ETyBkb2VzIHRoaXMgbmVlZCB0byBiZSBzcGxpdCBiZWZvcmUgdXBsb2FkaW5nPz9cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBjb2xvciBjb21wb25lbnRzIChyLGcsYilcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yID0gWzAsIDAsIDBdOyAvLyBjb2xvciBzcGxpdCFcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3XG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWFpbiBidWZmZXJcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBkaXJ0eSBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGdyYXBoaWNzIGlzIG5hdGl2ZUxpbmVzIG9yIG5vdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsLCBhdHRyaWJzU3RhdGUpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh0aGlzLmJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIDQgKiA2LCAwKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFDb2xvciwgZ2wuRkxPQVQsIGZhbHNlLCA0ICogNiwgMiAqIDQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdmVydGljZXMgYW5kIHRoZSBpbmRpY2VzXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlcnMgYW5kIHVwbG9hZHMgdGhlIGRhdGFcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIHRoaXMuZ2xQb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucG9pbnRzKTtcbiAgICB0aGlzLmJ1ZmZlci51cGxvYWQodGhpcy5nbFBvaW50cyk7XG5cbiAgICB0aGlzLmdsSW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIudXBsb2FkKHRoaXMuZ2xJbmRpY2VzKTtcblxuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRW1wdGllcyBhbGwgdGhlIGRhdGFcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb2xvciA9IG51bGw7XG4gICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICB0aGlzLnZhby5kZXN0cm95KCk7XG4gICAgdGhpcy5idWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmdsUG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmdsSW5kaWNlcyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFdlYkdMR3JhcGhpY3NEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTEdyYXBoaWNzRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMR3JhcGhpY3NEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TaGFkZXIyID0gcmVxdWlyZSgnLi4vLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhpcyBzaGFkZXIgaXMgdXNlZCB0byBkcmF3IHNpbXBsZSBwcmltaXRpdmUgc2hhcGVzIGZvciB7QGxpbmsgUElYSS5HcmFwaGljc30uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIFByaW1pdGl2ZVNoYWRlciA9IGZ1bmN0aW9uIChfU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFByaW1pdGl2ZVNoYWRlciwgX1NoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgd2ViZ2wgc2hhZGVyIG1hbmFnZXIgdGhpcyBzaGFkZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZVNoYWRlcihnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpbWl0aXZlU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1NoYWRlci5jYWxsKHRoaXMsIGdsLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7JywgJ3VuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gZmxvYXQgYWxwaGE7JywgJ3VuaWZvcm0gdmVjMyB0aW50OycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7JywgJ30nXS5qb2luKCdcXG4nKSxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIFsndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBQcmltaXRpdmVTaGFkZXI7XG59KF9TaGFkZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcmltaXRpdmVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QcmltaXRpdmVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRQb2x5O1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG52YXIgX2VhcmN1dCA9IHJlcXVpcmUoJ2VhcmN1dCcpO1xuXG52YXIgX2VhcmN1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXJjdXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRQb2x5KGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG5cbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCAmJiBwb2ludHMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgdmFyIGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgdmFyIGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcblxuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gKDAsIF9lYXJjdXQyLmRlZmF1bHQpKHBvaW50cywgaG9sZUFycmF5LCAyKTtcblxuICAgICAgICBpZiAoIXRyaWFuZ2xlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0cmlhbmdsZXMubGVuZ3RoOyBfaSArPSAzKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW19pMiAqIDJdLCBwb2ludHNbX2kyICogMiArIDFdLCByLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCA+IDApIHtcbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRQb2x5LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUmVjdGFuZ2xlO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJlY3RhbmdsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAvL1xuICAgIHZhciByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIC8vIHN0YXJ0XG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAvLyBpbnNlcnQgMiBkZWFkIHRyaWFuZ2xlcy4uXG4gICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzLCB2ZXJ0UG9zICsgMyk7XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHldO1xuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByb3VuZGVkIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJvdW5kZWRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJyZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgdmFyIHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICB2YXIgcmVjUG9pbnRzID0gW107XG5cbiAgICByZWNQb2ludHMucHVzaCh4LCB5ICsgcmFkaXVzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4LCB5ICsgaGVpZ2h0LCB4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgcmFkaXVzLCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCAtIHJhZGl1cywgeSwgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgcmFkaXVzLCB5LCB4LCB5LCB4LCB5ICsgcmFkaXVzICsgMC4wMDAwMDAwMDAxLCByZWNQb2ludHMpO1xuXG4gICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gKDAsIF9lYXJjdXQyLmRlZmF1bHQpKHJlY1BvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfaiA9IHJlY1BvaW50cy5sZW5ndGg7IF9pIDwgX2o7IF9pKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocmVjUG9pbnRzW19pXSwgcmVjUG9pbnRzWysrX2ldLCByLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHJlY1BvaW50cztcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgZGlmZiAqIHBlcmM7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICB2YXIgb3V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiBbXTtcblxuICAgIHZhciBuID0gMjA7XG4gICAgdmFyIHBvaW50cyA9IG91dDtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkQ2lyY2xlO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ2lyY2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgIHZhciBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgIHZhciB5ID0gY2lyY2xlRGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHZvaWQgMDtcbiAgICB2YXIgaGVpZ2h0ID0gdm9pZCAwO1xuXG4gICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgaWYgKGdyYXBoaWNzRGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgd2lkdGggPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBjaXJjbGVEYXRhLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG90YWxTZWdzID0gTWF0aC5mbG9vcigzMCAqIE1hdGguc3FydChjaXJjbGVEYXRhLnJhZGl1cykpIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICB2YXIgc2VnID0gTWF0aC5QSSAqIDIgLyB0b3RhbFNlZ3M7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1Bvcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFNlZ3MgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCwgeSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKyBNYXRoLnNpbihzZWcgKiBpKSAqIHdpZHRoLCB5ICsgTWF0aC5jb3Moc2VnICogaSkgKiBoZWlnaHQsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcysrLCB2ZWNQb3MrKyk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdG90YWxTZWdzOyBfaSsrKSB7XG4gICAgICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzLnB1c2goeCArIE1hdGguc2luKHNlZyAqIC1faSkgKiB3aWR0aCwgeSArIE1hdGguY29zKHNlZyAqIC1faSkgKiBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cy5wdXNoKGdyYXBoaWNzRGF0YS5wb2ludHNbMF0sIGdyYXBoaWNzRGF0YS5wb2ludHNbMV0pO1xuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQ2lyY2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleVxuICogbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIENhbnZhc0dyYXBoaWNzUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iLzEuMC4wL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nbHV0aWxzL1NoYXBlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIGdyYXBoaWNzIG9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjdXJyZW50IFBJWEkgcmVuZGVyZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBHcmFwaGljcyBvYmplY3QgdG8gYSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gdGhlIGFjdHVhbCBncmFwaGljcyBvYmplY3QgdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihncmFwaGljcykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gZ3JhcGhpY3Mud29ybGRBbHBoYTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IGdyYXBoaWNzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmIgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYyAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5kICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRpbnQgaWYgZ3JhcGhpY3Mgd2FzIGRpcnR5XG4gICAgICAgIGlmIChncmFwaGljcy5jYW52YXNUaW50RGlydHkgIT09IGdyYXBoaWNzLmRpcnR5IHx8IGdyYXBoaWNzLl9wcmV2VGludCAhPT0gZ3JhcGhpY3MudGludCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgdmFyIGZpbGxDb2xvciA9IGRhdGEuX2ZpbGxUaW50O1xuICAgICAgICAgICAgdmFyIGxpbmVDb2xvciA9IGRhdGEuX2xpbmVUaW50O1xuXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGRhdGEubGluZVdpZHRoO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5Z29uKHNoYXBlLnBvaW50cywgc2hhcGUuY2xvc2VkLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvbHlnb24oZGF0YS5ob2xlc1tqXS5wb2ludHMsIHRydWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbENvbG9yIHx8IGRhdGEuZmlsbENvbG9yID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VSZWN0KHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzaGFwZS54LCBzaGFwZS55LCBzaGFwZS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIga2FwcGEgPSAwLjU1MjI4NDg7XG4gICAgICAgICAgICAgICAgdmFyIG94ID0gdyAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIHZhciBveSA9IGggLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgdmFyIHhlID0geCArIHc7IC8vIHgtZW5kXG4gICAgICAgICAgICAgICAgdmFyIHllID0geSArIGg7IC8vIHktZW5kXG4gICAgICAgICAgICAgICAgdmFyIHhtID0geCArIHcgLyAyOyAvLyB4LW1pZGRsZVxuICAgICAgICAgICAgICAgIHZhciB5bSA9IHkgKyBoIC8gMjsgLy8geS1taWRkbGVcblxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeGUsIHltICsgb3ksIHhtICsgb3gsIHllLCB4bSwgeWUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZSwgeCwgeW0gKyBveSwgeCwgeW0pO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICB2YXIgcnkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNoYXBlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaGFwZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHNoYXBlLnJhZGl1cztcblxuICAgICAgICAgICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIgfCAwO1xuXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcmFkaXVzID4gbWF4UmFkaXVzID8gbWF4UmFkaXVzIDogcmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbENvbG9yIHx8IGRhdGEuZmlsbENvbG9yID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdGludCBvZiBhIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gdGhlIGdyYXBoaWNzIHRoYXQgd2lsbCBoYXZlIGl0cyB0aW50IHVwZGF0ZWRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3NUaW50ID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3NUaW50KGdyYXBoaWNzKSB7XG4gICAgICAgIGdyYXBoaWNzLl9wcmV2VGludCA9IGdyYXBoaWNzLnRpbnQ7XG4gICAgICAgIGdyYXBoaWNzLmNhbnZhc1RpbnREaXJ0eSA9IGdyYXBoaWNzLmRpcnR5O1xuXG4gICAgICAgIHZhciB0aW50UiA9IChncmFwaGljcy50aW50ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciB0aW50RyA9IChncmFwaGljcy50aW50ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRCID0gKGdyYXBoaWNzLnRpbnQgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLmZpbGxDb2xvciB8IDA7XG4gICAgICAgICAgICB2YXIgbGluZUNvbG9yID0gZGF0YS5saW5lQ29sb3IgfCAwO1xuXG4gICAgICAgICAgICAvLyBzdXBlciBpbmxpbmUsIGNvcyBvcHRpbWl6YXRpb24gOilcbiAgICAgICAgICAgIGRhdGEuX2ZpbGxUaW50ID0gKChmaWxsQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgoZmlsbENvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGZpbGxDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG5cbiAgICAgICAgICAgIGRhdGEuX2xpbmVUaW50ID0gKChsaW5lQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgobGluZUNvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGxpbmVDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gVGhlIHBvaW50cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIC0gU2hvdWxkIHRoZSBwb2x5Z29uIGJlIGNsb3NlZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIHJlbmRlcmluZyBjb250ZXh0IHRvIHVzZVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJQb2x5Z29uID0gZnVuY3Rpb24gcmVuZGVyUG9seWdvbihwb2ludHMsIGNsb3NlLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHBvaW50cy5sZW5ndGggLyAyOyArK2opIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZSkge1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdncmFwaGljcycsIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzR3JhcGhpY3NSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfID0gcmVxdWlyZSgnLi4vJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLmxvYWRlci5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBfY3JlYXRlQ2xhc3MoU3ByaXRlc2hlZXQsIG51bGwsIFt7XG4gICAgICAgIGtleTogJ0JBVENIX1NJWkUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwMDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNvbHV0aW9uRmlsZW5hbWVdIC0gVGhlIGZpbGVuYW1lIHRvIGNvbnNpZGVyIHdoZW4gZGV0ZXJtaW5pbmdcbiAgICAgICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICAgICAqL1xuXG4gICAgfV0pO1xuXG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXQoYmFzZVRleHR1cmUsIGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb25GaWxlbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlc2hlZXQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFsbCB0ZXh0dXJlcyBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgdGV4dHVyZXMgZm9yIGVhY2ggYW5pbWF0aW9uLlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4ge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCB0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcblxuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gX3Byb2Nlc3NGcmFtZXMoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICAgICAgdmFyIGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG4gICAgICAgIHZhciBzb3VyY2VTY2FsZSA9IHRoaXMuYmFzZVRleHR1cmUuc291cmNlU2NhbGU7XG5cbiAgICAgICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlU2l6ZSA9IGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zb3VyY2VTaXplID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgICAgIHZhciBvcmlnID0gbmV3IF8uUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBfLlJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBfLlJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudyAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgXy5UZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCBkYXRhLnJvdGF0ZWQgPyAyIDogMCwgZGF0YS5hbmNob3IpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgXy5UZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzQW5pbWF0aW9ucyA9IGZ1bmN0aW9uIF9wcm9jZXNzQW5pbWF0aW9ucygpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBhbmltTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhbmltYXRpb25zW2FuaW1OYW1lXSwgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgICAgICAgICAgICB2YXIgX3JlZjtcblxuICAgICAgICAgICAgICAgIGlmIChfaXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIF9yZWYgPSBfaXRlcmF0b3JbX2krK107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVOYW1lID0gX3JlZjtcblxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gX3BhcnNlQ29tcGxldGUoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSBuZXh0IGJhdGNoIG9mIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBkZXN0cm95QmFzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGVzaGVldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZXNoZWV0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0aW9uO1xuLy8gcHJvdmlkZSBtZXRob2QgdG8gZ2l2ZSBhIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5nc1xuLy8gdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXNcbi8vIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuXG4vLyBwcm92aWRlIG1ldGhvZCB0byBnaXZlIGEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzXG4vLyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmUgZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3Nlc1xuLy8gYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttc2ddKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG5cbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgcGl4aS5qcyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoMykuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJyVjRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttc2ddID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRpb24oY29yZSkge1xuICAgIHZhciBtZXNoID0gY29yZS5tZXNoLFxuICAgICAgICBwYXJ0aWNsZXMgPSBjb3JlLnBhcnRpY2xlcyxcbiAgICAgICAgZXh0cmFzID0gY29yZS5leHRyYXMsXG4gICAgICAgIGZpbHRlcnMgPSBjb3JlLmZpbHRlcnMsXG4gICAgICAgIHByZXBhcmUgPSBjb3JlLnByZXBhcmUsXG4gICAgICAgIGxvYWRlcnMgPSBjb3JlLmxvYWRlcnMsXG4gICAgICAgIGludGVyYWN0aW9uID0gY29yZS5pbnRlcmFjdGlvbjtcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZSwge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3ByaXRlQmF0Y2hcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBTcHJpdGVCYXRjaCBkb2VzIG5vdCBleGlzdCBhbnkgbW9yZSwgcGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNwcml0ZUJhdGNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1Nwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCAnICsgJ3BsZWFzZSB1c2UgdGhlIG5ldyBQYXJ0aWNsZUNvbnRhaW5lciBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQXNzZXRMb2FkZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsXG4gICAgICAgICAqIHBsZWFzZSBzZWUgdGhlIG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBc3NldExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsICcgKyAncGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTdGFnZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFN0YWdlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdZb3UgZG8gbm90IG5lZWQgdG8gdXNlIGEgUElYSSBTdGFnZSBhbnkgbW9yZSwgeW91IGNhbiBzaW1wbHkgcmVuZGVyIGFueSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5Db250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBEaXNwbGF5T2JqZWN0Q29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRGlzcGxheU9iamVjdENvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignRGlzcGxheU9iamVjdENvbnRhaW5lciBoYXMgYmVlbiBzaG9ydGVuZWQgdG8gQ29udGFpbmVyLCBwbGVhc2UgdXNlIENvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0cmlwXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RyaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBTdHJpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIE1lc2ggYW5kIG1vdmVkIHRvIG1lc2guTWVzaCwgcGxlYXNlIHVzZSBtZXNoLk1lc2ggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5NZXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUm9wZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBSb3BlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIG1lc2guUm9wZSwgcGxlYXNlIHVzZSBtZXNoLlJvcGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5Sb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgJyArICdwbGVhc2UgdXNlIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5Nb3ZpZUNsaXBcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5BbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBleHRyYXMuQW5pbWF0ZWRTcHJpdGUuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuVGlsaW5nU3ByaXRlLCAnICsgJ3BsZWFzZSB1c2UgZXh0cmFzLlRpbGluZ1Nwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQml0bWFwVGV4dFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuQml0bWFwVGV4dCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIGJsZW5kTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJsZW5kTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBibGVuZE1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIEJMRU5EX01PREVTLCBwbGVhc2UgdXNlIEJMRU5EX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQkxFTkRfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBzY2FsZU1vZGVzXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZU1vZGVzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgc2NhbGVNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBTQ0FMRV9NT0RFUywgcGxlYXNlIHVzZSBTQ0FMRV9NT0RFUyBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlNDQUxFX01PREVTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuQmFzZVRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuVGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIG1hdGhcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIG1hdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBtYXRoIG5hbWVzcGFjZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgYWNjZXNzIG1lbWJlcnMgYWxyZWFkeSBhY2Nlc3NpYmxlIG9uIFBJWEkuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5UcmFuc2Zvcm1NYW51YWxcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtTWFudWFsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1NYW51YWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUcmFuc2Zvcm1CYXNlLCBwbGVhc2UgdXBkYXRlIHlvdXIgcGl4aS1zcGluZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVHJhbnNmb3JtQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgVEFSR0VUX0ZQTVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEZJTFRFUl9SRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVTT0xVVElPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFU09MVVRJT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBNSVBNQVBfVEVYVFVSRVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFNQUklURV9CQVRDSF9TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX01BWF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFJFVElOQV9QUkVGSVg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVOREVSX09QVElPTlNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgREVGQVVMVF9SRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ERUZBVUxUX1JFTkRFUl9PUFRJT05TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTW92ZSB0aGUgZGVmYXVsdCBwcm9wZXJ0aWVzIHRvIHNldHRpbmdzXG4gICAgdmFyIGRlZmF1bHRzID0gW3sgcGFyZW50OiAnVFJBTlNGT1JNX01PREUnLCB0YXJnZXQ6ICdUUkFOU0ZPUk1fTU9ERScgfSwgeyBwYXJlbnQ6ICdHQ19NT0RFUycsIHRhcmdldDogJ0dDX01PREUnIH0sIHsgcGFyZW50OiAnV1JBUF9NT0RFUycsIHRhcmdldDogJ1dSQVBfTU9ERScgfSwgeyBwYXJlbnQ6ICdTQ0FMRV9NT0RFUycsIHRhcmdldDogJ1NDQUxFX01PREUnIH0sIHsgcGFyZW50OiAnUFJFQ0lTSU9OJywgdGFyZ2V0OiAnUFJFQ0lTSU9OX0ZSQUdNRU5UJyB9XTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcbiAgICAgICAgdmFyIGRlcHJlY2F0aW9uID0gZGVmYXVsdHNbaV07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcmVbZGVwcmVjYXRpb24ucGFyZW50XSwgJ0RFRkFVTFQnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzW2RlcHJlY2F0aW9uLnRhcmdldF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLnNldHRpbmdzLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQG5hbWUgUFJFQ0lTSU9OXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEBzZWUgUElYSS5QUkVDSVNJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMFxuICAgICAgICAgKi9cbiAgICAgICAgUFJFQ0lTSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZXh0cmFzLkFuaW1hdGVkU3ByaXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgICAgICogQG5hbWUgTW92aWVDbGlwXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBBbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBBbmltYXRlZFNwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV4dHJhcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHRyYXMsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBUZXh0dXJlVHJhbnNmb3JtXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5UZXh0dXJlTWF0cml4XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFRleHR1cmVUcmFuc2Zvcm06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVUcmFuc2Zvcm0gY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBUZXh0dXJlTWF0cml4LCAnICsgJ3BsZWFzZSB1c2UgUElYSS5UZXh0dXJlTWF0cml4IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHR1cmVNYXRyaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShyZW5kZXJlciwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dlbmVyYXRlVGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KScpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGhpcywgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgY29yZS5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICB3YXJuKCdncmFwaGljcyBnZW5lcmF0ZSB0ZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIuICcgKyAnT3IgdG8gcmVuZGVyIGEgZ3JhcGhpY3MgdG8gYSB0ZXh0dXJlIHVzaW5nIGNhbnZhcyBwbGVhc2UgdXNlIGdlbmVyYXRlQ2FudmFzVGV4dHVyZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0XG4gICAgICogQHNlZSBQSVhJLkdyb3VwRDguaXNWZXJ0aWNhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICovXG4gICAgY29yZS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0ID0gZnVuY3Rpb24gaXNTd2FwV2lkdGhIZWlnaHQocm90YXRpb24pIHtcbiAgICAgICAgd2FybignR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCB3YXMgcmVuYW1lZCB0byBHcm91cEQ4LmlzVmVydGljYWwnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5Hcm91cEQ4LmlzVmVydGljYWwocm90YXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCBtYXRyaXgsIGNsZWFyLCB1cGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgdGhpcywgY2xlYXIsIG1hdHJpeCwgIXVwZGF0ZVRyYW5zZm9ybSk7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUucmVuZGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKScpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2NCA9IGZ1bmN0aW9uIGdldEJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRCYXNlNjQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzID0gZnVuY3Rpb24gZ2V0Q2FudmFzKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldENhbnZhcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbiBnZXRQaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5waXhlbHModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgUElYSS5TcHJpdGUjc2V0VGV4dHVyZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUjdGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlNwcml0ZS5wcm90b3R5cGUuc2V0VGV4dHVyZSA9IGZ1bmN0aW9uIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB3YXJuKCdzZXRUZXh0dXJlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0dXJlIHByb3BlcnR5LCBlLmcgOiBzcHJpdGUudGV4dHVyZSA9IHRleHR1cmU7Jyk7XG4gICAgfTtcblxuICAgIGlmIChleHRyYXMuQml0bWFwVGV4dCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3NldFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3RleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhcy5CaXRtYXBUZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlCaXRtYXBUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0VGV4dFxuICAgICAqIEBzZWUgUElYSS5UZXh0I3RleHRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHdhcm4oJ3NldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15VGV4dC50ZXh0ID0gXFwnbXkgdGV4dFxcJzsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnRTdHlsZVxuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVGb250UHJvcGVydGllcyhmb250KSB7XG4gICAgICAgIHdhcm4oJ1RleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIFRleHRNZXRyaWNzLm1lYXN1cmVGb250Jyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dCwge1xuICAgICAgICBmb250UHJvcGVydGllc0NhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGUgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2ZvbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NhbnZhczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NhbnZhcyBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NvbnRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDb250ZXh0IGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I3NldFN0eWxlXG4gICAgICogQHNlZSBQSVhJLlRleHQjc3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHsqfSBzdHlsZSAtIFRoZSBzdHlsZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgd2Fybignc2V0U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHN0eWxlIHByb3BlcnR5LCBlLmcgOiBteVRleHQuc3R5bGUgPSBzdHlsZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNkZXRlcm1pbmVGb250UHJvcGVydGllc1xuICAgICAqIEBzZWUgUElYSS5UZXh0I21lYXN1cmVGb250UHJvcGVydGllc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXRlcm1pbmVGb250UHJvcGVydGllcyhmb250U3R5bGUpIHtcbiAgICAgICAgd2FybignZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgbWV0aG9kJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dC5nZXRGb250U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MuZ2V0Rm9udFN0eWxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3RyaW5nXG4gICAgICovXG4gICAgY29yZS5UZXh0LmdldEZvbnRTdHlsZSA9IGZ1bmN0aW9uIGdldEZvbnRTdHlsZShzdHlsZSkge1xuICAgICAgICB3YXJuKCdnZXRGb250U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dFN0eWxlLnRvRm9udFN0cmluZygpIGluc3RlYWQnKTtcblxuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHN0eWxlIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpKSB7XG4gICAgICAgICAgICBzdHlsZSA9IG5ldyBjb3JlLlRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dFN0eWxlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFsbCBwcm9wZXJ0aWVzIG9mIGEgZm9udCBhcyBhIHNpbmdsZSBzdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5UZXh0U3R5bGUjZm9udFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBmb250OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJywgXFwnZm9udFNpemVcXCcsIFxcJ2ZvbnRTdHlsZVxcJywgXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuX2ZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuX2ZvbnRTaXplICsgJ3B4JyA6IHRoaXMuX2ZvbnRTaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZSArICcgJyArIHRoaXMuX2ZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5fZm9udFdlaWdodCArICcgJyArIGZvbnRTaXplU3RyaW5nICsgJyAnICsgdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250KSB7XG4gICAgICAgICAgICAgICAgd2FybigndGV4dCBzdHlsZSBwcm9wZXJ0eSBcXCdmb250XFwnIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSAnICsgJ1xcJ2ZvbnRGYW1pbHlcXCcsXFwnZm9udFNpemVcXCcsZm9udFN0eWxlXFwnLFxcJ2ZvbnRWYXJpYW50XFwnIGFuZCBcXCdmb250V2VpZ2h0XFwnIHByb3BlcnRpZXMgZnJvbSBub3cgb24nKTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbiB3b3JrIG91dCBmb250U3R5bGUgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignaXRhbGljJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdpdGFsaWMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9udC5pbmRleE9mKCdvYmxpcXVlJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnb2JsaXF1ZSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRWYXJpYW50IGZyb20gc2VhcmNoIG9mIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChmb250LmluZGV4T2YoJ3NtYWxsLWNhcHMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ3NtYWxsLWNhcHMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZm9udFdlaWdodCBhbmQgZm9udEZhbWlseSBhcmUgdHJpY2tlciB0byBmaW5kLCBidXQgaXQncyBlYXNpZXIgdG8gZmluZCB0aGUgZm9udFNpemUgZHVlIHRvIGl0J3MgdW5pdHNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRzID0gZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIHZhciBmb250U2l6ZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IDI2O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbaV0ubWF0Y2goLyhweHxwdHxlbXwlKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3BsaXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gbm93IHNlYXJjaCBmb3IgZm9udFdlaWdodCBhcyB3ZSBrbm93IGl0IG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBmb250U2l6ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZm9udFNpemVJbmRleDsgKytfaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRzW19pXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBzcGxpdHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbmQgZmluYWxseSBqb2luIGV2ZXJ5dGhpbmcgdG9nZXRoZXIgYWZ0ZXIgdGhlIGZvbnRTaXplIGluIGNhc2UgdGhlIGZvbnQgZmFtaWx5IGhhcyBtdWx0aXBsZSB3b3Jkc1xuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUluZGV4ID4gLTEgJiYgZm9udFNpemVJbmRleCA8IHNwbGl0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gZm9udFNpemVJbmRleCArIDE7IF9pMiA8IHNwbGl0cy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ICs9IHNwbGl0c1tfaTJdICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IHRoaXMuX2ZvbnRGYW1pbHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnQXJpYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlI3NldEZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgdG8gc2V0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIHdhcm4oJ3NldEZyYW1lIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBmcmFtZSBwcm9wZXJ0eSwgZS5nOiBteVRleHR1cmUuZnJhbWUgPSBmcmFtZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmFkZFRvQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgdGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRleHR1cmVUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGNvcmUuVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGlkKTtcbiAgICAgICAgd2FybignVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUuYWRkVG9DYWNoZSBmcm9tIG5vdyBvbi4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC41LjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIHRleHR1cmUgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgdGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVUZXh0dXJlRnJvbUNhY2hlKGlkKSB7XG4gICAgICAgIHdhcm4oJ1RleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlIGZyb20gbm93IG9uLiAnICsgJ0JlIGF3YXJlIHRoYXQgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZG9lcyBub3QgYXV0b21hdGljYWxseSBpdHMgQmFzZVRleHR1cmUgZnJvbSB0aGUgQmFzZVRleHR1cmVDYWNoZS4gJyArICdGb3IgdGhhdCwgdXNlIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZScpO1xuXG4gICAgICAgIGNvcmUuQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0dXJlLnJlbW92ZUZyb21DYWNoZShpZCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbHRlcnMsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgQWJzdHJhY3RGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0FzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkFic3RyYWN0RmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlTWFza0ZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignZmlsdGVycy5TcHJpdGVNYXNrRmlsdGVyIGlzIGFuIHVuZG9jdW1lbnRlZCBhbGlhcywgcGxlYXNlIHVzZSBTcHJpdGVNYXNrRmlsdGVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU3ByaXRlTWFza0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5Wb2lkRmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjdcbiAgICAgICAgICovXG4gICAgICAgIFZvaWRGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1ZvaWRGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBBbHBoYUZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLkFscGhhRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy51dWlkXG4gICAgICogQHNlZSBQSVhJLnV0aWxzLnVpZFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB1aWRcbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLnV1aWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLnV1aWQoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHV0aWxzLnVpZCgpIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLnV0aWxzLnVpZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXG4gICAgICogQHNlZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIHVzZSBibGVuZCBtb2Rlcy5cbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkNhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseTtcbiAgICB9O1xuXG4gICAgdmFyIHNhaWRIZWxsbyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLl9zYWlkSGVsbG9cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAc2VlIFBJWEkudXRpbHMuc2tpcEhlbGxvXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4xLjBcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZS51dGlscywgJ19zYWlkSGVsbG8nLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS51dGlscy5fc2FpZEhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS51dGlscy5za2lwSGVsbG8oKScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcEhlbGxvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWlkSGVsbG8gPSBib29sO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzYWlkSGVsbG87XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChwcmVwYXJlLkJhc2VQcmVwYXJlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlclxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlckZpbmRIb29rXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC40LjJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2FkZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt1cGxvYWRIb29rXSAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlLkJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGFkZEhvb2ssIHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHdhcm4oJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlciBpcyBub3cgZGVwcmVjYXRlZCwgJyArICdwbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlckZpbmRIb29rICYgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyVXBsb2FkSG9vaycpO1xuXG4gICAgICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUuY2FudmFzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUuY2FudmFzLlVQTE9BRFNfUEVSX0ZSQU1FXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUubGltaXRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmUuY2FudmFzLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcmVwYXJlLndlYmdsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUud2ViZ2wuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS53ZWJnbCwgJ1VQTE9BRFNfUEVSX0ZSQU1FJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRlcnMuTG9hZGVyKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZSA9IGxvYWRlcnMuUmVzb3VyY2U7XG4gICAgICAgIHZhciBMb2FkZXIgPSBsb2FkZXJzLkxvYWRlcjtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGlzSnNvbjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNKc29uIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSlNPTmAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1htbDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNYbWwgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUxgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ltYWdlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQXVkaW86IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzQXVkaW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJT2AuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNWaWRlbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNWaWRlbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgYmVmb3JlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBiZWZvcmUoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBwcmUoKS4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBhZnRlcigpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHVzZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCNkZWZhdWx0Q3Vyc29yXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2N1cnNvclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0LCAnZGVmYXVsdEN1cnNvcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclxcJy4gJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZGVmYXVsdEN1cnNvclN0eWxlXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJzb3JTdHlsZXNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIsICdkZWZhdWx0Q3Vyc29yU3R5bGUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclN0eWxlcy5kZWZhdWx0XFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJyZW50Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2N1cnJlbnRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FjY2Vzc2libGVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY2Nlc3NpYmxlVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BY2Nlc3NpYmlsaXR5TWFuYWdlciA9IHJlcXVpcmUoJy4vQWNjZXNzaWJpbGl0eU1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBY2Nlc3NpYmlsaXR5TWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjY2Vzc2liaWxpdHlNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWNjZXNzaWJsZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbmNvcmUudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4oY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgX2FjY2Vzc2libGVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgS0VZX0NPREVfVEFCID0gOTtcblxudmFyIERJVl9UT1VDSF9TSVpFID0gMTAwO1xudmFyIERJVl9UT1VDSF9QT1NfWCA9IDA7XG52YXIgRElWX1RPVUNIX1BPU19ZID0gMDtcbnZhciBESVZfVE9VQ0hfWklOREVYID0gMjtcblxudmFyIERJVl9IT09LX1NJWkUgPSAxO1xudmFyIERJVl9IT09LX1BPU19YID0gLTEwMDA7XG52YXIgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbnZhciBESVZfSE9PS19aSU5ERVggPSAyO1xuXG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuXG4gKiByZWFkZXJzLiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgcGl4aVxuICogY29udGVudC5cbiAqXG4gKiBNdWNoIGxpa2UgaW50ZXJhY3Rpb24gYW55IERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzaWJpbGl0eU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblxuICAgICAgICBpZiAoKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkgJiYgIW5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlci4gSWYgdGhlcmUgYXJlIG5vIGFjY2Vzc2libGUgb2JqZWN0cyBvciB0aGUgbW91c2UgaXMgbW92aW5nLCB0aGlzIHdpbGwgYmUgZmFsc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVg7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgICAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChob29rRGl2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlclxuICAgICAqIHByZXNlcyB0aGUgdGFiIGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXNcbiAgICAgKiB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzID0gZnVuY3Rpb24gdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCArICdweCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyBoaXRBcmVhLnggKiB3dC5hKSAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIGhpdEFyZWEueSAqIHd0LmQpICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50ICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRPRE86IGRvY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gaGl0QXJlYSAtIFRPRE8gZG9jc1xuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIGNhcEhpdEFyZWEoaGl0QXJlYSkge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDAsMCwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSAnZGlzcGxheU9iamVjdCAnICsgZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiBfb25DbGljayhlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIF9vbkZvY3VzKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gX29uRm9jdXNPdXQoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIF9vbktleURvd24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBfb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xFeHRyYWN0ID0gcmVxdWlyZSgnLi93ZWJnbC9XZWJHTEV4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3ZWJnbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMRXh0cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzRXh0cmFjdCA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc0V4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjYW52YXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNFeHRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRFTVBfUkVDVCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xudmFyIEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5cbnZhciBXZWJHTEV4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLldlYkdMUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgV2ViR0xFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHRoaXMucmVuZGVyZXIucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0ZXh0dXJlQnVmZmVyLnNpemUud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0ZXh0dXJlQnVmZmVyLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCB1cCBhbiBhcnJheSBvZiBwaXhlbHNcbiAgICAgICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgdmFyIGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIGNhbnZhc0RhdGEuZGF0YS5zZXQod2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cblxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICBpZiAodGV4dHVyZUJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHRleHR1cmVCdWZmZXIpO1xuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3ZWJnbFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xFeHRyYWN0O1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIFdlYkdMRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEV4dHJhY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVEVNUF9SRUNUID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5cbnZhciBDYW52YXNFeHRyYWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0V4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0V4dHJhY3QpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBDYW52YXNFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5iYXNlNjQgPSBmdW5jdGlvbiBiYXNlNjQodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJlci5yb290Q29udGV4dDtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBjb3JlLkNhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCAxKTtcbiAgICAgICAgdmFyIGNhbnZhc0RhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlcmVyLnJvb3RDb250ZXh0O1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgZnJhbWUud2lkdGggKiByZXNvbHV0aW9uLCBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKS5kYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc0V4dHJhY3Q7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0V4dHJhY3Q7XG5cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIENhbnZhc0V4dHJhY3QpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzRXh0cmFjdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAdHlwZWRlZiBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX5GcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5sb2FkZXIuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkubG9hZGVyLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSBmdW5jdGlvbiAoX2NvcmUkU3ByaXRlKSB7XG4gICAgX2luaGVyaXRzKEFuaW1hdGVkU3ByaXRlLCBfY29yZSRTcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIGFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzLCBhdXRvVXBkYXRlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlZFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl90ZXh0dXJlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcblxuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLnRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Db21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiAnbG9vcCcgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIGZyYW1lIGluZGV4IHRvIHN0b3AgYXRcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gZ290b0FuZFN0b3AoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIGZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0XG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIGdvdG9BbmRQbGF5KGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG5cbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50VGltZSA+PSB0aGlzLl90ZXh0dXJlcy5sZW5ndGggJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCh0aGlzLl90ZXh0dXJlcy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPiBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgbW92aWVjbGlwIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXNcbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUZyYW1lcyA9IGZ1bmN0aW9uIGZyb21GcmFtZXMoZnJhbWVzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKGNvcmUuVGV4dHVyZS5mcm9tRnJhbWUoZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIG1vdmllY2xpcCBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIHRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBtb3ZpZWNsaXAgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21JbWFnZXMgPSBmdW5jdGlvbiBmcm9tSW1hZ2VzKGltYWdlcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRvdGFsRnJhbWVzIGlzIHRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQW5pbWF0ZWRTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3RvdGFsRnJhbWVzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dHVyZXMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleFxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjdXJyZW50RnJhbWUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFuaW1hdGVkU3ByaXRlO1xufShjb3JlLlNwcml0ZSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFuaW1hdGVkU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0ZWRTcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbnZhciBfQ2FudmFzVGludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1RpbnRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBjb3JlLlBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGlsaW5nU3ByaXRlLCBfY29yZSRTcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1TdGF0aWN9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBjb3JlLlRyYW5zZm9ybVN0YXRpYygpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbnZhcyBwYXR0ZXJuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0cmFuc2Zvcm0gdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZUcmFuc2Zvcm0gPSB0ZXh0dXJlLnRyYW5zZm9ybSB8fCBuZXcgY29yZS5UZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBhIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBtb2RYID0gdGhpcy50aWxlUG9zaXRpb24ueCAvIHRoaXMudGlsZVNjYWxlLnggJSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFkgPSB0aGlzLnRpbGVQb3NpdGlvbi55IC8gdGhpcy50aWxlU2NhbGUueSAlIHRleHR1cmUuX2ZyYW1lLmhlaWdodCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBjcmVhdGUgYSBuaWNlIHNoaW55IHBhdHRlcm4hXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEIHx8IHRoaXMuY2FjaGVkVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgICAgIC8vIGN1dCBhbiBvYmplY3QgZnJvbSBhIHNwcml0ZXNoZWV0Li5cbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHRleHR1cmUuX2ZyYW1lLndpZHRoLCB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQsIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRpbnQgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbnQgIT09IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW50ZWRUZXh0dXJlID0gX0NhbnZhc1RpbnRlcjIuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHRoaXMsIHRoaXMudGludCk7XG4gICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRpbnRlZFRleHR1cmUsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKGJhc2VUZXh0dXJlLnNvdXJjZSwgLXRleHR1cmUuX2ZyYW1lLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIC10ZXh0dXJlLl9mcmFtZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSB0ZW1wQ2FudmFzLmNvbnRleHQuY3JlYXRlUGF0dGVybih0ZW1wQ2FudmFzLmNhbnZhcywgJ3JlcGVhdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRleHQgc3RhdGUuLlxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgLy8gZmlsbCB0aGUgcGF0dGVybiFcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9jYW52YXNQYXR0ZXJuO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIHNob3VsZCBiZSByb2xsZWQgaW50byB0aGUgc2V0VHJhbnNmb3JtIGFib3ZlLi5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRpbGVTY2FsZS54IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLnRpbGVTY2FsZS55IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICB2YXIgYW5jaG9yWCA9IHRoaXMuYW5jaG9yLnggKiAtdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBhbmNob3JZID0gdGhpcy5hbmNob3IueSAqIC10aGlzLl9oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShtb2RYLCBtb2RZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCArIGFuY2hvclgsIC1tb2RZICsgYW5jaG9yWSwgdGhpcy5fd2lkdGggLyB0aGlzLnRpbGVTY2FsZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLl9oZWlnaHQgLyB0aGlzLnRpbGVTY2FsZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFggKyBhbmNob3JYLCBtb2RZICsgYW5jaG9yWSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLW1vZFgsIC1tb2RZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dlRyYW5zZm9ybSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tKHNvdXJjZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyArIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGNyb3NzLW9yaWdpbiBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgc2NhbGUgbW9kZSxcbiAgICAgKiAgc2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgd2lkdGgsIGhlaWdodCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWxpbmdTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ2NsYW1wTWFyZ2luJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVTY2FsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVQb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvY29uc3QnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaW1wbGVTaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5xdWFkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gbW9kKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQsIHZlYzIoMS4wLCAxLjApKSArIHVDbGFtcE9mZnNldDtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgY29yZS5RdWFkKGdsLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8odGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHF1YWQudmFvKTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSB0cy5fd2lkdGggKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSB0cy5fd2lkdGggKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQudXBsb2FkKCk7XG5cbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZUcmFuc2Zvcm07XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4KTtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBxdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludCcpO1xuXG52YXIgX09ic2VydmFibGVQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vY29yZS9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuIFRvXG4gKiBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmc6XG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWRcbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5leHRyYXMuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIHdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBtYWMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhCaXRtYXBUZXh0LCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgY29weSB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc3R5bGUuZm9udCAtIFRoZSBmb250IGRlc2NyaXB0b3IgZm9yIHRoZSBvYmplY3QsIGNhbiBiZSBwYXNzZWQgYXMgYSBzdHJpbmcgb2YgZm9ybVxuICAgICAqICAgICAgXCIyNHB4IEZvbnROYW1lXCIgb3IgXCJGb250TmFtZVwiIG9yIGFzIGFuIG9iamVjdCB3aXRoIGV4cGxpY2l0IG5hbWUvc2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udC5uYW1lXSAtIFRoZSBiaXRtYXAgZm9udCBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udC5zaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdFxuICAgICAqICAgICAgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCkge1xuICAgICAgICB2YXIgc3R5bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaXRtYXBUZXh0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dseXBocyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBfT2JzZXJ2YWJsZVBvaW50Mi5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlydHkgc3RhdGUgb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQoKSB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgY29yZS5Qb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnQuc2l6ZTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoLyg/OlxccykvLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG5cbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBjb3JlLlBvaW50KHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArIHRoaXMuX2xldHRlclNwYWNpbmcgLyAyLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCBjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIGNvcmUudXRpbHMucmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKC8oPzpcXHMpLy50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8PSBsaW5lOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV0pIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuQ2hhcnM7IF9pMisrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2dseXBoc1tfaTJdOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgYy50ZXh0dXJlID0gY2hhcnNbX2kyXS50ZXh0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjID0gbmV3IGNvcmUuU3ByaXRlKGNoYXJzW19pMl0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tfaTJdLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXJzW19pMl0ubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICBjLnBvc2l0aW9uLnkgPSBjaGFyc1tfaTJdLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIF9pMyA9IGxlbkNoYXJzOyBfaTMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK19pMykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbX2kzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgbGVuQ2hhcnM7IF9pNCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueCAtPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tfaTRdLnkgLT0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQoeG1sLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciByZXMgPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkocGFnZXNbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyksIF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OKTtcbiAgICAgICAgdmFyIHBhZ2VzVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBkYXRhLmZvbnQgPSBpbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO1xuICAgICAgICBkYXRhLnNpemUgPSBwYXJzZUludChpbmZvLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCk7XG4gICAgICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApIC8gcmVzO1xuICAgICAgICBkYXRhLmNoYXJzID0ge307XG5cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICAgICAgcGFnZXNUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBsZXR0ZXJzLmxlbmd0aDsgX2k1KyspIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW19pNV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSB8fCAwO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IGNvcmUuUmVjdGFuZ2xlKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApIC8gcmVzICsgcGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS54IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSAvIHJlcyArIHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueSAvIHJlcywgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApIC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzKTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyc1tjaGFyQ29kZV0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgY29yZS5UZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgdmFyIGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwga2VybmluZ3MubGVuZ3RoOyBfaTYrKykge1xuICAgICAgICAgICAgdmFyIGtlcm5pbmcgPSBrZXJuaW5nc1tfaTZdO1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBzZWNvbmQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnc2Vjb25kJyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIGRhdGEuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEknbSBsZWF2aW5nIHRoaXMgYXMgYSB0ZW1wb3JhcnkgZml4IHNvIHdlIGNhbiB0ZXN0IHRoZSBiaXRtYXAgZm9udHMgaW4gdjNcbiAgICAgICAgLy8gYnV0IGl0J3MgdmVyeSBsaWtlbHkgdG8gY2hhbmdlXG4gICAgICAgIEJpdG1hcFRleHQuZm9udHNbZGF0YS5mb250XSA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhCaXRtYXBUZXh0LCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQudGludCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPj0gMCA/IHZhbHVlIDogMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbGlnbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC5hbGlnbiA9IHZhbHVlIHx8ICdsZWZ0JztcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYW5jaG9yJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBkZXNjcmlwdG9yIG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8b2JqZWN0fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlLnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB2YWx1ZS5sZW5ndGggPj0gMiA/IHBhcnNlSW50KHZhbHVlWzBdLCAxMCkgOiBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0uc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgPyB2YWx1ZS5zaXplIDogcGFyc2VJbnQodmFsdWUuc2l6ZSwgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpIHx8ICcgJztcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXhMaW5lSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1hcFRleHQ7XG5cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRGlzcGxheU9iamVjdCA9IGNvcmUuRGlzcGxheU9iamVjdDtcbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xuXG52YXIgQ2FjaGVEYXRhID1cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZURhdGEpO1xuXG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyV2ViR0wgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsSGl0VGVzdCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ2ZhbHNlJ1xuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIG1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMID0gdGhpcy5yZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9yZW5kZXJDYWNoZWRXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJXZWJHTCA9IGRhdGEub3JpZ2luYWxSZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZFdlYkdMID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmNsb25lKCk7XG5cbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5fZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgd2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnZW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIHZhciBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG5cbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBjb3JlLlJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9ICdjYWNoZUFzQml0bWFwXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgbS50eCA9IC1ib3VuZHMueDtcbiAgICBtLnR5ID0gLWJvdW5kcy55O1xuXG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIHRydWUpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuXG4gICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChjYWNoZWRSZW5kZXJUYXJnZXQpO1xuXG4gICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX3JlbmRlckNhY2hlZFdlYkdMO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICAvLyBlYXN5IGJvdW5kcy4uXG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUucmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG5cbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIHdlYkdMIHZlcmlzb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gY29yZS5SZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSAnY2FjaGVBc0JpdG1hcF8nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkobSk7XG4gICAgbS5pbnZlcnQoKTtcblxuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcblxuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcblxuICAgIC8vIHJlbmRlclRleHR1cmUucmVuZGVyKHRoaXMsIG0sIHRydWUpO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVBc0JpdG1hcC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lclxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gaW5zdGFuY2UgbmFtZVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbmNvcmUuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDaGlsZEJ5TmFtZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uIElmIG51bGwgYSBuZXcgcG9pbnQgd2lsbCBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtib29sZWFufSBza2lwVXBkYXRlIC0gc2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICogQHJldHVybiB7UG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50XG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbigpIHtcbiAgICB2YXIgcG9pbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBjb3JlLlBvaW50KCk7XG4gICAgdmFyIHNraXBVcGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRHbG9iYWxQb3NpdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRlhBQUZpbHRlciA9IHJlcXVpcmUoJy4vZnhhYS9GWEFBRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRlhBQUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZYQUFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05vaXNlRmlsdGVyID0gcmVxdWlyZSgnLi9ub2lzZS9Ob2lzZUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05vaXNlRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm9pc2VGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYWNlbWVudEZpbHRlciA9IHJlcXVpcmUoJy4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYWNlbWVudEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYWNlbWVudEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1ckZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1ckZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJYRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1clhGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1cllGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1cllGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db2xvck1hdHJpeEZpbHRlciA9IHJlcXVpcmUoJy4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb2xvck1hdHJpeEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yTWF0cml4RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BbHBoYUZpbHRlciA9IHJlcXVpcmUoJy4vYWxwaGEvQWxwaGFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbHBoYUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FscGhhRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcbiAqIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xuICogdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhGWEFBRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRlhBQUZpbHRlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIG5lZWRzIHdvcmtcbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudmVjMiBtYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAqPSBmaWx0ZXJBcmVhLnh5O1xcbiAgICBjb29yZCArPSBmaWx0ZXJBcmVhLnp3O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZlYzIgdW5tYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAtPSBmaWx0ZXJBcmVhLnp3O1xcbiAgICBjb29yZCAvPSBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWMyIGludmVyc2VWUCA9IDEuMCAvIHJlc29sdXRpb24ueHk7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcbiAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxuXFxuICAgdGV4Y29vcmRzKGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXRcXCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcbiBcXG4gLS1cXG4gXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuIFxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuIFxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG4gXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG4gXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuIFxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuIFxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgbWVkaXVtcCB2ZWMyIGludmVyc2VWUCA9IHZlYzIoMS4wIC8gcmVzb2x1dGlvbi54LCAxLjAgLyByZXNvbHV0aW9uLnkpO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcbiAgICBcXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG4gICAgXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuICAgIFxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcbiAgICBcXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRlhBQUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZYQUFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoTm9pc2VGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbm9pc2UgLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBub2lzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC41O1xuICAgICAgICB2YXIgc2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9pc2VGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTm9pc2VGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ25vaXNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2VlZCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vaXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9pc2VGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuIFlvdSBjYW5cbiAqIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLiBDdXJyZW50bHkgdGhlIHJcbiAqIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB4IGFuZCB0aGUgZyBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZVxuICogaXMgdXNlZCB0byBvZmZzZXQgdGhlIHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BsYWNlbWVudEZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckNsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSAqPSBzY2FsZSAvIGZpbHRlckFyZWEueHk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuXG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgY29yZS5Qb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxhY2VtZW50RmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdtYXAnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYWNlbWVudEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYWNlbWVudEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL0JsdXJYRmlsdGVyJyk7XG5cbnZhciBfQmx1clhGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1clhGaWx0ZXIpO1xuXG52YXIgX0JsdXJZRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWUZpbHRlcicpO1xuXG52YXIgX0JsdXJZRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB4LSBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1ckZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1ckZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IF9CbHVyWEZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IF9CbHVyWUZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcblxuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBmYWxzZSk7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXJZJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1ckZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhDb2xvck1hdHJpeEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvck1hdHJpeEZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLnVuaWZvcm1zLm0gPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIF9sb2FkTWF0cml4KG1hdHJpeCkge1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiBfbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbNV0gKyBhWzJdICogYlsxMF0gKyBhWzNdICogYlsxNV07XG4gICAgICAgIG91dFsxXSA9IGFbMF0gKiBiWzFdICsgYVsxXSAqIGJbNl0gKyBhWzJdICogYlsxMV0gKyBhWzNdICogYlsxNl07XG4gICAgICAgIG91dFsyXSA9IGFbMF0gKiBiWzJdICsgYVsxXSAqIGJbN10gKyBhWzJdICogYlsxMl0gKyBhWzNdICogYlsxN107XG4gICAgICAgIG91dFszXSA9IGFbMF0gKiBiWzNdICsgYVsxXSAqIGJbOF0gKyBhWzJdICogYlsxM10gKyBhWzNdICogYlsxOF07XG4gICAgICAgIG91dFs0XSA9IGFbMF0gKiBiWzRdICsgYVsxXSAqIGJbOV0gKyBhWzJdICogYlsxNF0gKyBhWzNdICogYlsxOV0gKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gYVs1XSAqIGJbMF0gKyBhWzZdICogYls1XSArIGFbN10gKiBiWzEwXSArIGFbOF0gKiBiWzE1XTtcbiAgICAgICAgb3V0WzZdID0gYVs1XSAqIGJbMV0gKyBhWzZdICogYls2XSArIGFbN10gKiBiWzExXSArIGFbOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzddID0gYVs1XSAqIGJbMl0gKyBhWzZdICogYls3XSArIGFbN10gKiBiWzEyXSArIGFbOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzhdID0gYVs1XSAqIGJbM10gKyBhWzZdICogYls4XSArIGFbN10gKiBiWzEzXSArIGFbOF0gKiBiWzE4XTtcbiAgICAgICAgb3V0WzldID0gYVs1XSAqIGJbNF0gKyBhWzZdICogYls5XSArIGFbN10gKiBiWzE0XSArIGFbOF0gKiBiWzE5XSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSBhWzEwXSAqIGJbMF0gKyBhWzExXSAqIGJbNV0gKyBhWzEyXSAqIGJbMTBdICsgYVsxM10gKiBiWzE1XTtcbiAgICAgICAgb3V0WzExXSA9IGFbMTBdICogYlsxXSArIGFbMTFdICogYls2XSArIGFbMTJdICogYlsxMV0gKyBhWzEzXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMTJdID0gYVsxMF0gKiBiWzJdICsgYVsxMV0gKiBiWzddICsgYVsxMl0gKiBiWzEyXSArIGFbMTNdICogYlsxN107XG4gICAgICAgIG91dFsxM10gPSBhWzEwXSAqIGJbM10gKyBhWzExXSAqIGJbOF0gKyBhWzEyXSAqIGJbMTNdICsgYVsxM10gKiBiWzE4XTtcbiAgICAgICAgb3V0WzE0XSA9IGFbMTBdICogYls0XSArIGFbMTFdICogYls5XSArIGFbMTJdICogYlsxNF0gKyBhWzEzXSAqIGJbMTldICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gYVsxNV0gKiBiWzBdICsgYVsxNl0gKiBiWzVdICsgYVsxN10gKiBiWzEwXSArIGFbMThdICogYlsxNV07XG4gICAgICAgIG91dFsxNl0gPSBhWzE1XSAqIGJbMV0gKyBhWzE2XSAqIGJbNl0gKyBhWzE3XSAqIGJbMTFdICsgYVsxOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzE3XSA9IGFbMTVdICogYlsyXSArIGFbMTZdICogYls3XSArIGFbMTddICogYlsxMl0gKyBhWzE4XSAqIGJbMTddO1xuICAgICAgICBvdXRbMThdID0gYVsxNV0gKiBiWzNdICsgYVsxNl0gKiBiWzhdICsgYVsxN10gKiBiWzEzXSArIGFbMThdICogYlsxOF07XG4gICAgICAgIG91dFsxOV0gPSBhWzE1XSAqIGJbNF0gKyBhWzE2XSAqIGJbOV0gKyBhWzE3XSAqIGJbMTRdICsgYVsxOF0gKiBiWzE5XSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gX2NvbG9yTWF0cml4KG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuXG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW3NjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiBibGFja0FuZFdoaXRlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiBodWUocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuICAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG4gICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgxLjAgLSBjb3NSKSAqIHc7XG4gICAgICAgIHZhciBhMDEgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMDIgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG5cbiAgICAgICAgdmFyIGExMCA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyB3ICogKDEuMCAtIGNvc1IpO1xuICAgICAgICB2YXIgYTEyID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMjAgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjEgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW2EwMCwgYTAxLCBhMDIsIDAsIDAsIGExMCwgYTExLCBhMTIsIDAsIDAsIGEyMCwgYTIxLCBhMjIsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIGNvbnRyYXN0KGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW3YsIDAsIDAsIDAsIG8sIDAsIHYsIDAsIDAsIG8sIDAsIDAsIHYsIDAsIG8sIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIHNhdHVyYXRlKCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIHggPSBhbW91bnQgKiAyIC8gMyArIDE7XG4gICAgICAgIHZhciB5ID0gKHggLSAxKSAqIC0wLjU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt4LCB5LCB5LCAwLCAwLCB5LCB4LCB5LCAwLCAwLCB5LCB5LCB4LCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gZGVzYXR1cmF0ZSgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFstMSwgMCwgMCwgMSwgMCwgMCwgLTEsIDAsIDEsIDAsIDAsIDAsIC0xLCAxLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCwgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCwgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIHRlY2huaWNvbG9yKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LCAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gcG9sYXJvaWQobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCwgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24ga29kYWNocm9tZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLCAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLCAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIGJyb3duaShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gY29sb3JUb25lKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIHZhciBsUiA9IChsaWdodENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9IChsaWdodENvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoZGFya0NvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9IChkYXJrQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjMsIDAuNTksIDAuMTEsIDAsIDAsIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCwgZFIsIGRHLCBkQiwgdG9uZWQsIDAsIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW2ludGVuc2l0eSAqIC0yLjAsIC1pbnRlbnNpdHksIDAsIDAsIDAsIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCwgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgLy8gcm93IDFcbiAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LCAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAyXG4gICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LCAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsIDAgKiBhbW91bnQsIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDNcbiAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCwgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCwgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDRcbiAgICAgICAgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzIsIC0wLjQsIDAuNSwgMCwgMCwgLTAuNSwgMiwgLTAuNCwgMCwgMCwgLTAuNCwgLTAuNSwgMywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xvck1hdHJpeEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWF0cml4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbG9yTWF0cml4RmlsdGVyO1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hdHJpeEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGFcbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhBbHBoYUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMS4wO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbHBoYUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICBfdGhpcy5nbFNoYWRlcktleSA9ICdhbHBoYSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbHBoYUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFscGhhRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25EYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25EYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uTWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uTWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uTWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaW50ZXJhY3RpdmVUYXJnZXQgPSByZXF1aXJlKCcuL2ludGVyYWN0aXZlVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaW50ZXJhY3RpdmVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uRXZlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkV2ZW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfaW50ZXJhY3RpdmVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmVcbiAqIGlmIGl0cyBpbnRlcmFjdGl2ZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIHRydWVcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEludGVyYWN0aW9uTWFuYWdlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3Zlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYXRpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IF9JbnRlcmFjdGlvbkV2ZW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJpc29uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCAoc3RyaW5nfEZ1bmN0aW9ufE9iamVjdC48c3RyaW5nLCBzdHJpbmc+KT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogTm90IGFsd2F5cyBmaXJlZCB3aGVuIHNvbWUgYnV0dG9ucyBhcmUgaGVsZCBkb3duIHdoaWxlIG90aGVycyBhcmUgcmVsZWFzZWQuIEluIHRob3NlIGNhc2VzLFxuICAgICAgICAgKiB1c2UgW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufSBhbmRcbiAgICAgICAgICogW21vdXNldXBde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNldXB9IGluc3RlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIGhpdFRlc3QoZ2xvYmFsUG9pbnQsIHJvb3QpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGV0ZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiBzZXRUYXJnZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIGFkZEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXNlZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGlzZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS50aWNrZXIuc2hhcmVkfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcblxuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvLyBSZXNldHMgdGhlIGZsYWcgYXMgc2V0IGJ5IGEgc3RvcFByb3BhZ2F0aW9uIGNhbGwuIFRoaXMgZmxhZyBpcyB1c3VhbGx5IHJlc2V0IGJ5IGEgdXNlciBpbnRlcmFjdGlvbiBvZiBhbnkga2luZCxcbiAgICAgICAgLy8gYnV0IHRoZXJlIHdhcyBhIHNjZW5hcmlvIG9mIGEgZGlzcGxheSBvYmplY3QgbW92aW5nIHVuZGVyIGEgc3RhdGljIG1vdXNlIGN1cnNvci5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBtb3VzZW92ZXIgYW5kIG1vdXNlZXZlbnRzIHdvdWxkIG5vdCBwYXNzIHRoZSBmbGFnIHRlc3QgaW4gZGlzcGF0Y2hFdmVudCBmdW5jdGlvblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gc2V0Q3Vyc29yTW9kZShtb2RlKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcblxuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdCA9IHZvaWQgMDtcblxuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSBuYXZpZ2F0b3IuaXNDb2Nvb25KUyA/IHRoaXMucmVzb2x1dGlvbiA6IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBwb2ludC54ID0gKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiBwcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG5cbiAgICAgICAgLy8gVG9vayBhIGxpdHRsZSB3aGlsZSB0byByZXdvcmsgdGhpcyBmdW5jdGlvbiBjb3JyZWN0bHkhIEJ1dCBub3cgaXQgaXMgZG9uZSBhbmQgbmljZSBhbmQgb3B0aW1pc2VkLiBeX15cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIG5vdyBsb29wIHRocm91Z2ggYWxsIG9iamVjdHMgYW5kIHRoZW4gb25seSBoaXQgdGVzdCB0aGUgb2JqZWN0cyBpdCBIQVNcbiAgICAgICAgLy8gdG8sIG5vdCBhbGwgb2YgdGhlbS4gTVVDSCBmYXN0ZXIuLlxuICAgICAgICAvLyBBbiBvYmplY3Qgd2lsbCBiZSBoaXQgdGVzdCBpZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDE6IEl0IGlzIGludGVyYWN0aXZlLlxuICAgICAgICAvLyAyOiBJdCBiZWxvbmdzIHRvIGEgcGFyZW50IHRoYXQgaXMgaW50ZXJhY3RpdmUgQU5EIG9uZSBvZiB0aGUgcGFyZW50cyBjaGlsZHJlbiBoYXZlIG5vdCBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBBcyBhbm90aGVyIGxpdHRsZSBvcHRpbWlzYXRpb24gb25jZSBhbiBpbnRlcmFjdGl2ZSBvYmplY3QgaGFzIGJlZW4gaGl0IHdlIGNhbiBjYXJyeSBvblxuICAgICAgICAvLyB0aHJvdWdoIHRoZSBzY2VuZWdyYXBoLCBidXQgd2Uga25vdyB0aGF0IHRoZXJlIHdpbGwgYmUgbm8gbW9yZSBoaXRzISBTbyB3ZSBjYW4gYXZvaWQgZXh0cmEgaGl0IHRlc3RzXG4gICAgICAgIC8vIEEgZmluYWwgb3B0aW1pc2F0aW9uIGlzIHRoYXQgYW4gb2JqZWN0IGlzIG5vdCBoaXQgdGVzdCBkaXJlY3RseSBpZiBhIGNoaWxkIGhhcyBhbHJlYWR5IGJlZW4gaGl0LlxuXG4gICAgICAgIGludGVyYWN0aXZlID0gZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSB8fCBpbnRlcmFjdGl2ZTtcblxuICAgICAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuXG4gICAgICAgIC8vIEZsYWcgaGVyZSBjYW4gc2V0IHRvIGZhbHNlIGlmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBwYXJlbnRzIGhpdEFyZWEgb3IgbWFza1xuICAgICAgICB2YXIgaGl0VGVzdENoaWxkcmVuID0gdHJ1ZTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGxvbmdlciBhIG5lZWQgdG8gaGl0VGVzdCBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrXG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyRG93biA9IGZ1bmN0aW9uIG9uUG9pbnRlckRvd24ob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBhIG1vdXNlIGV2ZW50IGZvciBcInBlblwiIHBvaW50ZXJzLCB0aGUgd2F5IGEgYnJvd3NlciB3b3VsZCBlbWl0IGEgZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd24gPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckRvd24oaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlID0gZnVuY3Rpb24gb25Qb2ludGVyQ29tcGxldGUob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogJ3BvaW50ZXJ1cCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnICsgZXZlbnRBcHBlbmQgOiAnbW91c2V1cCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiAndG91Y2hlbmQnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBvblBvaW50ZXJDYW5jZWwoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyQ2FuY2VsKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlclVwKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdC5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmIHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3Q7XG5cbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gdGhpcy5tb3ZlV2hlbkluc2lkZSA6IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIGludGVyYWN0aXZlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyTW92ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gb25Qb2ludGVyT3V0KG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gb25Qb2ludGVyT3ZlcihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9JbnRlcmFjdGlvbkRhdGEyLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKHBvaW50ZXJJZCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSB3YXkgSW50ZXJhY3Rpb25NYW5hZ2VyIHByb2Nlc3NlZCB0b3VjaCBldmVudHMgYmVmb3JlIHRoZSByZWZhY3RvcmluZywgc28gSSd2ZSBrZXB0XG4gICAgICAgIC8vIGl0IGhlcmUuIEJ1dCBpdCBkb2Vzbid0IG1ha2UgdGhhdCBtdWNoIHNlbnNlIHRvIG1lLCBzaW5jZSBtYXBQb3NpdGlvblRvUG9pbnQgYWxyZWFkeSBmYWN0b3JzXG4gICAgICAgIC8vIGluIHRoaXMucmVzb2x1dGlvbiwgc28gdGhpcyBqdXN0IGRpdmlkZXMgYnkgdGhpcy5yZXNvbHV0aW9uIHR3aWNlIGZvciB0b3VjaCBldmVudHMuLi5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgICAgICAgICB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LndpZHRoID0gMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmhlaWdodCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgICAgICAgICAgICBldmVudC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgICAqXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvbk1hbmFnZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbk1hbmFnZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbk1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zaGFyZWQgPSBleHBvcnRzLlJlc291cmNlID0gZXhwb3J0cy50ZXh0dXJlUGFyc2VyID0gZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBleHBvcnRzLnNwcml0ZXNoZWV0UGFyc2VyID0gZXhwb3J0cy5wYXJzZUJpdG1hcEZvbnREYXRhID0gZXhwb3J0cy5iaXRtYXBGb250UGFyc2VyID0gZXhwb3J0cy5Mb2FkZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JpdG1hcEZvbnRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3BhcnNlQml0bWFwRm9udERhdGEnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9iaXRtYXBGb250UGFyc2VyLnBhcnNlO1xuICAgIH1cbn0pO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyID0gcmVxdWlyZSgnLi9zcHJpdGVzaGVldFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Nwcml0ZXNoZWV0UGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0UmVzb3VyY2VQYXRoJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3ByaXRlc2hlZXRQYXJzZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgIH1cbn0pO1xuXG52YXIgX3RleHR1cmVQYXJzZXIgPSByZXF1aXJlKCcuL3RleHR1cmVQYXJzZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0ZXh0dXJlUGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVzb3VyY2UnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZTtcbiAgICB9XG59KTtcblxudmFyIF9BcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL2NvcmUvQXBwbGljYXRpb24nKTtcblxudmFyIF9BcHBsaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbik7XG5cbnZhciBfbG9hZGVyID0gcmVxdWlyZSgnLi9sb2FkZXInKTtcblxudmFyIF9sb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9hZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBBUElzIHdoaWNoIGV4dGVuZHMgdGhlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyIHJlc291cmNlLWxvYWRlcn0gbW9kdWxlXG4gKiBmb3IgbG9hZGluZyBhc3NldHMsIGRhdGEsIGFuZCBvdGhlciByZXNvdXJjZXMgZHluYW1pY2FsbHkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTtcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAvLyByZXNvdXJjZXMuYnVubnlcbiAqICAgIC8vIHJlc291cmNlcy5zcGFjZXNoaXBcbiAqIH0pO1xuICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAqL1xuZXhwb3J0cy5Mb2FkZXIgPSBfbG9hZGVyMi5kZWZhdWx0O1xuXG5cbi8qKlxuICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAqIEBuYW1lIHNoYXJlZFxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIGxvYWRlclxufTtcblxuZXhwb3J0cy5zaGFyZWQgPSBzaGFyZWQ7XG5cbi8vIE1peGluIHRoZSBsb2FkZXIgY29uc3RydWN0aW9uXG5cbnZhciBBcHBQcm90b3R5cGUgPSBfQXBwbGljYXRpb24yLmRlZmF1bHQucHJvdG90eXBlO1xuXG5BcHBQcm90b3R5cGUuX2xvYWRlciA9IG51bGw7XG5cbi8qKlxuICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAqIEB0eXBlIHtQSVhJLmxvYWRlcnMuTG9hZGVyfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwUHJvdG90eXBlLCAnbG9hZGVyJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlcikge1xuICAgICAgICAgICAgdmFyIHNoYXJlZExvYWRlciA9IHRoaXMuX29wdGlvbnMuc2hhcmVkTG9hZGVyO1xuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIgPSBzaGFyZWRMb2FkZXIgPyBzaGFyZWQgOiBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlcjtcbiAgICB9XG59KTtcblxuLy8gT3ZlcnJpZGUgdGhlIGRlc3Ryb3kgZnVuY3Rpb25cbi8vIG1ha2luZyBzdXJlIHRvIGRlc3Ryb3kgdGhlIGN1cnJlbnQgTG9hZGVyXG5BcHBQcm90b3R5cGUuX3BhcmVudERlc3Ryb3kgPSBBcHBQcm90b3R5cGUuZGVzdHJveTtcbkFwcFByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3LCBzdGFnZU9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5fbG9hZGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3BhcmVudERlc3Ryb3kocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9hc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcblxudmFyIGFzeW5jID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FzeW5jKTtcblxudmFyIF9SZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIHNvbWUgY29uc3RhbnRzXG52YXIgTUFYX1BST0dSRVNTID0gMTAwO1xudmFyIHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2xvYWRSZXNvdXJjZShyLCBkKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gYXN5bmMucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcblxuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsb2FkZXJcbiAgICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgICAqXG4gICAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAgICogICAgIH0pXG4gICAgICpcbiAgICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICAgKiAgICAgLmFkZChbXG4gICAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIF0pXG4gICAgICpcbiAgICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0byBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2UgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3cgc2hvdWxkXG4gICAgICogICAgICB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuICAgICAgICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgdXJsID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgbmFtZWQgXCInICsgbmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgX1Jlc291cmNlMi5kZWZhdWx0KG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltfaTJdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhbGlhcyB1c2VcbiAgICAgKiBAbWV0aG9kIGFmdGVyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IDEwMCAvIG51bVRhc2tzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm90aWZ5IHdlIGFyZSBzdGFydGluZ1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgICAgICB2YXIgcGFyc2VkVXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSAmJiB1cmwuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyAnLycgKyB1cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJicgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc/JyArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczIsIHJlc291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IE1BWF9QUk9HUkVTUztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSgpO1xuXG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBfdGhpczMucHJvZ3Jlc3MgKz0gcmVzb3VyY2UucHJvZ3Jlc3NDaHVuaztcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF9yZXNvdXJjZUxvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvdXJjZUxvYWRlcik7XG5cbnZhciBfYmxvYiA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlci9saWIvbWlkZGxld2FyZXMvcGFyc2luZy9ibG9iJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX3RleHR1cmVQYXJzZXIgPSByZXF1aXJlKCcuL3RleHR1cmVQYXJzZXInKTtcblxudmFyIF90ZXh0dXJlUGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RleHR1cmVQYXJzZXIpO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyID0gcmVxdWlyZSgnLi9zcHJpdGVzaGVldFBhcnNlcicpO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nwcml0ZXNoZWV0UGFyc2VyKTtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyID0gcmVxdWlyZSgnLi9iaXRtYXBGb250UGFyc2VyJyk7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRtYXBGb250UGFyc2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5sb2FkZXI7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6cmVzb3VyY2UtbG9hZGVyLlJlc291cmNlTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSS5sb2FkZXJzXG4gKi9cbnZhciBMb2FkZXIgPSBmdW5jdGlvbiAoX1Jlc291cmNlTG9hZGVyKSB7XG4gICAgX2luaGVyaXRzKExvYWRlciwgX1Jlc291cmNlTG9hZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2FkZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZXNvdXJjZUxvYWRlci5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KSk7XG5cbiAgICAgICAgX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdC5jYWxsKF90aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGl4aU1pZGRsZXdhcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIF90aGlzLnVzZShMb2FkZXIuX3BpeGlNaWRkbGV3YXJlW2ldKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcGF0IGxheWVyLCB0cmFuc2xhdGUgdGhlIG5ldyB2MiBzaWduYWxzIGludG8gb2xkIHYxIGV2ZW50cy5cbiAgICAgICAgX3RoaXMub25TdGFydC5hZGQoZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdzdGFydCcsIGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25Qcm9ncmVzcy5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdwcm9ncmVzcycsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25FcnJvci5hZGQoZnVuY3Rpb24gKGUsIGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdlcnJvcicsIGUsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25Mb2FkLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2xvYWQnLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnY29tcGxldGUnLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZGVmYXVsdCBtaWRkbGV3YXJlIHRvIHRoZSBQaXhpSlMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgdG8gYWRkLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShmbikge1xuICAgICAgICBMb2FkZXIuX3BpeGlNaWRkbGV3YXJlLnB1c2goZm4pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufShfcmVzb3VyY2VMb2FkZXIyLmRlZmF1bHQpO1xuXG4vLyBDb3B5IEVFMyBwcm90b3R5cGUgKG1peGluKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbmZvciAodmFyIGsgaW4gX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdC5wcm90b3R5cGUpIHtcbiAgICBMb2FkZXIucHJvdG90eXBlW2tdID0gX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdC5wcm90b3R5cGVba107XG59XG5cbkxvYWRlci5fcGl4aU1pZGRsZXdhcmUgPSBbXG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5fYmxvYi5ibG9iTWlkZGxld2FyZUZhY3RvcnksXG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5fdGV4dHVyZVBhcnNlcjIuZGVmYXVsdCxcbi8vIHBhcnNlIGFueSBzcHJpdGVzaGVldCBkYXRhIGludG8gbXVsdGlwbGUgdGV4dHVyZXNcbl9zcHJpdGVzaGVldFBhcnNlcjIuZGVmYXVsdCxcbi8vIHBhcnNlIGJpdG1hcCBmb250IGRhdGEgaW50byBtdWx0aXBsZSB0ZXh0dXJlc1xuX2JpdG1hcEZvbnRQYXJzZXIyLmRlZmF1bHRdO1xuXG4vLyBBZGQgY3VzdG9tIGV4dGVudGlvbnNcbnZhciBSZXNvdXJjZSA9IF9yZXNvdXJjZUxvYWRlcjIuZGVmYXVsdC5SZXNvdXJjZTtcblxuUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLmJsb2JNaWRkbGV3YXJlRmFjdG9yeSA9IGJsb2JNaWRkbGV3YXJlRmFjdG9yeTtcblxudmFyIF9SZXNvdXJjZSA9IHJlcXVpcmUoJy4uLy4uL1Jlc291cmNlJyk7XG5cbnZhciBfUmVzb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVzb3VyY2UpO1xuXG52YXIgX2IgPSByZXF1aXJlKCcuLi8uLi9iNjQnKTtcblxudmFyIF9iMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuXG4vLyBhIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmVGYWN0b3J5KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBibG9iTWlkZGxld2FyZShyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG4gICAgICAgIGlmIChyZXNvdXJjZS54aHIgJiYgcmVzb3VyY2UueGhyVHlwZSA9PT0gX1Jlc291cmNlMi5kZWZhdWx0LlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGJsb2Igc3VwcG9ydCB3ZSBwcm9iYWJseSBnb3QgYSBiaW5hcnkgc3RyaW5nIGJhY2tcbiAgICAgICAgICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSByZXNvdXJjZS54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9ICdkYXRhOicgKyB0eXBlICsgJztiYXNlNjQsJyArIF9iMi5kZWZhdWx0LmVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gX1Jlc291cmNlMi5kZWZhdWx0LlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZTIuZGVmYXVsdC5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSXMgdGhpcyBjb3JyZWN0PyBXaWxsIHRoZSBpbWFnZSBiZSBpbnZhbGlkIGFmdGVyIHJldm9raW5nP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdjogdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvYi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9NZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL01lc2hSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2hSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2hSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzTWVzaFJlbmRlcmVyID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9QbGFuZSA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9OaW5lU2xpY2VQbGFuZSA9IHJlcXVpcmUoJy4vTmluZVNsaWNlUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdOaW5lU2xpY2VQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05pbmVTbGljZVBsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Sb3BlID0gcmVxdWlyZSgnLi9Sb3BlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUm9wZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvcGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX01lc2ggPSByZXF1aXJlKCcuLi9NZXNoJyk7XG5cbnZhciBfTWVzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBtYXRyaXhJZGVudGl0eSA9IGNvcmUuTWF0cml4LklERU5USVRZO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIE1lc2hSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhNZXNoUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIGZvciByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmVyfSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaFJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcbicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJzIG1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggbWVzaCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihtZXNoKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xEYXRhID0gbWVzaC5fZ2xEYXRhc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbERhdGEpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgICAgIGdsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzaGFkZXI6IHRoaXMuc2hhZGVyLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnZlcnRpY2VzLCBnbC5TVFJFQU1fRFJBVyksXG4gICAgICAgICAgICAgICAgdXZCdWZmZXI6IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbWVzaC51dnMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIG1lc2guaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpLFxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhbzogbnVsbCxcbiAgICAgICAgICAgICAgICBkaXJ0eTogbWVzaC5kaXJ0eSxcbiAgICAgICAgICAgICAgICBpbmRleERpcnR5OiBtZXNoLmluZGV4RGlydHksXG4gICAgICAgICAgICAgICAgdmVydGV4RGlydHk6IG1lc2gudmVydGV4RGlydHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgZ2xEYXRhLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCkuYWRkSW5kZXgoZ2xEYXRhLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnZlcnRleEJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCkuYWRkQXR0cmlidXRlKGdsRGF0YS51dkJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsIGdsLkZMT0FULCBmYWxzZSwgMiAqIDQsIDApO1xuXG4gICAgICAgICAgICBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8oZ2xEYXRhLnZhbyk7XG5cbiAgICAgICAgaWYgKG1lc2guZGlydHkgIT09IGdsRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmRpcnR5ID0gbWVzaC5kaXJ0eTtcbiAgICAgICAgICAgIGdsRGF0YS51dkJ1ZmZlci51cGxvYWQobWVzaC51dnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc2guaW5kZXhEaXJ0eSAhPT0gZ2xEYXRhLmluZGV4RGlydHkpIHtcbiAgICAgICAgICAgIGdsRGF0YS5pbmRleERpcnR5ID0gbWVzaC5pbmRleERpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4QnVmZmVyLnVwbG9hZChtZXNoLmluZGljZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc2gudmVydGV4RGlydHkgIT09IGdsRGF0YS52ZXJ0ZXhEaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLnZlcnRleERpcnR5ID0gbWVzaC52ZXJ0ZXhEaXJ0eTtcbiAgICAgICAgICAgIGdsRGF0YS52ZXJ0ZXhCdWZmZXIudXBsb2FkKG1lc2gudmVydGljZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihnbERhdGEuc2hhZGVyKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBpZiAoZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1lc2guX3V2VHJhbnNmb3JtLm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1hdHJpeElkZW50aXR5LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG1lc2gud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKG1lc2gudGludFJnYiwgbWVzaC53b3JsZEFscGhhLCBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIHZhciBkcmF3TW9kZSA9IG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCA/IGdsLlRSSUFOR0xFX1NUUklQIDogZ2wuVFJJQU5HTEVTO1xuXG4gICAgICAgIGdsRGF0YS52YW8uZHJhdyhkcmF3TW9kZSwgbWVzaC5pbmRpY2VzLmxlbmd0aCwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBtZXNoZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgZG93bnBvcnQgd29ya3MgZm9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtZXNoLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMgfCAwLCB0cmFuc2Zvcm0udHkgKiByZXMgfCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMsIHRyYW5zZm9ybS50eSAqIHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5jb250ZXh0Lmdsb2JhbEFscGhhID0gbWVzaC53b3JsZEFscGhhO1xuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUobWVzaC5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGlmIChtZXNoLmRyYXdNb2RlID09PSBfTWVzaDIuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0gpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlcyhtZXNoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIFRyaWFuZ2xlIE1lc2ggbW9kZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlTWVzaCA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZU1lc2gobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBsZW5ndGggPSBtZXNoLnZlcnRpY2VzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4LCBpbmRleCArIDIsIGluZGV4ICsgNCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIG9iamVjdCBpbiB0cmlhbmdsZSBtb2RlIHVzaW5nIGNhbnZhc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJUcmlhbmdsZXMgPSBmdW5jdGlvbiBfcmVuZGVyVHJpYW5nbGVzKG1lc2gpIHtcbiAgICAgICAgLy8gZHJhdyB0cmlhbmdsZXMhIVxuICAgICAgICB2YXIgaW5kaWNlcyA9IG1lc2guaW5kaWNlcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGluZGljZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXgwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZGV4MiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIG9uZSBvZiB0aGUgdHJpYW5nbGVzIHRoYXQgZnJvbSB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDAgLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDEgLSB0aGUgaW5kZXggb2YgdGhlIHNlY29uZCB2ZXJ0ZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgyIC0gdGhlIGluZGV4IG9mIHRoZSB0aGlyZCB2ZXJ0ZXhcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyRHJhd1RyaWFuZ2xlID0gZnVuY3Rpb24gX3JlbmRlckRyYXdUcmlhbmdsZShtZXNoLCBpbmRleDAsIGluZGV4MSwgaW5kZXgyKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdXZzID0gbWVzaC51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IGJhc2Uud2lkdGg7XG4gICAgICAgIHZhciB0ZXh0dXJlSGVpZ2h0ID0gYmFzZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHUwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdTEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MiA9IHZvaWQgMDtcblxuICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdmFyIHV0ID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQ7XG5cbiAgICAgICAgICAgIHUwID0gKHV2c1tpbmRleDBdICogdXQuYSArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSAodXZzW2luZGV4MV0gKiB1dC5hICsgdXZzW2luZGV4MSArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9ICh1dnNbaW5kZXgyXSAqIHV0LmEgKyB1dnNbaW5kZXgyICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gKHV2c1tpbmRleDBdICogdXQuYiArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gKHV2c1tpbmRleDFdICogdXQuYiArIHV2c1tpbmRleDEgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYyID0gKHV2c1tpbmRleDJdICogdXQuYiArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHUwID0gdXZzW2luZGV4MF0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSB1dnNbaW5kZXgxXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9IHV2c1tpbmRleDJdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gdXZzW2luZGV4MCArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MSA9IHV2c1tpbmRleDEgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSB1dnNbaW5kZXgyICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4MF07XG4gICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4MV07XG4gICAgICAgIHZhciB4MiA9IHZlcnRpY2VzW2luZGV4Ml07XG4gICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4MCArIDFdO1xuICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleDEgKyAxXTtcbiAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXgyICsgMV07XG5cbiAgICAgICAgdmFyIGNhbnZhc1BhZGRpbmcgPSBtZXNoLmNhbnZhc1BhZGRpbmcgLyB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKGNhbnZhc1BhZGRpbmcgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcGFkZGluZ1ggPSBjYW52YXNQYWRkaW5nIC8gTWF0aC5hYnMobWVzaC53b3JsZFRyYW5zZm9ybS5hKTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWSA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmQpO1xuICAgICAgICAgICAgdmFyIGNlbnRlclggPSAoeDAgKyB4MSArIHgyKSAvIDM7XG4gICAgICAgICAgICB2YXIgY2VudGVyWSA9ICh5MCArIHkxICsgeTIpIC8gMztcblxuICAgICAgICAgICAgdmFyIG5vcm1YID0geDAgLSBjZW50ZXJYO1xuICAgICAgICAgICAgdmFyIG5vcm1ZID0geTAgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICB2YXIgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG5cbiAgICAgICAgICAgIHgwID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTAgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG5cbiAgICAgICAgICAgIC8vXG5cbiAgICAgICAgICAgIG5vcm1YID0geDEgLSBjZW50ZXJYO1xuICAgICAgICAgICAgbm9ybVkgPSB5MSAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQobm9ybVggKiBub3JtWCArIG5vcm1ZICogbm9ybVkpO1xuICAgICAgICAgICAgeDEgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MSA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgbm9ybVggPSB4MiAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkyIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MiA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkyID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDEsIHkxKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcblxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgbWF0cml4IHRyYW5zZm9ybVxuICAgICAgICB2YXIgZGVsdGEgPSB1MCAqIHYxICsgdjAgKiB1MiArIHUxICogdjIgLSB2MSAqIHUyIC0gdjAgKiB1MSAtIHUwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUEgPSB4MCAqIHYxICsgdjAgKiB4MiArIHgxICogdjIgLSB2MSAqIHgyIC0gdjAgKiB4MSAtIHgwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUIgPSB1MCAqIHgxICsgeDAgKiB1MiArIHUxICogeDIgLSB4MSAqIHUyIC0geDAgKiB1MSAtIHUwICogeDI7XG4gICAgICAgIHZhciBkZWx0YUMgPSB1MCAqIHYxICogeDIgKyB2MCAqIHgxICogdTIgKyB4MCAqIHUxICogdjIgLSB4MCAqIHYxICogdTIgLSB2MCAqIHUxICogeDIgLSB1MCAqIHgxICogdjI7XG4gICAgICAgIHZhciBkZWx0YUQgPSB5MCAqIHYxICsgdjAgKiB5MiArIHkxICogdjIgLSB2MSAqIHkyIC0gdjAgKiB5MSAtIHkwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUUgPSB1MCAqIHkxICsgeTAgKiB1MiArIHUxICogeTIgLSB5MSAqIHUyIC0geTAgKiB1MSAtIHUwICogeTI7XG4gICAgICAgIHZhciBkZWx0YUYgPSB1MCAqIHYxICogeTIgKyB2MCAqIHkxICogdTIgKyB5MCAqIHUxICogdjIgLSB5MCAqIHYxICogdTIgLSB2MCAqIHUxICogeTIgLSB1MCAqIHkxICogdjI7XG5cbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0oZGVsdGFBIC8gZGVsdGEsIGRlbHRhRCAvIGRlbHRhLCBkZWx0YUIgLyBkZWx0YSwgZGVsdGFFIC8gZGVsdGEsIGRlbHRhQyAvIGRlbHRhLCBkZWx0YUYgLyBkZWx0YSk7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZVNvdXJjZSwgMCwgMCwgdGV4dHVyZVdpZHRoICogYmFzZS5yZXNvbHV0aW9uLCB0ZXh0dXJlSGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uLCAwLCAwLCB0ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmludmFsaWRhdGVCbGVuZE1vZGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGZsYXQgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gVGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTWVzaEZsYXQgPSBmdW5jdGlvbiByZW5kZXJNZXNoRmxhdChtZXNoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDI7ICsraSkge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB2YXIgeDAgPSB2ZXJ0aWNlc1tpbmRleF07XG4gICAgICAgICAgICB2YXIgeTAgPSB2ZXJ0aWNlc1tpbmRleCArIDFdO1xuXG4gICAgICAgICAgICB2YXIgeDEgPSB2ZXJ0aWNlc1tpbmRleCArIDJdO1xuICAgICAgICAgICAgdmFyIHkxID0gdmVydGljZXNbaW5kZXggKyAzXTtcblxuICAgICAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXggKyA0XTtcbiAgICAgICAgICAgIHZhciB5MiA9IHZlcnRpY2VzW2luZGV4ICsgNV07XG5cbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgwLCB5MCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNGRjAwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVzaFNwcml0ZVJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignbWVzaCcsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNNZXNoUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BsYW5lMiA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxudmFyIF9QbGFuZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGFuZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5QbGFuZVxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xuXG52YXIgTmluZVNsaWNlUGxhbmUgPSBmdW5jdGlvbiAoX1BsYW5lKSB7XG4gICAgX2luaGVyaXRzKE5pbmVTbGljZVBsYW5lLCBfUGxhbmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7aW50fSBbbGVmdFdpZHRoPTEwXSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge2ludH0gW3RvcEhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7aW50fSBbcmlnaHRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7aW50fSBbYm90dG9tSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmluZVNsaWNlUGxhbmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9QbGFuZS5jYWxsKHRoaXMsIHRleHR1cmUsIDQsIDQpKTtcblxuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JpZ2h0V2lkdGggPSB0eXBlb2YgcmlnaHRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyByaWdodFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgX3RoaXMucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2YXIgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG5cbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSB0aGlzLl9yaWdodFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyIHRvIHJlbmRlciB3aXRoLlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHcgPSBiYXNlLndpZHRoICogYmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaCA9IGJhc2UuaGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMCwgMSwgMTAsIDExKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyLCAzLCAxMiwgMTMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDQsIDUsIDE0LCAxNSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgOCwgOSwgMTgsIDE5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMCwgMTEsIDIwLCAyMSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTIsIDEzLCAyMiwgMjMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE2LCAxNywgMjYsIDI3KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxOCwgMTksIDI4LCAyOSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMjAsIDIxLCAzMCwgMzEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG9uZSBzZWdtZW50IG9mIHRoZSBwbGFuZS5cbiAgICAgKiB0byBtaW1pYyB0aGUgZXhhY3QgZHJhd2luZyBiZWhhdmlvciBvZiBzdHJldGNoaW5nIHRoZSBpbWFnZSBsaWtlIFdlYkdMIGRvZXMsIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgICogdGhhdCB0aGUgc291cmNlIGFyZWEgaXMgYXQgbGVhc3QgMSBwaXhlbCBpbiBzaXplLCBvdGhlcndpc2Ugbm90aGluZyBnZXRzIGRyYXduIHdoZW4gYSBzbGljZSBzaXplIG9mIDAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBkcmF3IHdpdGguXG4gICAgICogQHBhcmFtIHtDYW52YXNJbWFnZVNvdXJjZX0gdGV4dHVyZVNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdyAtIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGggLSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSB4IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSB5IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSB4IGluZGV4IDJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSB5IGluZGV4IDJcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLmRyYXdTZWdtZW50ID0gZnVuY3Rpb24gZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHlvdSBnZXQgd2VpcmQgcmVzdWx0cyB3aGVuIHVzaW5nIHNsaWNlcyBvZiB0aGF0IGFyZSAwIHdpZGUgb3IgaGlnaC5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBzdyA9ICh1dnNbeDJdIC0gdXZzW3gxXSkgKiB3O1xuICAgICAgICB2YXIgc2ggPSAodXZzW3kyXSAtIHV2c1t5MV0pICogaDtcbiAgICAgICAgdmFyIGR3ID0gdmVydGljZXNbeDJdIC0gdmVydGljZXNbeDFdO1xuICAgICAgICB2YXIgZGggPSB2ZXJ0aWNlc1t5Ml0gLSB2ZXJ0aWNlc1t5MV07XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2Ugbm90aGluZyB3aWxsIGJlIGRyYXduLlxuICAgICAgICBpZiAoc3cgPCAxKSB7XG4gICAgICAgICAgICBzdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2ggPCAxKSB7XG4gICAgICAgICAgICBzaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgZGVzdGluYXRpb24gaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2UgeW91IGdldFxuICAgICAgICAvLyBsaW5lcyB3aGVuIHJlbmRlcmluZyBjbG9zZSB0byBvcmlnaW5hbCBzaXplLlxuICAgICAgICBpZiAoZHcgPCAxKSB7XG4gICAgICAgICAgICBkdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGggPCAxKSB7XG4gICAgICAgICAgICBkaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCB1dnNbeDFdICogdywgdXZzW3kxXSAqIGgsIHN3LCBzaCwgdmVydGljZXNbeDFdLCB2ZXJ0aWNlc1t5MV0sIGR3LCBkaCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgX1BsYW5lLnByb3RvdHlwZS5fcmVmcmVzaC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSBfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhOaW5lU2xpY2VQbGFuZSwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGVmdFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oX1BsYW5lMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTmluZVNsaWNlUGxhbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VQbGFuZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaDIgPSByZXF1aXJlKCcuL01lc2gnKTtcblxudmFyIF9NZXNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVtIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5Sb3BlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guTWVzaFxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xudmFyIFJvcGUgPSBmdW5jdGlvbiAoX01lc2gpIHtcbiAgICBfaW5oZXJpdHMoUm9wZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm9wZSh0ZXh0dXJlLCBwb2ludHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvcGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX01lc2guY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVdnMgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBjb2xvciBjb21wb25lbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb24gZXZlcnkgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlc1xuICAgICAqXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxIHx8ICF0aGlzLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kaWNlcztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgY29sb3JzWzBdID0gMTtcbiAgICAgICAgY29sb3JzWzFdID0gMTtcblxuICAgICAgICBpbmRpY2VzWzBdID0gMDtcbiAgICAgICAgaW5kaWNlc1sxXSA9IDE7XG5cbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcblxuICAgICAgICAgICAgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPSAxO1xuICAgICAgICAgICAgY29sb3JzW2luZGV4ICsgMV0gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleF0gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXggKyAxXSA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuaW5kZXhEaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmVydGljZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS5yZWZyZXNoVmVydGljZXMgPSBmdW5jdGlvbiByZWZyZXNoVmVydGljZXMoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG5cbiAgICAgICAgLy8gdGhpcy5jb3VudCAtPSAwLjI7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgdmFyIHJhdGlvID0gKDEgLSBpIC8gKHRvdGFsIC0gMSkpICogMTA7XG5cbiAgICAgICAgICAgIGlmIChyYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KHBlcnBYICogcGVycFggKyBwZXJwWSAqIHBlcnBZKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLl90ZXh0dXJlLmhlaWdodCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3BlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9QYXJ0aWNsZUNvbnRhaW5lciA9IHJlcXVpcmUoJy4vUGFydGljbGVDb250YWluZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQYXJ0aWNsZUNvbnRhaW5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlQ29udGFpbmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9QYXJ0aWNsZVJlbmRlcmVyID0gcmVxdWlyZSgnLi93ZWJnbC9QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGFydGljbGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy4gVGhlIHRyYWRlb2ZmIG9mIHRoZSBQYXJ0aWNsZUNvbnRhaW5lciBpcyB0aGF0IG1vc3QgYWR2YW5jZWRcbiAqIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay4gUGFydGljbGVDb250YWluZXIgaW1wbGVtZW50cyB0aGUgYmFzaWMgb2JqZWN0IHRyYW5zZm9ybSAocG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbilcbiAqIGFuZCBzb21lIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aW50IChhcyBvZiB2NC41LjYpLlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZSA6XG4gKlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLnBhcnRpY2xlc1xuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlQ29udGFpbmVyLCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIG1heFNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE1MDA7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxNjM4NDtcbiAgICAgICAgdmFyIGF1dG9SZXNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4U2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTEJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBjb3JlLkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBmb3IgY2FudmFzIHJlbmRlcmVyaW5nLiBJZiB0cnVlIHRoZW4gdGhlIGVsZW1lbnRzIHdpbGwgYmUgcG9zaXRpb25lZCBhdCB0aGVcbiAgICAgICAgICogbmVhcmVzdCBwaXhlbC4gVGhpcyBwcm92aWRlcyBhIG5pY2Ugc3BlZWQgYm9vc3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWU7XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gMDtcbiAgICAgICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLy8gIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCggdGhpcyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIHdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DaGlsZHJlbkNoYW5nZSgwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgaXNSb3RhdGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG5cbiAgICAgICAgdmFyIGZpbmFsV2lkdGggPSAwO1xuICAgICAgICB2YXIgZmluYWxIZWlnaHQgPSAwO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBjaGlsZC5fdGV4dHVyZS5mcmFtZTtcblxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGNoaWxkLmFscGhhO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucm90YXRpb24gJSAoTWF0aC5QSSAqIDIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZmFzdGVzdCAgd2F5IHRvIG9wdGltaXNlISAtIGlmIHJvdGF0aW9uIGlzIDAgdGhlbiB3ZSBjYW4gYXZvaWQgYW55IGtpbmQgb2Ygc2V0VHJhbnNmb3JtIGNhbGxcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hLCB0cmFuc2Zvcm0uYiwgdHJhbnNmb3JtLmMsIHRyYW5zZm9ybS5kLCB0cmFuc2Zvcm0udHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqICgtZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54KSArIGNoaWxkLnBvc2l0aW9uLnggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAoLWZyYW1lLmhlaWdodCAqIGNoaWxkLnNjYWxlLnkpICsgY2hpbGQucG9zaXRpb24ueSArIDAuNTtcblxuICAgICAgICAgICAgICAgIGZpbmFsV2lkdGggPSBmcmFtZS53aWR0aCAqIGNoaWxkLnNjYWxlLng7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRyYW5zZm9ybSA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgY2hpbGRUcmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqIC1mcmFtZS53aWR0aCArIDAuNTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBjaGlsZC5hbmNob3IueSAqIC1mcmFtZS5oZWlnaHQgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiwgZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbiwgcG9zaXRpb25YICogcmVuZGVyZXIucmVzb2x1dGlvbiwgcG9zaXRpb25ZICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZmluYWxXaWR0aCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsSGVpZ2h0ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUGFydGljbGVDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVDb250YWluZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUNvbnRhaW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlU2hhZGVyJyk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVTaGFkZXIpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZUJ1ZmZlcicpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlQnVmZmVyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVSZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICAvLyBzZXR1cCBkZWZhdWx0IHNoYWRlclxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBfUGFydGljbGVTaGFkZXIyLmRlZmF1bHQoZ2wpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb25Db29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFSb3RhdGlvbixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLFxuICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBwYXJ0aWNsZSBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXJ0aWNsZSBjb250YWluZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2dsQnVmZmVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHkodGhpcy50ZW1wTWF0cml4KTtcblxuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLCBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGV4dHVyZSBpcyBib3VuZC4uXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSB0b3RhbENoaWxkcmVuIC0gaTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tqXTtcblxuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG5cbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuXG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgYnVmZmVyLl91cGRhdGVJRCA8IGJpZDtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKGJ1ZmZlci52YW8pO1xuICAgICAgICAgICAgYnVmZmVyLnZhby5kcmF3KGdsLlRSSUFOR0xFUywgYW1vdW50ICogNik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIGdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXcgX1BhcnRpY2xlQnVmZmVyMi5kZWZhdWx0KGdsLCB0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIF9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBuZXcgX1BhcnRpY2xlQnVmZmVyMi5kZWZhdWx0KGdsLCB0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciB2ZXJ0aWNlcyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gdXBsb2FkVmVydGljZXMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICB2YXIgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSBvcmlnLndpZHRoICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gb3JpZy53aWR0aCAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcG9zaXRpb25zIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiB1cGxvYWRQb3NpdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVBvc2l0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFJvdGF0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gdXBsb2FkVXZzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cykge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSB0ZXh0dXJlVXZzLnkyO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IHRleHR1cmVVdnMueTM7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRUaW50ID0gZnVuY3Rpb24gdXBsb2FkVGludChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/ICgwLCBfdXRpbHMucHJlbXVsdGlwbHlUaW50KShzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5nbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBfY29yZSRPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU2hhZGVyMiA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlU2hhZGVyID0gZnVuY3Rpb24gKF9TaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoUGFydGljbGVTaGFkZXIsIF9TaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gZ2wgLSBUaGUgd2ViZ2wgc2hhZGVyIG1hbmFnZXIgdGhpcyBzaGFkZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlU2hhZGVyKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZVNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TaGFkZXIuY2FsbCh0aGlzLCBnbCxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAnYXR0cmlidXRlIHZlYzQgYUNvbG9yOycsICdhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDsnLCAnYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7JywgJyAgIGZsb2F0IHkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7JywgJyAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7JywgJyAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7JywgJyAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpLFxuICAgICAgICAvLyBoZWxsb1xuICAgICAgICBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yOycsICcgIGdsX0ZyYWdDb2xvciA9IGNvbG9yOycsICd9J10uam9pbignXFxuJykpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUGFydGljbGVTaGFkZXI7XG59KF9TaGFkZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKGdsLCBwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogcHJvcGVydHkuYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIHNpemU6IHByb3BlcnR5LnNpemUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogcHJvcGVydHkudW5zaWduZWRCeXRlLFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5pbml0QnVmZmVycyA9IGZ1bmN0aW9uIGluaXRCdWZmZXJzKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkodGhpcy5zaXplKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIGR5bkJ1ZmZlciwgZ2wuU1RSRUFNX0RSQVcpO1xuXG4gICAgICAgIC8vIHN0YXRpYyAvL1xuICAgICAgICB2YXIgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbX2ldO1xuXG4gICAgICAgICAgICBfcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGljT2Zmc2V0ICs9IF9wcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gX3Byb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBzdGF0QnVmZmVyLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eTIgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW19pMl07XG5cbiAgICAgICAgICAgIGlmIChfcHJvcGVydHkyLnVuc2lnbmVkQnl0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsIF9wcm9wZXJ0eTIuYXR0cmlidXRlLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBfcHJvcGVydHkyLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5keW5hbWljQnVmZmVyLCBfcHJvcGVydHkyLmF0dHJpYnV0ZSwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBfcHJvcGVydHkyLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkzID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW19pM107XG5cbiAgICAgICAgICAgIGlmIChfcHJvcGVydHkzLnVuc2lnbmVkQnl0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlciwgX3Byb3BlcnR5My5hdHRyaWJ1dGUsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgX3Byb3BlcnR5My5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLCBfcHJvcGVydHkzLmF0dHJpYnV0ZSwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTMub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiB1cGxvYWREeW5hbWljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLnVwbG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiB1cGxvYWRTdGF0aWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIudXBsb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZUJ1ZmZlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVCdWZmZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUJ1ZmZlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xQcmVwYXJlID0gcmVxdWlyZSgnLi93ZWJnbC9XZWJHTFByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3ZWJnbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzUHJlcGFyZSA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc1ByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjYW52YXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlUHJlcGFyZSA9IHJlcXVpcmUoJy4vQmFzZVByZXBhcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlUHJlcGFyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db3VudExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL0NvdW50TGltaXRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvdW50TGltaXRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGltZUxpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXJzL1RpbWVMaW1pdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGltZUxpbWl0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGltaXRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmFzZVByZXBhcmUyID0gcmVxdWlyZSgnLi4vQmFzZVByZXBhcmUnKTtcblxudmFyIF9CYXNlUHJlcGFyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgV2ViR0xQcmVwYXJlID0gZnVuY3Rpb24gKF9CYXNlUHJlcGFyZSkge1xuICAgIF9pbmhlcml0cyhXZWJHTFByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdlYkdMUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xQcmVwYXJlO1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuR3JhcGhpY3MpIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFdlYkdMUHJlcGFyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ0FOVkFTX1NUQVJUX1NJWkUgPSAxNjtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVVxuICogVGhpcyBjYW5ub3QgYmUgZG9uZSBkaXJlY3RseSBmb3IgQ2FudmFzIGxpa2UgaW4gV2ViR0wsIGJ1dCB0aGUgZWZmZWN0IGNhbiBiZSBhY2hpZXZlZCBieSBkcmF3aW5nXG4gKiB0ZXh0dXJlcyB0byBhbiBvZmZsaW5lIGNhbnZhcy5cbiAqIFRoaXMgZHJhdyBjYWxsIHdpbGwgZm9yY2UgdGhlIHRleHR1cmUgdG8gYmUgbW92ZWQgb250byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuXG52YXIgQ2FudmFzUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUHJlcGFyZSwgX0Jhc2VQcmVwYXJlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1ByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1ByZXBhcmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEFuIG9mZmxpbmUgY2FudmFzIHRvIHJlbmRlciB0ZXh0dXJlcyB0b1xuICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgX3RoaXMuY2FudmFzLndpZHRoID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG4gICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfU1RBUlRfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbnRleHQgdG8gdGhlIGNhbnZhc1xuICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3R4ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1ByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jdHggPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNQcmVwYXJlO1xufShfQmFzZVByZXBhcmUzLmRlZmF1bHQpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gcHJlcGFyZSAtIEluc3RhbmNlIG9mIENhbnZhc1ByZXBhcmVcbiAqIEBwYXJhbSB7Kn0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhwcmVwYXJlLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IGl0ZW0uc291cmNlO1xuXG4gICAgICAgIC8vIFNvbWV0aW1lcyBpbWFnZXMgKGxpa2UgYXRsYXMgaW1hZ2VzKSByZXBvcnQgYSBzaXplIG9mIHplcm8sIGNhdXNpbmcgZXJyb3JzIG9uIHdpbmRvd3MgcGhvbmUuXG4gICAgICAgIC8vIFNvIGlmIHRoZSB3aWR0aCBvciBoZWlnaHQgaXMgZXF1YWwgdG8gemVybyB0aGVuIHVzZSB0aGUgY2FudmFzIHNpemVcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB3aGF0ZXZlciBpcyBzbWFsbGVyLCB0aGUgaW1hZ2UgZGltZW5zaW9ucyBvciB0aGUgY2FudmFzIGRpbWVuc2lvbnMuXG4gICAgICAgIHZhciBpbWFnZVdpZHRoID0gaW1hZ2Uud2lkdGggPT09IDAgPyBwcmVwYXJlLmNhbnZhcy53aWR0aCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLndpZHRoLCBpbWFnZS53aWR0aCk7XG4gICAgICAgIHZhciBpbWFnZUhlaWdodCA9IGltYWdlLmhlaWdodCA9PT0gMCA/IHByZXBhcmUuY2FudmFzLmhlaWdodCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLmhlaWdodCwgaW1hZ2UuaGVpZ2h0KTtcblxuICAgICAgICAvLyBPbmx5IGEgc21hbGwgc3Vic2VjdGlvbnMgaXMgcmVxdWlyZWQgdG8gYmUgZHJhd24gdG8gaGF2ZSB0aGUgd2hvbGUgdGV4dHVyZSB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAgICAgIC8vIEEgc21hbGxlciBkcmF3IGNhbiBiZSBmYXN0ZXIuXG4gICAgICAgIHByZXBhcmUuY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQsIDAsIDAsIHByZXBhcmUuY2FudmFzLndpZHRoLCBwcmVwYXJlLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIENhbnZhc1ByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUHJlcGFyZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhNaWxsaXNlY29uZHMgLSBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZUxpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgKi9cblxuXG4gIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuXG5cbiAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uIGFsbG93ZWRUb1VwbG9hZCgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICB9O1xuXG4gIHJldHVybiBUaW1lTGltaXRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGltZUxpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lTGltaXRlci5qcy5tYXAiLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL2VudGl0eVwiO1xyXG5pbXBvcnQgeyByZW5kZXJTeXN0ZW0gfSBmcm9tIFwiLi9yZW5kZXJzeXN0ZW1cIjtcclxuXHJcbi8qKlxyXG4gKiBHYW1lU3RhdGUgdGhhdCBoYW5kbGVzIHVwZGF0aW5nIG9mIGFsbCBnYW1lLXJlbGF0ZWQgc3lzdGVtcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7XHJcbiAgICBwdWJsaWMgZW50aXRpZXM6IEVudGl0eVtdO1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdXBkYXRlKHN0YXRlU3RhY2s6IFN0YXRlW10sIGFwcDogUElYSS5BcHBsaWNhdGlvbikge1xyXG4gICAgICAgIC8vIHB1bGwgaW4gYWxsIHN5c3RlbSBmcmVlIGZ1bmN0aW9ucyBhbmQgY2FsbCBlYWNoIGluIHRoZSBwcm9wZXIgb3JkZXJcclxuICAgICAgICByZW5kZXJTeXN0ZW0oYXBwLCB0aGlzLmVudGl0aWVzKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL2VudGl0eVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclN5c3RlbShhcHA6IFBJWEkuQXBwbGljYXRpb24sIGVudHM6IFJlYWRvbmx5PEVudGl0eT5bXSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGVudHNbaV0uc3ByaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gcmVuZGVyLi4uXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgXHJcbiAgICAgQ29udHJvbGxhYmxlQ29tcG9uZW50LFxyXG4gICAgIEhpdEJveENvbXBvbmVudCxcclxuICAgICBIdXJ0Qm94Q29tcG9uZW50LFxyXG59IGZyb20gXCIuL2NvcmVjb21wb25lbnRzXCI7XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gcmVwcmVzZW50IGFuIGVudGl0eSBpbiB0aGUgZ2FtZS4gTm8gY29uc3RydWN0b3IgYXMgYW4gZW50aXR5IGNhblxyXG4gKiBjb21wcmlzZSBvZiBhcyBtYW55IG9yIGFzIGxpdHRsZSBvZiB0aGUgcHJvcGVydGllcyBsaXN0ZWQgaGVyZS4gRWFjaCBjb21wb25lbnRcclxuICogc2hvdWxkIGhhdmUgYSBjb3JyZXNwb25kaW5nIHN5c3RlbSB0aGF0IGhhbmRsZXMgdGhlIGdhbWUgbG9naWMgbmVlZGVkIHRvIHVwZGF0ZVxyXG4gKiB0aGUgcHJvcGVydGllcyB3aXRoaW4gdGhlIGNvbXBvbmVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG4gICAgIHB1YmxpYyBzcHJpdGU6IFBJWEkuU3ByaXRlO1xyXG4gICAgIHB1YmxpYyBjb250cm9sOiBDb250cm9sbGFibGVDb21wb25lbnQ7XHJcbiAgICAgcHVibGljIGhpdEJveDogSGl0Qm94Q29tcG9uZW50O1xyXG4gICAgIHB1YmxpYyBodXJ0Qm94OiBIdXJ0Qm94Q29tcG9uZW50O1xyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vZ2FtZXN0YXRlXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcclxuaW1wb3J0IHsgbGFzdCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcclxuaW1wb3J0ICogYXMgUElYSSBmcm9tIFwicGl4aS5qc1wiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcclxuXHJcbi8vIFRPRE86IEFkZCB1bml0IHRlc3RzLlxyXG4vLyBUT0RPOiBBZGQgc3lzdGVtcyBmb3IgY3VycmVudCBjb3JlIGNvbXBvbmVudHMuXHJcbi8vIFRPRE86IFB1bGwgaW4gUGl4aUpTLlxyXG4vLyBUT0RPOiBXcml0ZSBhbmltYXRpb24gZW5naW5lLlxyXG4vLyBUT0RPOiBXcml0ZSB2aXJ0dWFsIERPTSBmcmFtZXdvcmsgZm9yIFVJIGNvbXBvbmVudHMuXHJcbi8vIFRPRE86IENyZWF0ZSBsZXZlbCBlZGl0b3IuXHJcblxyXG5mdW5jdGlvbiBzZXRFdmVudExpc3RlbmVycyhhcHA6IFBJWEkuQXBwbGljYXRpb24pIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGFwcC5yZW5kZXJlci5yZXNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0gY2FudmFzIENhcHR1cmVkIENhbnZhcyBFbGVtZW50XHJcbiAqIFxyXG4gKiBNYWluIGZ1bmN0aW9uIHRoYXQgZ2V0cyBpbW1lZGlhdGVseSBpbnZva2VkLlxyXG4gKiBPbmx5IGRlcGVuZGVjeSBpcyB0aGUgY2FudmFzIGVsZW1lbnQuIEFsc28gdHJpZ2dlcnMgdGhlIGV2ZW50IHB1bXAuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWluKGNhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgIC8vIGluaXRpYWxpemUgc3RhdGUgc3RhY2tcclxuICAgIGxldCBzdGF0ZVN0YWNrOiBTdGF0ZVtdID0gW107XHJcbiAgICAvLyBpbiB0aGlzIGV4YW1wbGUgcHVzaCBHYW1lU3RhdGUgb250byBzdGFja1xyXG4gICAgLy8gYnV0IHNob3VsZCBwcm9iYWJseSBwdXNoIGxpa2UgYSBcIk1haW5NZW51U3RhdGVcIiBvbnRvIHN0YWNrXHJcbiAgICAvLyB3aGljaCB3b3VsZCBpbml0aWFsaXplIGFuZCBwdXNoIEdhbWVTdGF0ZSB3aXRoaW4gaXQncyBvd24gdXBkYXRlIG1ldGhvZFxyXG4gICAgbGV0IGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuICAgIHN0YXRlU3RhY2sucHVzaChnYW1lU3RhdGUpO1xyXG5cclxuICAgIC8vIHNldCB1cCBjYW52YXMgLSBuZWVkIHRvIGFkZCByZXNpemUgZXZlbnQgd2hlbiBjaGFuZ2luZyB0aGUgc2l6ZSBvZiB0aGUgd2luZG93XHJcbiAgICBsZXQgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oe3dpZHRoOiAxMjgwLCBoZWlnaHQ6IDcyMH0pO1xyXG5cclxuICAgIGFwcC5yZW5kZXJlci52aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgYXBwLnJlbmRlcmVyLnZpZXcuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGFwcC5yZW5kZXJlci5hdXRvUmVzaXplID0gdHJ1ZTtcclxuICAgIGFwcC5yZW5kZXJlci5yZXNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xyXG5cclxuICAgIC8vIHRlc3QgZW50aXR5OlxyXG4gICAgbGV0IGVudCA9IG5ldyBFbnRpdHkoKTtcclxuXHJcbiAgICBQSVhJLmxvYWRlclxyXG4gICAgICAgIC5hZGQoXCJkYXRhL3RleHR1cmVzL3NoaXAucG5nXCIpXHJcbiAgICAgICAgLmxvYWQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVudC5zcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoXHJcbiAgICAgICAgICAgICAgICBQSVhJLmxvYWRlci5yZXNvdXJjZXNbXCJkYXRhL3RleHR1cmVzL3NoaXAucG5nXCJdLnRleHR1cmVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZW50LnNwcml0ZS54ID0gNTA7XHJcbiAgICAgICAgICAgIGVudC5zcHJpdGUueSA9IDUwO1xyXG4gICAgICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoZW50LnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmVudGl0aWVzLnB1c2goZW50KTtcclxuICAgIGNvbnNvbGUubG9nKGVudCk7XHJcbiAgICAvLyBlbmQgdGVzdCBlbnQgY29kZVxyXG5cclxuICAgIC8vIHNldCB1cCBldmVudCBsaXN0ZW5lcnNcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGFwcCk7XHJcblxyXG4gICAgLy8gRXZlbnQgcHVtcCAtIHNldCBhdCBhYm91dCA2MGZwc1xyXG4gICAgLy8gQ09OU0lERVI6IFVzaW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZSBmb3IgcmVuZGVyaW5nXHJcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHN0YXRlU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvLyBjYWxsIHVwZGF0ZSBvbiBsYXN0IGVsZW1lbnQgaW4gc3RhdGUgc3RhY2tcclxuICAgICAgICAgICAgbGFzdChzdGF0ZVN0YWNrKS51cGRhdGUoc3RhdGVTdGFjaywgYXBwKTtcclxuICAgICAgICAgICAgZW50LnNwcml0ZS54Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBcIk5vIHN0YXRlcyB0byB1cGRhdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9LCAxNik7XHJcbn1cclxuXHJcbm1haW4oPEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldHRlcmJveFwiKSk7IiwiLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0gYXJyYXkgZ2VuZXJpYyBhcnJheVxyXG4gKiBcclxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBhcnJheS5cclxuICogUmV0dXJucyBgYHVuZGVmaW5lZGBgIGlmIHRoZSBhcnJheSdzIGxlbmd0aCBpcyB6ZXJvLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VD4oYXJyYXk6IFRbXSkgOiBUIHtcclxuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=